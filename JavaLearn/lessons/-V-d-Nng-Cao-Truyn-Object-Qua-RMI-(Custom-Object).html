<html><head><title>ğŸ“Œ VÃ­ dá»¥ NÃ¢ng Cao: Truyá»n Object Qua RMI (Custom Object)</title></head><body><h1>ğŸ“Œ VÃ­ dá»¥ NÃ¢ng Cao: Truyá»n Object Qua RMI (Custom Object)</h1><pre>
		NgoÃ i kiá»ƒu dá»¯ liá»‡u cÆ¡ báº£n, ta cÃ³ thá»ƒ gá»­i Object tá»± Ä‘á»‹nh nghÄ©a qua RMI.
		!!! Báº¥t ká»³ trÆ°á»ng há»£p nÃ o cÅ©ng tháº¿, khi xá»­ lÃ½ chuyá»ƒn object thÃ nh stream thÃ¬ pháº£i implement Serializable 
		
		
	
		## BÆ°á»›c 1: Äá»‹nh nghÄ©a Object truyá»n qua máº¡ng 
		
				import java.io.Serializable;
			
				public class AIModel implements Serializable {
					private static final long serialVersionUID = 1L;
					private String name;
					private double accuracy;
				
					public AIModel(String name, double accuracy) {
						this.name = name;
						this.accuracy = accuracy;
					}
				
					@Override
					public String toString() {
						return "AIModel{name='" + name + "', accuracy=" + accuracy + "}";
					}
				}
					
	
	
			## ğŸ“Œ LÆ°u Ã½:
				âœ… implements Serializable â†’ Báº¯t buá»™c Ä‘á»ƒ Marshalling/Unmarshalling Object.
				âœ… serialVersionUID â†’ Äáº£m báº£o tÆ°Æ¡ng thÃ­ch giá»¯a cÃ¡c phiÃªn báº£n class.
	
	
	
		## BÆ°á»›c 2: Truyá»n Object qua RMI 
			
		ğŸ“ŒCáº­p nháº­t Remote Interface
	
			public interface AIService extends Remote {
				AIModel getModelInfo() throws RemoteException;
			}

	
		ğŸ“ŒCáº­p nháº­t Server 
		
			public class AIServiceImpl extends UnicastRemoteObject implements AIService {
				protected AIServiceImpl() throws RemoteException {
					super();
				}
			
				@Override
				public AIModel getModelInfo() {
					return new AIModel("GPT-4", 99.5);
				}
			}

	
	
		ğŸ“Œ Client Nháº­n Object 
			public class Client {
				public static void main(String[] args) {
					try {
						Registry registry = LocateRegistry.getRegistry("localhost", 1099);
						AIService service = (AIService) registry.lookup("AIService");
			
						AIModel model = service.getModelInfo();
						System.out.println("Received Model: " + model);
					} catch (Exception e) {
						e.printStackTrace();
					}
				}
			}

		
		
		###ğŸ“Œ QuÃ¡ trÃ¬nh Marshalling & Unmarshalling:
			âœ… Object AIModel Ä‘Æ°á»£c serialize (Marshalling) trÃªn Server.
			âœ… Client nháº­n dá»¯ liá»‡u, Unmarshalling thÃ nh Object AIModel.
				
	
//==========Lession 47 == CÃ¡c ká»¹ thuáº­t Java RMI nÃ¢ng cao ==========//
 
//------------------âœ… Giao tiáº¿p giá»¯a cÃ¡c mÃ¡y khÃ¡c nhau trong máº¡ng
	# KhÃ¡i niá»‡m 
		Java RMI cho phÃ©p cÃ¡c Ä‘á»‘i tÆ°á»£ng Java cháº¡y trÃªn mÃ¡y nÃ y cÃ³ thá»ƒ gá»i phÆ°Æ¡ng thá»©c trÃªn Ä‘á»‘i tÆ°á»£ng cháº¡y á»Ÿ mÃ¡y khÃ¡c nhÆ° thá»ƒ chÃºng Ä‘ang gá»i phÆ°Æ¡ng thá»©c cá»¥c bá»™. Äiá»u nÃ y thá»±c hiá»‡n Ä‘Æ°á»£c nhá» stub(client) vÃ  skeleton (server)
		
			âœ… CÃ¡c thÃ nh pháº§n chÃ­nh trong RMI:
			Remote Interface: Äá»‹nh nghÄ©a cÃ¡c phÆ°Æ¡ng thá»©c mÃ  client cÃ³ thá»ƒ gá»i tá»« xa.
			Remote Object (Implementation): Cung cáº¥p pháº§n triá»ƒn khai cá»§a remote interface.
			Stub & Skeleton: Stub lÃ  proxy trÃªn client, cÃ²n Skeleton (trÆ°á»›c Java 5) nháº­n yÃªu cáº§u tá»« stub, gá»i hÃ m vÃ  gá»­i káº¿t quáº£ vá».
			RMI Registry: CÆ¡ sá»Ÿ dá»¯ liá»‡u lÆ°u trá»¯ cÃ¡c remote object Ä‘Ã£ Ä‘Äƒng kÃ½.
			RMI Transport: Lá»›p trá»«u tÆ°á»£ng xá»­ lÃ½ truyá»n dá»¯ liá»‡u giá»¯a client vÃ  server.
			
			âœ… CÃ¡ch giao tiáº¿p giá»¯a hai mÃ¡y:
			Server khá»Ÿi Ä‘á»™ng: ÄÄƒng kÃ½ remote object vá»›i RMI Registry.
			Client tra cá»©u (lookup) remote object tá»« Registry.
			Stub trÃªn client gá»­i yÃªu cáº§u tá»›i remote object trÃªn server.
			Server thá»±c hiá»‡n phÆ°Æ¡ng thá»©c vÃ  tráº£ káº¿t quáº£ vá» client.
			
			
			
	# VÃ­ dá»¥ giao tiáº¿p qua máº¡ng 
		// Remote Interface
					import java.rmi.*;
					
					public interface RemoteInterface extends Remote {
						String sayHello() throws RemoteException;
					}
					
					// Server Implementation
					import java.rmi.*;
					import java.rmi.server.*;
					
					public class RemoteImpl extends UnicastRemoteObject implements RemoteInterface {
						protected RemoteImpl() throws RemoteException {
							super();
						}
					
						public String sayHello() {
							return "Hello from Server!";
						}
					
						public static void main(String[] args) {
							try {
								RemoteImpl obj = new RemoteImpl();
								Naming.rebind("rmi://localhost/HelloServer", obj);
								System.out.println("Server is ready.");
							} catch (Exception e) {
								e.printStackTrace();
							}
						}
					}
					
					// Client
					import java.rmi.*;
					
					public class RMIClient {
						public static void main(String[] args) {
							try {
								RemoteInterface obj = (RemoteInterface) Naming.lookup("rmi://localhost/HelloServer");
								System.out.println(obj.sayHello());
							} catch (Exception e) {
								e.printStackTrace();
							}
						}
					}


</pre></body></html>