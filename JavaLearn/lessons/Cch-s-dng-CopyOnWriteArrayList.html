<html><head><title>C√°ch s·ª≠ d·ª•ng CopyOnWriteArrayList</title></head><body><h1>C√°ch s·ª≠ d·ª•ng CopyOnWriteArrayList</h1><pre>	
	## V√≠ d·ª• 1 : DUy·ªát qua danh s√°ch m√† kh√¥ng b·ªã ConcurrentModificationException 
		
	import java.util.concurrent.CopyOnWriteArrayList;

		public class CopyOnWriteArrayListExample {
			public static void main(String[] args) {
				CopyOnWriteArrayList<String> list = new CopyOnWriteArrayList<>();
				list.add("Java");
				list.add("Python");
				list.add("C++");
		
				// Duy·ªát danh s√°ch b·∫±ng Iterator m√† kh√¥ng g·∫∑p ConcurrentModificationException
				for (String lang : list) {
					System.out.println(lang);
					list.add("JavaScript");  // Kh√¥ng l·ªói ConcurrentModificationException
				}
		
				System.out.println("Final list: " + list);
			}
		}

		Khi for-each duy·ªát danh s√°ch, CopyOnWriteArrayList s·ª≠ d·ª•ng m·ªôt b·∫£n sao c·ªë ƒë·ªãnh, v√¨ v·∫≠y n√≥ kh√¥ng b·ªã l·ªói ConcurrentModificationException, m·∫∑c d√π ch√∫ng ta ƒëang th√™m ph·∫ßn t·ª≠ m·ªõi trong khi duy·ªát.
		
		
	## V√≠ d·ª• 2: So s√°nh 	 CopyOnWriteArrayList v·ªõi ArrayList trong m√¥i tr∆∞·ªùng ƒëa lu·ªìng 
		N·∫øu d√πng ArrayList trong m√¥i tr∆∞·ªùng ƒëa lu·ªìng m√† kh√¥ng c√≥ ƒë·ªìng b·ªô h√≥a, s·∫Ω c√≥ th·ªÉ x·∫£y ra l·ªói ConcurrentModificationException 
		
			import java.util.ArrayList;
			import java.util.List;
			
			public class ArrayListMultiThreading {
				public static void main(String[] args) {
					List<Integer> list = new ArrayList<>();
					list.add(1);
					list.add(2);
					list.add(3);
			
					Thread thread1 = new Thread(() -> {
						for (int num : list) {
							System.out.println(num);
							list.add(4); // L·ªói ConcurrentModificationException
						}
					});
			
					thread1.start();
				}
			}

	
	## V√≠ d·ª• 3: S·ª≠ d·ª•ng CopyOnWriteArrayList trong m√¥i tr∆∞·ªùng ƒëa lu·ªìng (Kh√¥ng L·ªói)
		import java.util.concurrent.CopyOnWriteArrayList;
	
		public class CopyOnWriteArrayListMultiThreading {
			public static void main(String[] args) {
				CopyOnWriteArrayList<Integer> list = new CopyOnWriteArrayList<>();
				list.add(1);
				list.add(2);
				list.add(3);
		
				Thread thread1 = new Thread(() -> {
					for (int num : list) {
						System.out.println(num);
						list.add(4);  // Kh√¥ng l·ªói
					}
				});
		
				thread1.start();
			}
		}
	
		
		‚úÖ Kh√¥ng b·ªã l·ªói ConcurrentModificationException
üí° L√Ω do: V√¨ CopyOnWriteArrayList t·∫°o m·ªôt b·∫£n sao m·ªõi khi c√≥ thao t√°c ghi (write), n√™n Iterator v·∫´n duy·ªát danh s√°ch c≈© m√† kh√¥ng b·ªã l·ªói.


</pre></body></html>