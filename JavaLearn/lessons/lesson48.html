<html><head><title>Lession 48  gRPC //</title><style>body { font-family: Arial, sans-serif; transition: background 0.3s, color 0.3s; }.dark-mode { background-color: #121212; color: #e0e0e0; }.light-mode { background-color: #ffffff; color: #333333; }h1 { text-align: center; color: #73d9f5; }pre { padding: 15px; border-radius: 5px; white-space: pre-wrap; transition: background 0.3s, color 0.3s; }.dark-mode pre { background: #1e1e1e; color: #e0e0e0; }.light-mode pre { background: #f5f5f5; color: #333333; }#backTop, #backBottom {    font-size: 2em; padding: 20px 40px;    background: #bb86fc; color: white; text-decoration: none;    border-radius: 10px; display: inline-block; text-align: center; }#backTop:hover, #backBottom:hover { background: #9b67e2; }button { font-size: 1.5em; padding: 15px 30px;    background: #03dac6; color: #121212; border: none;    cursor: pointer; border-radius: 5px; display: block; margin: 10px auto; }button:hover { background: #02b8a3; }.dark-mode a { color: #03dac6; } .light-mode a { color: #007bff; }</style></head><body onload='applyTheme(); checkPageHeight()'><div class='container'><a id='backTop' href='../java-learning-list.html'>üîô Quay l·∫°i danh s√°ch</a><br><h1>Lession 48  gRPC //</h1><pre>	# Kh√°i ni·ªám 
		gRPC l√† m·ªôt framework giao ti·∫øp t·ª´ xa (RPC) m√£ ngu·ªìn m·ªü do Google ph√°t tri·ªÉn. N√≥ t·∫≠n d·ª•ng HTTP/2 v√† Protocol Bufers ƒë·ªÉ t·∫°o n√™n m·ªôt h·ªá th·ªëng giao ti·∫øp nhanh, nh·∫π v√† hi·ªáu qu·∫£, ƒë·∫∑c bi·ªát ph√π h·ª£p v·ªõi c√°c h·ªá th·ªëng microservices v√† ·ª©ng d·ª•ng ƒëa ng√¥n ng·ªØ. D∆∞·ªõi ƒë√¢y l√† c√°i nh√¨n chi ti·∫øt t·ª´ c∆° b·∫£n ƒë·∫øn n√¢ng cao v·ªÅ gRPC 
		
		## ƒê·ªãnh nghƒ©a 
		gRPC (g Remote Procedure Call) l√† m·ªôt framework RPC gi√∫p b·∫°n g·ªçi c√°c h√†m t·ª´ xa nh∆∞ th·ªÉ ch√∫ng l√† h√†m c·ª•c b·ªô. N√≥ s·ª≠ d·ª•ng HTTP/2 l√†m giao th·ª©c v√† truy·ªÅn t·∫£i v√† Protocol Buffer(protobuf) l√†m ng√¥n ng·ªØ ƒë·ªãnh nghƒ©a d·ªØ li·ªáu 
		 
		## ƒê·∫∑c ƒëi·ªÉm n·ªïi b·∫≠t  
			- HI·ªáu nƒÉng cao : S·ª≠ d·ª•ng HTTP/2 v·ªõi kh·∫£ nƒÉng multiplexing, gi·∫£m ƒë·ªô tr·ªÖ v√† tƒÉng hi·ªáu nƒÉng. 
			
			- T∆Ø∆°ng t√°c ƒëa ng√¥n ng·ªØ : H·ªó tr·ª£ nhi·ªÅu ng√¥n ng·ªØ l·∫≠p tr√¨nh (Java , C++ , Python, Go, ... )
			
			- Giao ti·∫øp theo m√¥ h√¨nh RPC : Gi√∫p g·ªçi h√†m t·ª´ xa nh∆∞ c√°c h√†m n·ªôi b·ªô, gi·∫£m ph·ª©c t·∫°p c·ªßa giao ti·∫øp m·∫°ng 
			
			- H·ªó tr·ª£ Streaming : C√≥ 4 ki·ªÉu giao ti·∫øp : Unary (m·ªôt-m·ªôt), Server streaming , Client streaming , Bidirectional streaming 
			
			
	
	# Ki·∫øn tr√∫c v√† c√°ch th·ª©c ho·∫°t ƒë·ªông c·ªßa gRPC 
		
		## C·∫•u tr√∫c c∆° b·∫£n : 
		
			### B∆∞·ªõc 1 : Service Definition 
				B·∫°n ƒë·ªãnh nghƒ©a d·ªãch v·ª• v√† c√°c ph∆∞∆°ng th·ª©c b·∫±ng ng√¥n ng·ªØ ƒë·ªãnh nghƒ©a giao di·ªán (IDL) c·ªßa Protocol Bufer trong file .proto 
				
					syntax = "proto3";

					service Greeter {
						rpc SayHello (HelloRequest) returns (HelloResponse);
					}
					
					message HelloRequest {
						string name = 1;
					}
					
					message HelloResponse {
						string message = 1;
					}

		
			### B∆∞·ªõc 2 : Code Generation 
				D·ª±a v√†o file .proto, c√¥ng c·ª• protoc s·∫Ω t·∫°o ra c√°c l·ªõp stub cho c·∫£ client v√† server 
				
			
			## B∆∞·ªõc 3 :  Client & Server 
				- Client : S·ª≠ d·ª•ng stub ƒë√£ t·∫°o ra ƒë·ªÉ g·ªçi c√°c ph∆∞∆°ng th·ª©c c·ªßa d·ªãch v·ª• nh∆∞ g·ªçi h√†m n·ªôi b·ªô 
				- Server : Tri·ªÉn khai c√°c ph∆∞∆°ng th·ª©c ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a trong file .proto v√† ƒëƒÉng k√Ω d·ªãch v·ª• tr√™n server 
				

		
		## C√°c ki·ªÉu RPC trong gRPC 
			
			### Unary RPC 
				Client g·ª≠i m·ªôt y√™u c·∫ßu v√† nh·∫≠n l·∫°i m·ªôt ph·∫£n h·ªìi duy nh·∫•t 
				
			### Server Streaming RPC 
				Client g·ª≠i m·ªôt y√™u c·∫ßu, server tr·∫£ v·ªÅ m·ªôt lu·ªìng c√°c ph·∫£n h·ªìi 
				
			### Client Streaming RPC : 
				Client g·ª≠i m·ªôt lu·ªìng y√™u c·∫ßu, server tr·∫£ v·ªÅ m·ªôt ph·∫£n h·ªìi duy nh·∫•t sau khi nh·∫≠n ƒë·ªß d·ªØ li·ªáu 
				
			### Bidirectional Streaming RPC 
				C·∫£ Client v√† server ƒë·ªÅu g·ª≠i lu·ªìng d·ªØ li·ªáu ƒë·ªôc l·∫≠p, giao ti·∫øp song song 
		
		
		
		
	# C√°ch tri·ªÉn khai gRPC 

		## B∆∞·ªõc 1 : ƒê·ªãnh nghƒ©a d·ªãch v·ª• (Service Definition )
			T·∫°o file greeter.proto nh∆∞ v√≠ d·ª• ·ªü ph·∫ßn tr√™n 
			S·ª≠ d·ª•ng protoc ƒë·ªÉ sinh m√£ cho ng√¥n ng·ªØ b·∫°n c·∫ßn 
			
					protoc --java_out=. --grpc-java_out=. greeter.proto

			
			
		
		## B∆∞·ªõc 2 : Tri·ªÉn khai server 
			C√†i ƒë·∫∑t c√°c ph∆∞∆°ng th·ª©c theo file.proto ƒë√£ ƒë·ªãnh nghƒ©a 
			V√≠ d·ª• Server tri·ªÉn khai trong Java : 
				import io.grpc.Server;
				import io.grpc.ServerBuilder;
				import io.grpc.stub.StreamObserver;
				
				public class GreeterServer {
					public static void main(String[] args) throws Exception {
						Server server = ServerBuilder.forPort(50051)
							.addService(new GreeterImpl())
							.build()
							.start();
						System.out.println("Server started on port 50051");
						server.awaitTermination();
					}
				
					static class GreeterImpl extends GreeterGrpc.GreeterImplBase {
						@Override
						public void sayHello(HelloRequest req, StreamObserver<HelloResponse> responseObserver) {
							String greeting = "Hello, " + req.getName();
							HelloResponse reply = HelloResponse.newBuilder().setMessage(greeting).build();
							responseObserver.onNext(reply);
							responseObserver.onCompleted();
						}
					}
				}

		
		
		
		## B∆∞·ªõc 3 : Tri·ªÉn khai Client 
			S·ª≠ d·ª•ng Stub ƒë·ªÉ g·ªçi d·ªãch v·ª• 
				import io.grpc.ManagedChannel;
				import io.grpc.ManagedChannelBuilder;
				
				public class GreeterClient {
					public static void main(String[] args) {
						ManagedChannel channel = ManagedChannelBuilder.forAddress("localhost", 50051)
							.usePlaintext()
							.build();
						GreeterGrpc.GreeterBlockingStub stub = GreeterGrpc.newBlockingStub(channel);
						
						HelloRequest request = HelloRequest.newBuilder().setName("Alice").build();
						HelloResponse response = stub.sayHello(request);
						System.out.println("Greeting: " + response.getMessage());
						
						channel.shutdown();
					}
				}
				
						
		
	
	# T√≠nh nƒÉng n√¢ng cao c·ªßa gRPC 
		
		## Interceptors 
			ƒê·ªãnh nghƒ©a: C√°c interceptor cho ph√©p b·∫°n ch·∫∑n v√† x·ª≠ l√Ω c√°c y√™u c·∫ßu ho·∫∑c ph·∫£n h·ªìi, h·ªØu √≠ch ƒë·ªÉ th√™m logging, authentication hay x·ª≠ l√Ω l·ªói.
			
			·ª®ng d·ª•ng: Th√™m v√†o pipeline x·ª≠ l√Ω y√™u c·∫ßu tr√™n server ho·∫∑c client.
		
		

		## Deadlines v√† Timeouts 
			ƒê·ªãnh nghƒ©a: Cho ph√©p b·∫°n ƒë·∫∑t th·ªùi gian t·ªëi ƒëa cho m·ªói RPC ƒë·ªÉ tr√°nh ch·ªù ƒë·ª£i v√¥ h·∫°n.

			C√°ch s·ª≠ d·ª•ng: 
				HelloResponse response = stub.withDeadlineAfter(3, TimeUnit.SECONDS)
					.sayHello(request);




		## Streaming n√¢ng cao 
			Server Streaming : X·ª≠ l√Ω c√°c ph·∫£n h·ªìi d∆∞·ªõi d·∫°ng lu·ªìng, ph√π h·ª£p v·ªõi vi·ªác truy·ªÅn d·ªØ li·ªáu l·ªõn 
			
			Client Streaming v√† Bidirectional Streaming : T·ªëi ∆∞u h√≥a giao ti·∫øp khi c·∫ßn g·ª≠i/nh·∫≠n li√™n t·ª•c d·ªØ li·ªáu theo lu·ªìng .
			
			
		## B·∫£o m·∫≠t (Security ) 
			TLS : gRPC h·ªó tr·ª£ t√≠ch h·ª£p b·∫£o m·∫≠t b·∫±ng TLS, ƒë·∫£m b·∫£o d·ªØ li·ªáu truy·ªÅn ƒëi ƒë∆∞·ª£c m√£ h√≥a 
			
			Authentication : C√≥ th·ªÉ k·∫øt h·ª£p v·ªõi c√°c c∆° ch·∫ø x√°c th·ª±c nh∆∞ OAuth2 ƒë·ªÉ b·∫£o v·ªá c√°c d·ªãch v·ª• 
			
			
		## Load Balancing v√† Service Discovery 
			gRPC c√≥ th·ªÉ l√†m vi·ªác c√πng v·ªõi c√°c h·ªá th·ªëng load balancing, service registry ƒë·ªÉ h·ªó tr·ª£ m√¥i tr∆∞·ªùng microservices quy m√¥ l·ªõn. 
			
			
			
# ∆Øu v√† nh∆∞·ª£c ƒëi·ªÉm c·ªßa gRPC 
	## ∆Øu ƒëi·ªÉm 
	
		Hi·ªáu nƒÉng cao: Nh·ªù s·ª≠ d·ª•ng HTTP/2 v√† d·ªØ li·ªáu nh·ªã ph√¢n c·ªßa Protocol Buffers.
		
		ƒêa ng√¥n ng·ªØ: H·ªó tr·ª£ giao ti·∫øp gi·ªØa c√°c d·ªãch v·ª• vi·∫øt b·∫±ng nhi·ªÅu ng√¥n ng·ªØ kh√°c nhau.
		
		T√≠ch h·ª£p streaming: H·ªó tr·ª£ giao ti·∫øp theo lu·ªìng, th√≠ch h·ª£p cho c√°c ·ª©ng d·ª•ng th·ªùi gian th·ª±c.
		
		B·∫£o m·∫≠t v√† qu·∫£n l√Ω l·ªói: H·ªó tr·ª£ deadlines, interceptors, v√† TLS.
	
	
	## Nh∆∞·ª£c ƒëi·ªÉm 

			
			ƒê·ªô ph·ª©c t·∫°p ban ƒë·∫ßu: C·∫•u h√¨nh v√† tri·ªÉn khai ban ƒë·∫ßu ph·ª©c t·∫°p h∆°n so v·ªõi REST.
			
			Kh√¥ng th√¢n thi·ªán v·ªõi tr√¨nh duy·ªát: gRPC truy·ªÅn th·ªëng kh√¥ng l√†m vi·ªác tr·ª±c ti·∫øp tr√™n tr√¨nh duy·ªát (tr·ª´ khi d√πng gRPC-Web).
			
			Y√™u c·∫ßu h·ªçc Protocol Buffers: C·∫ßn l√†m quen v·ªõi ng√¥n ng·ªØ ƒë·ªãnh nghƒ©a d·ªØ li·ªáu m·ªõi.



# ·ª®ng d·ª•ng c·ªßa gRPC trong th·ª±c t·∫ø 
		Microservices: gRPC l√† l·ª±a ch·ªçn l√Ω t∆∞·ªüng cho giao ti·∫øp gi·ªØa c√°c d·ªãch v·ª• trong ki·∫øn tr√∫c microservices nh·ªù hi·ªáu nƒÉng v√† kh·∫£ nƒÉng m·ªü r·ªông.
		
		H·ªá th·ªëng ph√¢n t√°n: C√°c h·ªá th·ªëng c·∫ßn giao ti·∫øp nhanh v√† ƒë√°ng tin c·∫≠y, ch·∫≥ng h·∫°n nh∆∞ h·ªá th·ªëng AI, machine learning pipeline. 
		
		·ª®ng d·ª•ng th·ªùi gian th·ª±c: C√°c ·ª©ng d·ª•ng c·∫ßn truy·ªÅn d·ªØ li·ªáu streaming (video, chat, telemetry) s·ª≠ d·ª•ng gRPC ƒë·ªÉ gi·∫£m ƒë·ªô tr·ªÖ v√† tƒÉng bƒÉng th√¥ng.


		gRPC l√† m·ªôt framework m·∫°nh m·∫Ω v√† linh ho·∫°t: Kh√¥ng ch·ªâ h·ªó tr·ª£ giao ti·∫øp RPC truy·ªÅn th·ªëng m√† c√≤n t√≠ch h·ª£p c√°c t√≠nh nƒÉng n√¢ng cao nh∆∞ streaming, interceptors, deadlines v√† b·∫£o m·∫≠t.
		·ª®ng d·ª•ng trong th·ªùi ƒë·∫°i ƒëa ng√¥n ng·ªØ v√† microservices: gRPC th·ª±c s·ª± t·ªèa s√°ng khi c·∫ßn x√¢y d·ª±ng c√°c h·ªá th·ªëng ph√¢n t√°n hi·ªáu nƒÉng cao, b·∫£o m·∫≠t v√† m·ªü r·ªông.
		T∆∞ duy v√† c√°ch tri·ªÉn khai chuy√™n s√¢u: Khi thi Java Gold hay x√¢y d·ª±ng d·ª± √°n th·ª±c t·∫ø, hi·ªÉu r√µ gRPC s·∫Ω gi√∫p b·∫°n ch·ªçn l·ª±a c√¥ng ngh·ªá ph√π h·ª£p v·ªõi y√™u c·∫ßu c·ªßa d·ª± √°n v√† t·ªëi ∆∞u h√≥a giao ti·∫øp gi·ªØa c√°c th√†nh ph·∫ßn.
		
		
		
</pre><a id='backBottom' href='../java-learning-list.html' style='display:none;'>üîô Quay l·∫°i danh s√°ch</a><br><button onclick='toggleTheme()'>üåô Chuy·ªÉn giao di·ªán</button></div><script>function toggleTheme() {let mode = document.body.classList.contains('dark-mode') ? 'light-mode' : 'dark-mode';document.body.className = mode; localStorage.setItem('theme', mode);syncTheme();}function applyTheme() {let savedTheme = localStorage.getItem('theme') || 'dark-mode';document.body.className = savedTheme;syncTheme();}function syncTheme() {let preElement = document.querySelector('pre');if (document.body.classList.contains('dark-mode')) { preElement.style.background = '#1e1e1e'; preElement.style.color = '#e0e0e0'; }else { preElement.style.background = '#f5f5f5'; preElement.style.color = '#333333'; }}function checkPageHeight() {let contentHeight = document.body.scrollHeight;let windowHeight = window.innerHeight;if (contentHeight > windowHeight * 1.2) {document.getElementById('backBottom').style.display = 'block';} else {document.getElementById('backBottom').style.display = 'none';}}</script></body></html>