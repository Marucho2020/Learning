<html><head><title>Lesson 152 == Java Stream API ==========//</title><style>body { font-family: Arial, sans-serif; transition: background 0.3s, color 0.3s; }.dark-mode { background-color: #121212; color: #e0e0e0; }.light-mode { background-color: #ffffff; color: #333333; }h1 { text-align: center; color: #73d9f5; }pre { padding: 15px; border-radius: 5px;       white-space: pre-wrap; word-wrap: break-word;       overflow-x: auto; max-width: 100%;       transition: background 0.3s, color 0.3s; }.dark-mode pre { background: #1e1e1e; color: #e0e0e0; }.light-mode pre { background: #f5f5f5; color: #333333; }#backTop, #backBottom {    font-size: 2em; padding: 20px 40px;    background: #bb86fc; color: white; text-decoration: none;    border-radius: 10px; display: inline-block; text-align: center; }#backTop:hover, #backBottom:hover { background: #9b67e2; }button { font-size: 1.5em; padding: 15px 30px;    background: #03dac6; color: #121212; border: none;    cursor: pointer; border-radius: 5px; display: block; margin: 10px auto; }button:hover { background: #02b8a3; }.dark-mode a { color: #03dac6; } .light-mode a { color: #007bff; }</style></head><body onload='applyTheme(); checkPageHeight()'><div class='container'><a id='backTop' href='../java-learning-list.html'>üîô Quay l·∫°i danh s√°ch</a><br><h1>Lesson 152 -- Java Stream API -//</h1><pre>
# 1. Stream l√† g√¨?
	L√† abstraction cho x·ª≠ l√Ω d·ªØ li·ªáu tu·∫ßn t·ª± ho·∫∑c song song (parallel)
	Kh√¥ng l∆∞u tr·ªØ d·ªØ li·ªáu, kh√¥ng l√†m thay ƒë·ªïi collection g·ªëc.

# 2. Lu·ªìng x·ª≠ l√Ω c·ªßa Stream

	- Ngu·ªìn (Source): Collection, array, I/O‚Ä¶
	- Intermediate operations: filter, map, sorted, distinct (l∆∞·ªùi t√≠nh - lazy)
	- Terminal operations: collect, forEach, reduce, count (k√≠ch ho·∫°t - eager)
	
		‚Üí C·∫ßn hi·ªÉu r√µ: Stream ch·ªâ th·ª±c s·ª± ch·∫°y khi g·ªçi terminal operation.

# 3. C√°c nh√≥m h√†m quan tr·ªçng 
| Nh√≥m             | H√†m ti√™u bi·ªÉu                                        |
| ---------------- | ---------------------------------------------------- |
| Bi·∫øn ƒë·ªïi d·ªØ li·ªáu | `map()`, `flatMap()`                                 |
| L·ªçc              | `filter()`                                           |
| S·∫Øp x·∫øp          | `sorted()`, `limit()`, `skip()`                      |
| T·ªïng h·ª£p         | `collect()`, `reduce()`, `count()`, `min()`, `max()` |
| Song song        | `parallelStream()`                                   |


# 4. Collector 

	toList(), toSet(), joining(), groupingBy(), partitioningBy(), mapping()
	
	groupingBy() ƒë·∫∑c bi·ªát quan tr·ªçng cho x·ª≠ l√Ω d·ªØ li·ªáu ph√¢n nh√≥m

Map<String, List<Employee>> grouped = 
    employees.stream().collect(Collectors.groupingBy(Employee::getDepartment));


# 5. Custom Collector
	T·ª± ƒë·ªãnh nghƒ©a Collector n·∫øu mu·ªën k·∫øt h·ª£p x·ª≠ l√Ω d·ªØ li·ªáu ƒë·∫∑c bi·ªát (xem Collector.of())	


# 6. Parallel Stream

	∆Øu ƒëi·ªÉm: tƒÉng t·ªëc x·ª≠ l√Ω v·ªõi CPU ƒëa nh√¢n
	C·∫£nh b√°o: kh√¥ng an to√†n n·∫øu source kh√¥ng thread-safe ho·∫∑c operation c√≥ side effect

# III. C√°c l·ªói v√† hi·ªÉu nh·∫ßm ph·ªï bi·∫øn (anti-patterns)

| V·∫•n ƒë·ªÅ                                                      | Gi·∫£i th√≠ch                                                                    |
| ----------------------------------------------------------- | ----------------------------------------------------------------------------- |
| D√πng `stream().forEach()` ƒë·ªÉ thay `for` loop c√≥ side effect | Vi ph·∫°m nguy√™n t·∫Øc **pure function** c·ªßa Stream                               |
| G·ªçi `stream()` nhi·ªÅu l·∫ßn                                    | Stream **kh√¥ng th·ªÉ t√°i s·ª≠ d·ª•ng**, ph·∫£i t·∫°o l·∫°i                                |
| D√πng `parallelStream()` b·ª´a b√£i                             | G√¢y t·ªën t√†i nguy√™n, th·∫≠m ch√≠ **ch·∫≠m h∆°n** n·∫øu d·ªØ li·ªáu √≠t ho·∫∑c c√≥ shared state |





</pre><a id='backBottom' href='../java-learning-list.html' style='display:none;'>üîô Quay l·∫°i danh s√°ch</a><br><button onclick='toggleTheme()'>üåô Chuy·ªÉn giao di·ªán</button></div><script>function toggleTheme() {   let mode = document.body.classList.contains('dark-mode') ? 'light-mode' : 'dark-mode';   document.body.className = mode; localStorage.setItem('theme', mode);   syncTheme();}function applyTheme() {   let savedTheme = localStorage.getItem('theme') || 'dark-mode';   document.body.className = savedTheme;   syncTheme();}function syncTheme() {   let preElement = document.querySelector('pre');   if (document.body.classList.contains('dark-mode')) { preElement.style.background = '#1e1e1e'; preElement.style.color = '#e0e0e0'; }   else { preElement.style.background = '#f5f5f5'; preElement.style.color = '#333333'; }}function checkPageHeight() {   let contentHeight = document.body.scrollHeight;   let windowHeight = window.innerHeight;   if (contentHeight > windowHeight * 1.2) {       document.getElementById('backBottom').style.display = 'block';   } else {       document.getElementById('backBottom').style.display = 'none';   }}</script></body></html>