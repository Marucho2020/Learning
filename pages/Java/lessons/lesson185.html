<html><head><title>Lesson 185 == Chaining Functional Interfaces ==========//</title><style>body { font-family: Arial, sans-serif; transition: background 0.3s, color 0.3s; }.dark-mode { background-color: #121212; color: #e0e0e0; }.light-mode { background-color: #ffffff; color: #333333; }h1 { text-align: center; color: #73d9f5; }pre { padding: 15px; border-radius: 5px;       white-space: pre-wrap; word-wrap: break-word;       overflow-x: auto; max-width: 100%;       transition: background 0.3s, color 0.3s; }.dark-mode pre { background: #1e1e1e; color: #e0e0e0; }.light-mode pre { background: #f5f5f5; color: #333333; }#backTop, #backBottom {    font-size: 2em; padding: 20px 40px;    background: #bb86fc; color: white; text-decoration: none;    border-radius: 10px; display: inline-block; text-align: center; }#backTop:hover, #backBottom:hover { background: #9b67e2; }button { font-size: 1.5em; padding: 15px 30px;    background: #03dac6; color: #121212; border: none;    cursor: pointer; border-radius: 5px; display: block; margin: 10px auto; }button:hover { background: #02b8a3; }.dark-mode a { color: #03dac6; } .light-mode a { color: #007bff; }</style></head><body onload='applyTheme(); checkPageHeight()'><div class='container'><a id='backTop' href='../java-learning-list.html'>üîô Quay l·∫°i danh s√°ch</a><br><h1>Lesson 185 -- Chaining Functional Interfaces -//</h1><pre>		
# 1. Function Chaining ‚Äì T∆∞ duy Senior	
		
	andThen: ch·∫°y xu√¥i theo pipeline.
		f1.andThen(f2) = f2(f1(x)).

	compose: ch·∫°y ng∆∞·ª£c.
		f2.compose(f1) = f2(f1(x)).

	Th·ª±c ch·∫•t to√°n h·ªçc l√† gi·ªëng nhau, kh√°c bi·ªát semantic:
	compose ‚Üí ‚Äút√¥i mu·ªën √°p d·ª•ng Y nh∆∞ng tr∆∞·ªõc ti√™n chu·∫©n h√≥a X‚Äù ‚Üí h·ª£p v·ªõi low-level data transform.

	üëâ Senior-level: ch·ªçn andThen hay compose kh√¥ng ph·∫£i t√πy ti·ªán, m√† ph·ª• thu·ªôc c√°ch m√¥ t·∫£ business ƒë·ªÉ code d·ªÖ ƒë·ªçc/d·ªÖ review.


# 2. Predicate Logic Composition ‚Äì Senior-level Boolean Algebra

	and / or / negate th·ª±c ch·∫•t l√† Boolean algebra operators.
	Ta c√≥ th·ªÉ x√¢y d·ª±ng DSL rule engine b·∫±ng c√°ch chain Predicate.

	## V√≠ d·ª•: 
Predicate<Employee> hasEmail = e -> e.getEmail() != null && !e.getEmail().isBlank();
Predicate<Employee> adult = e -> e.getAge() >= 18;
Predicate<Employee> active = e -> e.isActive();

Predicate<Employee> valid = hasEmail.and(adult).and(active);

	Senior insight:
		and/or trong Predicate ng·∫Øn g·ªçn h∆°n if-else.
		C√≥ th·ªÉ t√°i s·ª≠ d·ª•ng rules ‚Üí t√°ch nh·ªè ‚Üí d·ªÖ unit test t·ª´ng rule.
		D·ªÖ plug-in th√™m rule: .and(e -> e.getSalary() > 5000).	
		
	üëâ ƒê√¢y l√† b∆∞·ªõc ƒë·∫ßu ƒë·ªÉ build rule engine, thay v√¨ nh√©t h·∫øt logic v√†o service class.


# 3. Consumer Chaining ‚Äì Qu·∫£n l√Ω Side-Effects

	Consumer l√† ki·ªÉu side-effect function: n√≥ kh√¥ng tr·∫£ v·ªÅ g√¨, ch·ªâ th·ª±c hi·ªán h√†nh ƒë·ªông.
	c1.andThen(c2) = ch·∫°y c1.accept(x) r·ªìi c2.accept(x).

Consumer<Employee> auditLog = e -> auditService.log(e);
Consumer<Employee> notify = e -> mailService.sendMail(e);

Consumer<Employee> pipeline = auditLog.andThen(notify);
pipeline.accept(employee);


	C·∫©n th·∫≠n exception propagation: n·∫øu c1 n√©m exception, c2 s·∫Ω kh√¥ng ch·∫°y. Trong enterprise c·∫ßn c√≥ c∆° ch·∫ø fallback ho·∫∑c try-catch wrapper.

	Th∆∞·ªùng d√πng trong event-driven system (log + notify + update metrics).


# 4. Enterprise Example ‚Äì Validation Chain

	## Thay v√¨ vi·∫øt m·ªôt method to ƒë√πng:
	
boolean isValid(Employee e) {
    return e.getEmail() != null 
        && e.getAge() >= 18 
        && e.isActive();
}


	## Ta t√°ch rule:	
		
Predicate<Employee> hasEmail = e -> e.getEmail() != null && !e.getEmail().isBlank();
Predicate<Employee> adult = e -> e.getAge() >= 18;
Predicate<Employee> active = Employee::isActive;

Predicate<Employee> isValid = hasEmail.and(adult).and(active);

	- T√°ch rule ‚Üí d·ªÖ reuse trong nhi·ªÅu context (v√≠ d·ª• validate tr∆∞·ªõc khi g·ª≠i mail, tr∆∞·ªõc khi ghi DB).
	- D·ªÖ m·ªü r·ªông ‚Üí ch·ªâ c·∫ßn .and(newRule).
	- D·ªÖ test unit t·ª´ng rule thay v√¨ test c·∫£ h√†m to ƒë√πng.
	- Trong enterprise, ki·ªÉu code n√†y th∆∞·ªùng wrap v√†o ValidationService ho·∫∑c Rule Engine.


# 5. Li√™n h·ªá thi Silver / Gold

	Java Silver: ƒë·ªÅ th∆∞·ªùng h·ªèi output c·ªßa function chain (andThen vs compose), ho·∫∑c predicate chain.

	Java Gold: h·ªç s·∫Ω ch∆°i b·∫´y:
	
		- Consumer c1 = ...; Consumer c2 = ...; c1.andThen(c2); nh∆∞ng qu√™n .accept(x) ‚Üí kh√¥ng ch·∫°y g√¨ c·∫£.
		- Exception trong Consumer chain ‚Üí c√≥ ch·∫°y ti·∫øp kh√¥ng? (Kh√¥ng).
		- Function chain trong Stream API: map(f1.andThen(f2)).

# 6. T·ªïng k·∫øt Senior-level


	Function chaining = data pipeline. Ch·ªçn andThen hay compose d·ª±a v√†o business semantics.
	
	Predicate chaining = boolean DSL. T√°ch nh·ªè rules, compose th√†nh rule engine.
	
	Consumer chaining = multi side-effect execution, nh∆∞ng ph·∫£i ch√∫ √Ω exception propagation.
	
	Enterprise: √°p d·ª•ng v√†o validation, logging, auditing, workflow pipeline.
	
	Thi Silver: nh·ªõ method signatures (apply, test, accept) + th·ª© t·ª± ch·∫°y.
	
	Thi Gold: th√™m context enterprise (stream, exception, reuse rules).




</pre><a id='backBottom' href='../java-learning-list.html' style='display:none;'>üîô Quay l·∫°i danh s√°ch</a><br><button onclick='toggleTheme()'>üåô Chuy·ªÉn giao di·ªán</button></div><script>function toggleTheme() {   let mode = document.body.classList.contains('dark-mode') ? 'light-mode' : 'dark-mode';   document.body.className = mode; localStorage.setItem('theme', mode);   syncTheme();}function applyTheme() {   let savedTheme = localStorage.getItem('theme') || 'dark-mode';   document.body.className = savedTheme;   syncTheme();}function syncTheme() {   let preElement = document.querySelector('pre');   if (document.body.classList.contains('dark-mode')) { preElement.style.background = '#1e1e1e'; preElement.style.color = '#e0e0e0'; }   else { preElement.style.background = '#f5f5f5'; preElement.style.color = '#333333'; }}function checkPageHeight() {   let contentHeight = document.body.scrollHeight;   let windowHeight = window.innerHeight;   if (contentHeight > windowHeight * 1.2) {       document.getElementById('backBottom').style.display = 'block';   } else {       document.getElementById('backBottom').style.display = 'none';   }}</script></body></html>