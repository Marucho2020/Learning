<html><head><title>Lesson 130 == Define Assignment Analysis (DAA) ==========//</title><style>body { font-family: Arial, sans-serif; transition: background 0.3s, color 0.3s; }.dark-mode { background-color: #121212; color: #e0e0e0; }.light-mode { background-color: #ffffff; color: #333333; }h1 { text-align: center; color: #73d9f5; }pre { padding: 15px; border-radius: 5px;       white-space: pre-wrap; word-wrap: break-word;       overflow-x: auto; max-width: 100%;       transition: background 0.3s, color 0.3s; }.dark-mode pre { background: #1e1e1e; color: #e0e0e0; }.light-mode pre { background: #f5f5f5; color: #333333; }#backTop, #backBottom {    font-size: 2em; padding: 20px 40px;    background: #bb86fc; color: white; text-decoration: none;    border-radius: 10px; display: inline-block; text-align: center; }#backTop:hover, #backBottom:hover { background: #9b67e2; }button { font-size: 1.5em; padding: 15px 30px;    background: #03dac6; color: #121212; border: none;    cursor: pointer; border-radius: 5px; display: block; margin: 10px auto; }button:hover { background: #02b8a3; }.dark-mode a { color: #03dac6; } .light-mode a { color: #007bff; }</style></head><body onload='applyTheme(); checkPageHeight()'><div class='container'><a id='backTop' href='../java-learning-list.html'>ğŸ”™ Quay láº¡i danh sÃ¡ch</a><br><h1>Lesson 130 -- Define Assignment Analysis (DAA) -//</h1><pre>
# KhÃ¡i niá»‡m 
	lÃ  má»™t pháº§n cá»±c ká»³ quan trá»ng trong kiá»ƒm tra Ä‘á»™ an toÃ n cáº¥p Ä‘á»™ ngÃ´n ngá»¯, Ä‘Æ°á»£c quy Ä‘á»‹nh trong Java Language Specification (JLS) Â§16.
	
	Definite Assignment Analysis (DAA) lÃ  quÃ¡ trÃ¬nh phÃ¢n tÃ­ch tÄ©nh mÃ  compiler Java thá»±c hiá»‡n Ä‘á»ƒ Ä‘áº£m báº£o ráº±ng má»i biáº¿n local Ä‘á»u Ä‘Æ°á»£c gÃ¡n giÃ¡ trá»‹ rÃµ rÃ ng trÆ°á»›c khi Ä‘Æ°á»£c sá»­ dá»¥ng.
	
	## VÃ­ dá»¥ kinh Ä‘iá»ƒn:
void foo() {
    int x;
    System.out.println(x); // âŒ Compile-time error
}
	 


# ğŸ“˜ 2. JLS Â§16: LUáº¬T NGHIÃŠM NGáº¶T Vá»€ DAA

	## 2.1. Local variables 
		- Biáº¿n local pháº£i Ä‘Æ°á»£c definitely assigned trÆ°á»›c khi sá»­ dá»¥ng.
		- KhÃ´ng cÃ³ giÃ¡ trá»‹ máº·c Ä‘á»‹nh nhÆ° field (int default = 0, object = null).

int x;
if (condition) {
    x = 5;
}
System.out.println(x); // âŒ KhÃ´ng cháº¯c cháº¯n x Ä‘Ã£ Ä‘Æ°á»£c gÃ¡n



	## 2.2. Final variables 
		Biáº¿n final chá»‰ Ä‘Æ°á»£c phÃ©p gÃ¡n duy nháº¥t má»™t láº§n.
		Compiler sáº½ xÃ¡c minh ráº±ng táº¥t cáº£ cÃ¡c path kháº£ thi Ä‘á»u dáº«n tá»›i Ä‘Ãºng 1 láº§n gÃ¡n.
		
final int x;
if (cond) x = 1;
else x = 2;
System.out.println(x); // âœ… OK


if (cond) x = 1;
System.out.println(x); // âŒ CÃ³ path khÃ´ng gÃ¡n


	## 2.3. Loops and DAA
		JLS yÃªu cáº§u phÃ¢n tÃ­ch cÃ¡c vÃ²ng láº·p má»™t cÃ¡ch tháº­n trá»ng:
		
int x;
while (cond) {
    x = 1;
}
System.out.println(x); // âŒ vÃ¬ vÃ²ng láº·p cÃ³ thá»ƒ khÃ´ng cháº¡y



	
	## 2.4. DAA vÃ  try-catch-finally
	
final int x;
try {
    x = 1;
} catch (Exception e) {
    x = 2;
}
System.out.println(x); // âŒ náº¿u chÆ°a cÃ³ xá»­ lÃ½ má»i path (finally khÃ´ng gÃ¡n gÃ¬)
	


# ğŸ§  3. DAA = Static Control Flow Analysis

DAA khÃ´ng pháº£i runtime logic check mÃ  lÃ  kiá»ƒm tra biá»ƒu Ä‘á»“ luá»“ng Ä‘iá»u khiá»ƒn tÄ©nh (static control flow graph â€“ CFG).

NÃ³ kiá»ƒm tra táº¥t cáº£ cÃ¡c path execution tá»« Ä‘iá»ƒm khai bÃ¡o Ä‘áº¿n Ä‘iá»ƒm sá»­ dá»¥ng biáº¿n. Náº¿u cÃ³ báº¥t ká»³ path nÃ o mÃ  biáº¿n khÃ´ng Ä‘Æ°á»£c gÃ¡n â†’ lá»—i compile.


# ğŸ§± 4. SO SÃNH Vá»šI CÃC LOáº I BIáº¾N 
| Type             | CÃ³ default value?  | Pháº£i gÃ¡n trÆ°á»›c dÃ¹ng? | Subject to DAA? |
| ---------------- | ------------------ | -------------------- | --------------- |
| `local variable` | âŒ                  | âœ…                    | âœ…               |
| `instance field` | âœ… (default 0/null) | âŒ                    | âŒ               |
| `static field`   | âœ…                  | âŒ                    | âŒ               |
| `final variable` | âŒ                  | âœ… & only once        | âœ…               |


# ğŸ”¥ 5. PHÃ‚N TÃCH NÃ‚NG CAO CHO FINAL (JLS Â§16.1) 

	Biáº¿n final pháº£i Ä‘Æ°á»£c gÃ¡n:
		TrÆ°á»›c khi constructor hoÃ n táº¥t
		Hoáº·c trong static initializer block náº¿u lÃ  biáº¿n static
		
class A {
    final int x;

    A() {
        x = 10; // âœ… OK
    }
}

class B {
    final int y;
    B(boolean cond) {
        if (cond) y = 1;
        // âŒ Náº¿u cond = false thÃ¬ y khÃ´ng gÃ¡n â†’ compile error
    }
}



# ğŸ§µ 6. TÆ¯ DUY SENIOR: TÃC Äá»˜NG THá»°C Táº¾ 


	## âœ… VÃ¬ sao DAA lÃ  tá»‘t? 
		
		Loáº¡i bá» class bug tiá»m áº©n: Ä‘áº£m báº£o báº¡n khÃ´ng dÃ¹ng rÃ¡c bá»™ nhá»› chÆ°a khá»Ÿi táº¡o
		TÄƒng tÃ­nh predictability: nháº¥t quÃ¡n giá»¯a compile-time vÃ  runtime
		Há»— trá»£ tá»‘i Æ°u hÃ³a code: giÃºp compiler loáº¡i bá» path khÃ´ng cáº§n thiáº¿t


# âš ï¸ 7. Má»˜T Sá» Lá»– Há»”NG & GÃ“C Tá»I

	##ğŸ”¸ DAA khÃ´ng hiá»ƒu giÃ¡ trá»‹ logic thá»±c sá»±
	
final int x;
if (true) x = 1;
else x = 2;
System.out.println(x); // âœ… (vÃ¬ cáº£ hai path Ä‘á»u gÃ¡n)

final int y;
if (someConstMethod()) y = 1;
else y = 2;
// âŒ náº¿u compiler khÃ´ng inline Ä‘Æ°á»£c giÃ¡ trá»‹ method â†’ váº«n lá»—i



	## ğŸ”¸ DAA khÃ´ng nháº­n ra "return cuá»‘i cÃ¹ng" 
	
final int x;
if (cond) return;
x = 10;
System.out.println(x); // âŒ vÃ¬ cÃ³ path khÃ´ng gÃ¡n (cond == true)




	## ğŸ”¸ Loop bá»‹ giá»›i háº¡n phÃ¢n tÃ­ch: 
	
final int x;
for (;;) {
    x = 10;
    break;
}
System.out.println(x); // âŒ Java khÃ´ng Ä‘á»§ â€œthÃ´ng minhâ€ Ä‘á»ƒ infer Ä‘iá»u nÃ y


# ğŸ›  8. CÃCH DEBUG / LÃ€M VIá»†C Vá»šI DAA

	Kiá»ƒm tra láº¡i má»i path Ä‘iá»u kiá»‡n
	Vá»›i final, Ä‘áº£m báº£o gÃ¡n Ä‘Ãºng duy nháº¥t 1 láº§n trÃªn má»i nhÃ¡nh
	KhÃ´ng láº¡m dá»¥ng nhiá»u nested logic â€” DAA khÃ´ng xá»­ lÃ½ tá»‘t logic lá»“ng nhau phá»©c táº¡p
	Vá»›i loop, khÃ´ng giáº£ Ä‘á»‹nh vÃ²ng láº·p cháº¯c cháº¯n cháº¡y



</pre><a id='backBottom' href='../java-learning-list.html' style='display:none;'>ğŸ”™ Quay láº¡i danh sÃ¡ch</a><br><button onclick='toggleTheme()'>ğŸŒ™ Chuyá»ƒn giao diá»‡n</button></div><script>function toggleTheme() {   let mode = document.body.classList.contains('dark-mode') ? 'light-mode' : 'dark-mode';   document.body.className = mode; localStorage.setItem('theme', mode);   syncTheme();}function applyTheme() {   let savedTheme = localStorage.getItem('theme') || 'dark-mode';   document.body.className = savedTheme;   syncTheme();}function syncTheme() {   let preElement = document.querySelector('pre');   if (document.body.classList.contains('dark-mode')) { preElement.style.background = '#1e1e1e'; preElement.style.color = '#e0e0e0'; }   else { preElement.style.background = '#f5f5f5'; preElement.style.color = '#333333'; }}function checkPageHeight() {   let contentHeight = document.body.scrollHeight;   let windowHeight = window.innerHeight;   if (contentHeight > windowHeight * 1.2) {       document.getElementById('backBottom').style.display = 'block';   } else {       document.getElementById('backBottom').style.display = 'none';   }}</script></body></html>