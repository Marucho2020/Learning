<html><head><title>Lesson 31 == TreeSet ==========//</title><style>body { font-family: Arial, sans-serif; transition: background 0.3s, color 0.3s; }.dark-mode { background-color: #121212; color: #e0e0e0; }.light-mode { background-color: #ffffff; color: #333333; }h1 { text-align: center; color: #73d9f5; }pre { padding: 15px; border-radius: 5px;       white-space: pre-wrap; word-wrap: break-word;       overflow-x: auto; max-width: 100%;       transition: background 0.3s, color 0.3s; }.dark-mode pre { background: #1e1e1e; color: #e0e0e0; }.light-mode pre { background: #f5f5f5; color: #333333; }#backTop, #backBottom {    font-size: 2em; padding: 20px 40px;    background: #bb86fc; color: white; text-decoration: none;    border-radius: 10px; display: inline-block; text-align: center; }#backTop:hover, #backBottom:hover { background: #9b67e2; }button { font-size: 1.5em; padding: 15px 30px;    background: #03dac6; color: #121212; border: none;    cursor: pointer; border-radius: 5px; display: block; margin: 10px auto; }button:hover { background: #02b8a3; }.dark-mode a { color: #03dac6; } .light-mode a { color: #007bff; }</style></head><body onload='applyTheme(); checkPageHeight()'><div class='container'><a id='backTop' href='../java-learning-list.html'>üîô Quay l·∫°i danh s√°ch</a><br><h1>Lesson 31 -- TreeSet -//</h1><pre>TreeSet l√† m·ªôt l·ªõp trong Java thu·ªôc g√≥i java.util ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ l∆∞u tr·ªØ c√°c ph·∫ßn t·ª≠ duy nh·∫•t theo th·ª© t·ª± t·ª± nhi√™n (natural order) ho·∫∑c theo m·ªôt b·ªô so s√°nh t√πy ch·ªânh(custom comparator). ƒê√¢y l√† m·ªôt c·∫•u tr√∫c d·ªØ li·ªáu d·ª±a tr√™n c√¢y nh·ªã ph√¢n c√¢n b·∫±ng Red-Black Tree, gi√∫p c√°c thao t√°c nh∆∞ th√™m, x√≥a, t√¨m ki·∫øm di·ªÖn ra hi·ªáu qu·∫£ 

#1 ƒê·∫∑c ƒëi·ªÉm c·ªßa TreeSet  
	## S·∫Øp x·∫øp t·ª± ƒë·ªông : 
		- C√°c ph·∫ßn t·ª≠ trong TreeSet ƒë∆∞·ª£c s·∫Øp x·∫øp t·ª± ƒë·ªông theo th·ª© t·ª± t·ª± nhi√™n ho·∫∑c theo b·ªô ph·∫≠n so s√°nh m√† b·∫°n cung c·∫•p. 
	
	## Kh√¥ng cho ph√©p tr√πng l·∫∑p : 
		Gi·ªëng nh∆∞ HashSet , m·ªói phaanfn t·ª≠ trong TreeSet l√† duy nh·∫•t ƒë∆∞·ª£c x√°c ƒë·ªãnh b·∫±ng ph∆∞∆°ng th·ª©c compareTo() ho·∫∑c compare() 
	
	## Kh√¥ng ƒë·ªìng b·ªô (not synchronized):
		TreeSet kh√¥ng an to√†n trong m√¥i tr∆∞·ªùng ƒëa lu·ªìng. N·∫øu c·∫ßn, b·∫°n ph·∫£i ƒë·ªìng b·ªô h√≥a b·∫±ng c√°ch s·ª≠ d·ª•ng Collections.synchronizedSortedSet(). 
		
	## Hi·ªáu su·∫•t : 
		D·ª±a tr√™n c√¢y nh·ªã ph√¢n c√¢n b·∫±ng, c√°c thao t√°c th√™m, x√≥a, t√¨m ki·∫øm c√≥ th·ªùi gian trung b√¨nh l√† O(log n)
		
	## Kh√¥ng cho ph√©p null : 
		TreeSet kh√¥ng cho ph√©p th√™m null v√¨ c·∫ßn s·∫Øp x·∫øp c√°c ph·∫ßn t·ª≠, v√† vi·ªác so s√°nh null s·∫Ω g√¢y l·ªói 

# 2 C√°ch s·ª≠ d·ª•ng TreeSet  
	TreeSet<Integer> treeSet = new TreeSet<>();
	
	treeSet.add(15);
	treeSet.add(10);
	treeSet.add(5);
	
	// duy·ªát 
	for(int num : treeSet){
		System.out.println(num);			// 5 10 15
	}
	
	// l·∫•y ph·∫ßn t·ª≠ ƒë·∫ßu v√† cu·ªëi -> ph·∫ßn t·ª≠ l·ªõn nh·∫•t v√† nh·ªè nh·∫•t v√¨ n√≥ ƒë√£ ƒë∆∞·ª£c s·∫Øp x·∫øp  
	treeSet.first();
	treeSet.last();
	
	// X√≥a ph·∫ßn t·ª≠ theo gi√° tr·ªã truy·ªÅn v√†o 
	treeSet.remove(10);
	
	
# 3 M·ªôt s·ªë ph∆∞∆°ng th·ª©c quan tr·ªçng : 
	add(E e)                         : Th√™m ph·∫ßn t·ª≠ v√†o TreeSet , n·∫øu ƒë√£ t·ªìn t·∫°i s·∫Ω kh√¥ng ƒë∆∞·ª£c th√™m 
	remove(Object o)                 :  X√≥a ph·∫ßn t·ª≠ o kh·ªèi TreeSet 
	first()                          :  Tr·∫£ v·ªÅ ph·∫ßn t·ª≠ nh·ªè nh·∫•t trong TreeSet 
	last()                           :  Tr·∫£ v·ªÅ ph·∫ßn t·ª≠ l·ªõn nh·∫•t 
	higher(E e)                      : Tr·∫£ v·ªÅ ph·∫ßn t·ª≠ nh·ªè nh·∫•t l·ªõn h∆°n e ho·∫∑c null n·∫øu kh√¥ng c√≥ 
	lower(E e)                       : Tr·∫£ v·ªÅ ph·∫ßn t·ª≠ l·ªõn nh·∫•t nh·ªè h∆°n e ho·∫∑c null n·∫øu k c√≥ 
	ceiling(E e)                     : Tr·∫£ v·ªÅ ph·∫ßn t·ª≠ nh·ªè nh·∫•t l·ªõn h∆°n ho·∫∑c b·∫±ng e ho·∫∑c null n·∫øu kh√¥ng c√≥ 
	floor(E e)                       : Tr·∫£ v·ªÅ ph·∫ßn t·ª´ l·ªõn nh·∫•t nh·ªü h∆°n ho·∫∑c b·∫±ng e ho·∫∑c null n·∫øu kh√¥ng c√≥ 
	subSet(E from, E to)             : Tr·∫£ v·ªÅ m·ªôt t·∫≠p con g·ªìm c√°c ph·∫ßn t·ª≠ nh·∫±m trong kho·∫£ng [from,to]
	headSet(E to)                    : Tr·∫£ v·ªÅ m·ªôt t·∫≠p con g·ªìm c√°c ph·∫ßn t·ª≠ nh·ªè h∆°n to 
	tailSet(E from)                  : Tr·∫£ v·ªÅ m·ªôt t·∫≠p con g·ªìm c√°c ph·∫ßn t·ª≠ l·ªõn h∆°n ho·∫∑c b·∫±ng from
	clear()                          : X√≥a t·∫•t c·∫£ c√°c ph·∫ßn t·ª≠ kh·ªèi TreeSet 
	
	
# 4. TreeSet v·ªõi Comparator	t√πy ch·ªânh 
	B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng Comparator ƒë·ªÉ t√πy ch·ªânh c√°ch s·∫Øp x·∫øp trong TreeSet. ƒêi·ªÅu n√†y r·∫•t h·ªØu √≠ch khi b·∫°n c·∫ßn s·∫Øp x·∫øp theo th·ª© t·ª± kh√¥ng m·∫∑c ƒë·ªãnh  
	
	// S·∫Øp x·∫øp gi·∫£m d·∫ßn  
	TreeSet<Integer> treeSet = new TreeSet<>(Comparator.reverseOrder());
	
		treeSet.add(10);
        treeSet.add(5);
        treeSet.add(15);
        treeSet.add(20);

        System.out.println("TreeSet v·ªõi Comparator t√πy ch·ªânh (gi·∫£m d·∫ßn):");
        System.out.println(treeSet);  // [20, 15, 10, 5]



# 5 TreeSet v·ªõi c√°c ƒë·ªëi t∆∞·ª£ng t√πy ch·ªânh 
	Khi l∆∞u tr·ªØ c√°c ƒë·ªëi t∆∞·ª£ng trong TreeSet, B·∫°n c·∫ßn tri·ªÉn khai giao di·ªán Comparable ho·∫∑ cung c·∫•p m·ªôt Comparator 
	
	
	# e.g V√≠ d·ª• TreeSet v·ªõi ƒë·ªëi t∆∞·ª£ng t√πy ch·ªânh  , C√°c Obj s·∫Ω ƒë∆∞·ª£c t·ª± ƒë·ªông s·∫Øp x·∫øp theo tu·ªïi 
	
	class Student implements Comparable<Student> {
	....
	@Override 
	public int compareTo(Student other){
		return Integer.compare(this.age , other.age); // T·ª± ƒë·ªông s·∫Øp x·∫øp theo tu·ªïi
	}
	
	}
		
# 6. Th√™m c√°c l∆∞u √Ω : 
	
	## Nguy√™n l√Ω ho·∫°t ƒë·ªông n·ªôi b·ªô 
		TreeSet s·ª≠ d·ª•ng m·ªôt b·ªô NavigableMap(Th∆∞·ªùng l√† TreeMap) l√†m c·∫•u tr√∫c d·ªØ li·ªáu n·ªôi b·ªô 
		C√°c ph·∫ßn t·ª≠ ƒë∆∞·ª£c l∆∞u tr·ªØ trong m·ªôt c√¢y nh·ªã ph√¢n c√¢n b·∫±ng(Red-Black Tree)
		Th·ª© t·ª± ph·∫ßn t·ª≠ ƒë∆∞·ª£c duy tr√¨ b·∫±ng c√°ch s·ª≠ d·ª•ng c√°c ph∆∞∆°ng th·ª©c compareTo() ho·∫∑c compare() 
		
	## Kh·∫£ nƒÉng ƒëi·ªÅu h∆∞·ªõng(NavigableSet)
	TreeSet tri·ªÉn khai giao di·ªán NavigableSet, cung c·∫•p c√°c ph∆∞∆°ng th·ª©c ƒë·ªÉ ƒëi·ªÅu h∆∞·ªõng qua c√°c ph·∫ßn t·ª≠. 
	
		System.out.println(treeSet.higher(10));  // Ph·∫ßn t·ª≠ l·ªõn h∆°n 10
		System.out.println(treeSet.lower(10));  // Ph·∫ßn t·ª≠ nh·ªè h∆°n 10
# 7. Khi n√†o n√™n d√πng TreeSet? 
	- Khi c·∫ßn l∆∞u tr·ªØ c√°c ph·∫ßn t·ª≠ duy nh·∫•t v√† t·ª± ƒë·ªông s·∫Øp x·∫øp ch√∫ng 
	- Khi c·∫ßn thao t√°c v·ªõi c√°c ph·∫ßn t·ª≠ trong m·ªôt kho·∫£ng nh·∫•t ƒë·ªãnh (subSet . headSet ,  tailSet)
	- KHi c·∫ßn thao t√°c t√¨m ki·∫øm nhanh v·ªõi th·ª© t·ª± ƒë∆∞·ª£c duy tr√¨  




		
		
</pre><a id='backBottom' href='../java-learning-list.html' style='display:none;'>üîô Quay l·∫°i danh s√°ch</a><br><button onclick='toggleTheme()'>üåô Chuy·ªÉn giao di·ªán</button></div><script>function toggleTheme() {   let mode = document.body.classList.contains('dark-mode') ? 'light-mode' : 'dark-mode';   document.body.className = mode; localStorage.setItem('theme', mode);   syncTheme();}function applyTheme() {   let savedTheme = localStorage.getItem('theme') || 'dark-mode';   document.body.className = savedTheme;   syncTheme();}function syncTheme() {   let preElement = document.querySelector('pre');   if (document.body.classList.contains('dark-mode')) { preElement.style.background = '#1e1e1e'; preElement.style.color = '#e0e0e0'; }   else { preElement.style.background = '#f5f5f5'; preElement.style.color = '#333333'; }}function checkPageHeight() {   let contentHeight = document.body.scrollHeight;   let windowHeight = window.innerHeight;   if (contentHeight > windowHeight * 1.2) {       document.getElementById('backBottom').style.display = 'block';   } else {       document.getElementById('backBottom').style.display = 'none';   }}</script></body></html>