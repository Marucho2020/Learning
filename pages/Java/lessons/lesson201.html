<html><head><title>Lesson 201 == Monoid & Reduce Pattern ==========//</title><style>body { font-family: Arial, sans-serif; transition: background 0.3s, color 0.3s; }.dark-mode { background-color: #121212; color: #e0e0e0; }.light-mode { background-color: #ffffff; color: #333333; }h1 { text-align: center; color: #73d9f5; }pre { padding: 15px; border-radius: 5px;       white-space: pre-wrap; word-wrap: break-word;       overflow-x: auto; max-width: 100%;       transition: background 0.3s, color 0.3s; }.dark-mode pre { background: #1e1e1e; color: #e0e0e0; }.light-mode pre { background: #f5f5f5; color: #333333; }#backTop, #backBottom {    font-size: 2em; padding: 20px 40px;    background: #bb86fc; color: white; text-decoration: none;    border-radius: 10px; display: inline-block; text-align: center; }#backTop:hover, #backBottom:hover { background: #9b67e2; }button { font-size: 1.5em; padding: 15px 30px;    background: #03dac6; color: #121212; border: none;    cursor: pointer; border-radius: 5px; display: block; margin: 10px auto; }button:hover { background: #02b8a3; }.dark-mode a { color: #03dac6; } .light-mode a { color: #007bff; }</style></head><body onload='applyTheme(); checkPageHeight()'><div class='container'><a id='backTop' href='../java-learning-list.html'>üîô Quay l·∫°i danh s√°ch</a><br><h1>Lesson 201 -- Monoid & Reduce Pattern -//</h1><pre>
# üéØ M·ª§C TI√äU
	reduce() kh√¥ng ch·ªâ l√† ‚Äút√≠nh t·ªïng‚Äù ‚Äî m√† l√† m·ªôt pattern tr·ª´u t∆∞·ª£ng ƒë·ªÉ t·ªïng h·ª£p d·ªØ li·ªáu b·∫•t bi·∫øn.

	Kh√°i ni·ªám Monoid ‚Äî n·ªÅn t·∫£ng to√°n h·ªçc gi√∫p ‚Äúreduce‚Äù lu√¥n an to√†n, c√≥ th·ªÉ song song h√≥a, v√† c√≥ t√≠nh k·∫øt h·ª£p (associative).


# üß© 1. Gi·∫£i th√≠ch d·ªÖ hi·ªÉu ‚Äî ‚ÄúReduce‚Äù l√† g√¨?

	List<Integer> nums = List.of(1, 2, 3, 4);

	Mu·ªën t√≠nh t·ªïng:

		int sum = nums.stream()
              .reduce(0, (a, b) -> a + b);

		reduce b·∫Øt ƒë·∫ßu v·ªõi identity (·ªü ƒë√¢y l√† 0).
		L·∫ßn l∆∞·ª£t k·∫øt h·ª£p t·ª´ng ph·∫ßn t·ª≠ b·∫±ng binary operator (a, b) -> a + b.
		Tr·∫£ v·ªÅ m·ªôt k·∫øt qu·∫£ duy nh·∫•t.

	reduce kh√¥ng c·∫ßn bi·∫øt b·∫°n t√≠nh t·ªïng, nh√¢n, n·ªëi chu·ªói, g·ªôp map‚Ä¶ ‚Äî mi·ªÖn l√† ph√©p k·∫øt h·ª£p c√≥ t√≠nh k·∫øt h·ª£p (associative).


# ‚öôÔ∏è 2. Monoid l√† g√¨?
	Monoid l√† c·∫•u tr√∫c to√°n h·ªçc r·∫•t ƒë∆°n gi·∫£n, nh∆∞ng c·ª±c k·ª≥ m·∫°nh:
	M·ªôt t·∫≠p h·ª£p v√† hai y·∫øu t·ªë:

		1.Ph√©p k·∫øt h·ª£p (combine): ‚äï
		2.Ph·∫ßn t·ª≠ trung l·∫≠p (identity):2

	Th·ªèa m√£n 2 lu·∫≠t:

		Associativity:
			(a ‚äï b) ‚äï c = a ‚äï (b ‚äï c)

		Identity:
			a ‚äï e = e ‚äï a = a

	V√≠ d·ª• trong Java:

| D·∫°ng d·ªØ li·ªáu | Ph√©p k·∫øt h·ª£p | Identity                  |
| ------------ | ------------ | ------------------------- |
| `Integer`    | `+`          | `0`                       |
| `String`     | `concat`     | `""`                      |
| `BigDecimal` | `add`        | `BigDecimal.ZERO`         |
| `List<T>`    | `addAll`     | `Collections.emptyList()` |

	‚û°Ô∏è T·ª©c l√† m·ªói ki·ªÉu d·ªØ li·ªáu c√≥ th·ªÉ c√≥ 1 Monoid ri√™ng.


# üß† 3. T·∫°i sao Monoid quan tr·ªçng?

	B·ªüi v√¨:

		Khi ph√©p k·∫øt h·ª£p l√† associative v√† c√≥ identity, ta c√≥ th·ªÉ:
		Chia nh·ªè d·ªØ li·ªáu ƒë·ªÉ t√≠nh song song (parallel) r·ªìi g·ªôp l·∫°i.
		Kh√¥ng lo m·∫•t d·ªØ li·ªáu hay l·ªách k·∫øt qu·∫£.
		Kh√¥ng c·∫ßn th·ª© t·ª± (‚Üí ph√π h·ª£p cho distributed computing).

	V√≠ d·ª• parallelStream():

BigDecimal total = employees.parallelStream()
    .map(Employee::getSalary)
    .reduce(BigDecimal.ZERO, BigDecimal::add);

	C·∫£ ng√†n thread c√≥ th·ªÉ c·ªông ri√™ng ph·∫ßn c·ªßa m√¨nh r·ªìi reduce l·∫°i ‚Äî ƒë·∫£m b·∫£o ƒë√∫ng v√¨ + l√† ph√©p k·∫øt h·ª£p c√≥ t√≠nh Monoid-safe.

# üßÆ 4. Reduce trong th·ª±c t·∫ø enterprise


	## a) B√°o c√°o t·ªïng h·ª£p

BigDecimal totalRevenue =
    orders.stream()
          .map(Order::getAmount)
          .reduce(BigDecimal.ZERO, BigDecimal::add);




	## b) G·ªôp chu·ªói log

String auditTrail =
    logs.stream()
        .map(Log::toString)
        .reduce("", (a, b) -> a + "\n" + b);




	## c) Merge c·∫•u tr√∫c ph·ª©c t·∫°p


Map<String, Integer> totalByDept =
    employees.stream()
        .collect(Collectors.groupingBy(
            Employee::getDepartment,
            Collectors.reducing(
                0,
                Employee::getSalary,
                Integer::sum
            )
        ));



# üîç 5. Monoid cho Object ph·ª©c t·∫°p

	B·∫°n c√≥ th·ªÉ t·∫°o ‚ÄúMonoid ri√™ng‚Äù cho domain object.

record Report(int count, BigDecimal total) {}

static Report combine(Report a, Report b) {
    return new Report(
        a.count() + b.count(),
        a.total().add(b.total())
    );
}

Report empty = new Report(0, BigDecimal.ZERO);

Report finalReport = reports.stream()
    .reduce(empty, Report::combine);

	üí° ƒê√¢y ch√≠nh l√† Monoid pattern: c√≥ identity (empty) v√† combine (Report::combine).


# üß± 6. M·ªëi li√™n h·ªá v·ªõi Functional Pipeline

	Trong OOP truy·ªÅn th·ªëng:
		for (...) { total += item.getPrice(); }
		‚Üí bi·∫øn total b·ªã mutation.

	Functional:
		stream.reduce(identity, combine)
		

# üß© 7. So s√°nh Monoid vs Reduce th∆∞·ªùng

| Ti√™u ch√≠         | Reduce th∆∞·ªùng        | Monoid pattern                      |
| ---------------- | -------------------- | ----------------------------------- |
| K·∫øt h·ª£p d·ªØ li·ªáu  | C√≥                   | C√≥                                  |
| C√≥ identity      | C√≥ th·ªÉ c√≥ ho·∫∑c kh√¥ng | Lu√¥n c√≥                             |
| C√≥ t√≠nh k·∫øt h·ª£p  | Kh√¥ng b·∫Øt bu·ªôc       | B·∫Øt bu·ªôc                            |
| D·ªÖ song song     | C√≥ th·ªÉ l·ªói           | Lu√¥n an to√†n                        |
| D·ªÖ t·ªïng qu√°t h√≥a | Kh√¥ng                | C√≥ th·ªÉ √°p d·ª•ng cho m·ªçi ki·ªÉu d·ªØ li·ªáu |


# üöÄ 8. Functional Mindset

	H√£y h√¨nh dung Monoid nh∆∞ ‚Äúnguy√™n t·ª≠‚Äù c·ªßa aggregation trong functional design:

		- Stream.reduce() ‚Üí ho·∫°t ƒë·ªông ƒë∆∞·ª£c v√¨ m·ªói ph·∫ßn t·ª≠ thu·ªôc 1 Monoid.
		- Collectors.groupingBy() ‚Üí th·ª±c ch·∫•t l√† reduce theo nh√≥m.
		- map-reduce trong big data ‚Üí ch√≠nh l√† Monoid pattern m·ªü r·ªông.
		- Reactive systems ‚Üí c√°c flow aggregation (combineLatest, scan) ƒë·ªÅu l√† reduce/monoid.


# üß© 9. V√≠ d·ª• n√¢ng cao ‚Äî Reduce cho security audit

‚Üí M·ªói log merge theo logic domain (combine events, timestamps, counters).
‚Üí Kh√¥ng mutation, log-safe, scale ra multi-thread ho·∫∑c microservice v·∫´n ƒë√∫ng.



# ‚ö° 10. K·∫øt lu·∫≠n

| Concept               | √ù nghƒ©a th·ª±c t·∫ø                                               |
| --------------------- | ------------------------------------------------------------- |
| **Reduce**            | T·ªïng h·ª£p m·ªçi d·ªØ li·ªáu v·ªÅ 1 k·∫øt qu·∫£ duy nh·∫•t                    |
| **Monoid**            | B·∫£o ƒë·∫£m reduce lu√¥n h·ª£p l·ªá, c√≥ th·ªÉ song song, thread-safe     |
| **·ª®ng d·ª•ng**          | B√°o c√°o, audit, log aggregation, reactive summary, map-reduce |
| **Functional ∆∞u th·∫ø** | Kh√¥ng mutation, d·ªÖ test, c√≥ th·ªÉ ph√¢n t√°n                      |









































</pre><a id='backBottom' href='../java-learning-list.html' style='display:none;'>üîô Quay l·∫°i danh s√°ch</a><br><button onclick='toggleTheme()'>üåô Chuy·ªÉn giao di·ªán</button></div><script>function toggleTheme() {   let mode = document.body.classList.contains('dark-mode') ? 'light-mode' : 'dark-mode';   document.body.className = mode; localStorage.setItem('theme', mode);   syncTheme();}function applyTheme() {   let savedTheme = localStorage.getItem('theme') || 'dark-mode';   document.body.className = savedTheme;   syncTheme();}function syncTheme() {   let preElement = document.querySelector('pre');   if (document.body.classList.contains('dark-mode')) { preElement.style.background = '#1e1e1e'; preElement.style.color = '#e0e0e0'; }   else { preElement.style.background = '#f5f5f5'; preElement.style.color = '#333333'; }}function checkPageHeight() {   let contentHeight = document.body.scrollHeight;   let windowHeight = window.innerHeight;   if (contentHeight > windowHeight * 1.2) {       document.getElementById('backBottom').style.display = 'block';   } else {       document.getElementById('backBottom').style.display = 'none';   }}</script></body></html>