<html><head><title>Lesson 184 == Function Chaining ==========//</title><style>body { font-family: Arial, sans-serif; transition: background 0.3s, color 0.3s; }.dark-mode { background-color: #121212; color: #e0e0e0; }.light-mode { background-color: #ffffff; color: #333333; }h1 { text-align: center; color: #73d9f5; }pre { padding: 15px; border-radius: 5px;       white-space: pre-wrap; word-wrap: break-word;       overflow-x: auto; max-width: 100%;       transition: background 0.3s, color 0.3s; }.dark-mode pre { background: #1e1e1e; color: #e0e0e0; }.light-mode pre { background: #f5f5f5; color: #333333; }#backTop, #backBottom {    font-size: 2em; padding: 20px 40px;    background: #bb86fc; color: white; text-decoration: none;    border-radius: 10px; display: inline-block; text-align: center; }#backTop:hover, #backBottom:hover { background: #9b67e2; }button { font-size: 1.5em; padding: 15px 30px;    background: #03dac6; color: #121212; border: none;    cursor: pointer; border-radius: 5px; display: block; margin: 10px auto; }button:hover { background: #02b8a3; }.dark-mode a { color: #03dac6; } .light-mode a { color: #007bff; }</style></head><body onload='applyTheme(); checkPageHeight()'><div class='container'><a id='backTop' href='../java-learning-list.html'>ğŸ”™ Quay láº¡i danh sÃ¡ch</a><br><h1>Lesson 184 -- Function Chaining -//</h1><pre>
# 1. Function Chaining 

	Trong java.util.function.Function<T,R> cÃ³ 2 method quan trá»ng:
	
		- andThen (ã€œã—ãŸå¾Œã«, ato ni):
			f1.andThen(f2) = trÆ°á»›c tiÃªn cháº¡y f1, rá»“i láº¥y káº¿t quáº£ Ä‘Æ°a vÃ o f2.
			CÃ´ng thá»©c: f2(f1(x))

		- compose (åˆæˆ, gÅsei): 
			f2.compose(f1) = cháº¡y f1 trÆ°á»›c, sau Ä‘Ã³ má»›i f2.
			CÃ´ng thá»©c: f2(f1(x))


		Thá»±c ra, f1.andThen(f2) â‰¡ f2.compose(f1) (chá»‰ khÃ¡c vá» cÃ¡ch Ä‘á»c code tá»« trÃ¡i qua pháº£i).


	## VÃ­ dá»¥: 

Function<String, String> trim = String::trim;
Function<String, String> toUpper = String::toUpperCase;

// andThen
Function<String, String> f1 = trim.andThen(toUpper);
System.out.println(f1.apply("   hello ")); // "HELLO"

// compose
Function<String, String> f2 = toUpper.compose(trim);
System.out.println(f2.apply("   hello ")); // "HELLO"
	
		â¡ï¸ Senior note: dÃ¹ng andThen khi muá»‘n code â€œÄ‘á»c xuÃ´iâ€ theo pipeline, dá»… cho reviewer.



# 2. Predicate Logic Composition

	Predicate<T> cung cáº¥p:
	
		p1.and(p2) â†’ cáº£ hai Ä‘á»u true.
		
		p1.or(p2) â†’ má»™t trong hai true.
		
		p1.negate() â†’ phá»§ Ä‘á»‹nh (NOT).


	## VÃ­ dá»¥:

Predicate<Employee> hasEmail = e -> e.getEmail() != null;
Predicate<Employee> highSalary = e -> e.getSalary() > 5000;

// AND
Predicate<Employee> valid = hasEmail.and(highSalary);

// OR
Predicate<Employee> valid2 = hasEmail.or(highSalary);

// NEGATE
Predicate<Employee> notHighSalary = highSalary.negate();

â¡ï¸ ÄÃ¢y lÃ  cÃ¡ch Ä‘á»ƒ viáº¿t business rules kiá»ƒu DSL (Domain Specific Language).
VÃ­ dá»¥: eligibleForPromotion = hasEmail.and(highSalary).and(e -> e.isActive());



# 3. Consumer Chaining

	Consumer<T> cÃ³ andThen:
	
		- c1.andThen(c2) â†’ cháº¡y c1.accept(x) rá»“i c2.accept(x) vá»›i cÃ¹ng input.
		- ÄÃ¢y thÆ°á»ng dÃ¹ng cho logging, audit, hoáº·c khi muá»‘n nhiá»u side-effect trÃªn cÃ¹ng data.

Consumer<Employee> log = e -> System.out.println("Logging: " + e.getName());
Consumer<Employee> save = e -> saveToDB(e);

Consumer<Employee> combined = log.andThen(save);

combined.accept(new Employee("Báº£o", "bao@corp.jp", 6000));



# 4. Enterprise Example: Rule Validation Chain

	Giáº£ sá»­ báº¡n muá»‘n validate nhÃ¢n viÃªn theo 3 Ä‘iá»u kiá»‡n:
		- Email khÃ´ng null
		- Age â‰¥ 18
		- Status = ACTIVE

	Ta dÃ¹ng Predicate chain:

Predicate<Employee> hasEmail = e -> e.getEmail() != null && !e.getEmail().isBlank();
Predicate<Employee> adult = e -> e.getAge() >= 18;
Predicate<Employee> active = e -> e.getStatus() == Status.ACTIVE;

Predicate<Employee> isValidEmployee = hasEmail.and(adult).and(active);

Employee emp = new Employee("A", "a@corp.jp", 25, Status.ACTIVE);
System.out.println(isValidEmployee.test(emp)); // true


	Thay vÃ¬ viáº¿t má»™t hÃ m if-else dÃ i, ta chain predicate Ä‘á»ƒ logic rÃµ rÃ ng, dá»… má»Ÿ rá»™ng (thÃªm rule thÃ¬ chá»‰ .and(...)).

ÄÃ¢y lÃ  ná»n táº£ng Ä‘á»ƒ build validation framework hoáº·c rule engine trong enterprise system.



# 5. LiÃªn há»‡ thi Java Silver & Gold 

	Java Silver: há» sáº½ há»i vá» output cá»§a f1.andThen(f2) vs f2.compose(f1).
	Java Gold: Ä‘i xa hÆ¡n â†’ viáº¿t chain nhiá»u Predicate, debug xem output logic.
	Enterprise thá»±c táº¿: pattern nÃ y hay dÃ¹ng trong:

		- Data validation (form input, entity validation).
		- Stream API pipelines (filter, map, forEach chain).
		- Event processing (cháº¡y nhiá»u Consumer liÃªn tiáº¿p).



# 6. Tá»•ng há»£p (Senior Insight)
	
	- Function chaining = pipeline transform (nhÆ° Unix pipe).
	
	- Predicate chaining = boolean algebra (AND, OR, NOT).
	
	- Consumer chaining = multi-side effect execution.
	
	- DÃ¹ng chaining Ä‘á»ƒ giáº£m if-else, tÄƒng kháº£ nÄƒng tÃ¡i sá»­ dá»¥ng vÃ  dá»… test unit (má»—i rule = 1 predicate).




		
		
</pre><a id='backBottom' href='../java-learning-list.html' style='display:none;'>ğŸ”™ Quay láº¡i danh sÃ¡ch</a><br><button onclick='toggleTheme()'>ğŸŒ™ Chuyá»ƒn giao diá»‡n</button></div><script>function toggleTheme() {   let mode = document.body.classList.contains('dark-mode') ? 'light-mode' : 'dark-mode';   document.body.className = mode; localStorage.setItem('theme', mode);   syncTheme();}function applyTheme() {   let savedTheme = localStorage.getItem('theme') || 'dark-mode';   document.body.className = savedTheme;   syncTheme();}function syncTheme() {   let preElement = document.querySelector('pre');   if (document.body.classList.contains('dark-mode')) { preElement.style.background = '#1e1e1e'; preElement.style.color = '#e0e0e0'; }   else { preElement.style.background = '#f5f5f5'; preElement.style.color = '#333333'; }}function checkPageHeight() {   let contentHeight = document.body.scrollHeight;   let windowHeight = window.innerHeight;   if (contentHeight > windowHeight * 1.2) {       document.getElementById('backBottom').style.display = 'block';   } else {       document.getElementById('backBottom').style.display = 'none';   }}</script></body></html>