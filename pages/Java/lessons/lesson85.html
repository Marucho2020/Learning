<html><head><title>Lesson 85 == ğŸ—ï¸ Infrastructure as Code (IaC) â€“ Háº¡ táº§ng dÆ°á»›i dáº¡ng mÃ£ ==========//</title><style>body { font-family: Arial, sans-serif; transition: background 0.3s, color 0.3s; }.dark-mode { background-color: #121212; color: #e0e0e0; }.light-mode { background-color: #ffffff; color: #333333; }h1 { text-align: center; color: #73d9f5; }pre { padding: 15px; border-radius: 5px;       white-space: pre-wrap; word-wrap: break-word;       overflow-x: auto; max-width: 100%;       transition: background 0.3s, color 0.3s; }.dark-mode pre { background: #1e1e1e; color: #e0e0e0; }.light-mode pre { background: #f5f5f5; color: #333333; }#backTop, #backBottom {    font-size: 2em; padding: 20px 40px;    background: #bb86fc; color: white; text-decoration: none;    border-radius: 10px; display: inline-block; text-align: center; }#backTop:hover, #backBottom:hover { background: #9b67e2; }button { font-size: 1.5em; padding: 15px 30px;    background: #03dac6; color: #121212; border: none;    cursor: pointer; border-radius: 5px; display: block; margin: 10px auto; }button:hover { background: #02b8a3; }.dark-mode a { color: #03dac6; } .light-mode a { color: #007bff; }</style></head><body onload='applyTheme(); checkPageHeight()'><div class='container'><a id='backTop' href='../java-learning-list.html'>ğŸ”™ Quay láº¡i danh sÃ¡ch</a><br><h1>Lesson 85 -- ğŸ—ï¸ Infrastructure as Code (IaC) â€“ Háº¡ táº§ng dÆ°á»›i dáº¡ng mÃ£ -//</h1><pre>

# KhÃ¡i niá»‡m 
	â“ IaC lÃ  gÃ¬? 
		Háº¡ táº§ng khÃ´ng cáº¥u hÃ¬nh báº±ng tay (click-click), mÃ  Ä‘á»‹nh nghÄ©a báº±ng mÃ£.
		
	Táº¥t cáº£ tÃ i nguyÃªn nhÆ°: 
		Server, Database, VPC, Subnet, Load Balancer 
		EKS Cluster, S3 Bucket, IAM Role, Firewall
				â†’ ÄÆ°á»£c mÃ´ táº£ báº±ng file YAML / JSON / HCL / TypeScript
				â†’ LÆ°u trÃªn Git â†’ CÃ³ version, rollback, review, CI/CD





# ğŸ§± PhÃ¢n Loáº¡i IaC: CÃ³ Táº§ng 
	


Táº§ng												CÃ´ng cá»¥ / File									Má»¥c Ä‘Ã­ch
IaC Há»‡ thá»‘ng (Provisioning)						Terraform, Pulumi, AWS CDK					Táº¡o cloud resource: VM, VPC, LB, Database...
IaC á»¨ng dá»¥ng (App Infrastructure)				Dockerfile, docker-compose					Build & Ä‘á»‹nh nghÄ©a container, service
IaC Äiá»u phá»‘i (Orchestration)					Kubernetes YAML, Helm, ArgoCD				Tá»± Ä‘á»™ng hÃ³a triá»ƒn khai, scaling, networking












# ğŸ’¡ VÃ¬ sao IaC lÃ  báº¯t buá»™c cho há»‡ thá»‘ng hiá»‡n Ä‘áº¡i?


		Lá»£i Ã­ch													MÃ´ táº£
	Äá»“ng nháº¥t mÃ´i trÆ°á»ng					Dev = Test = Prod, khÃ´ng "mÃ¡y tao cháº¡y Ä‘Æ°á»£c"
	Version Control							Biáº¿t ai sá»­a gÃ¬, rollback Ä‘Æ°á»£c nhÆ° code
	Tá»± Ä‘á»™ng hÃ³a hoÃ n toÃ n					Deploy háº¡ táº§ng nhÆ° deploy app
	Audit vÃ  Security						Kiá»ƒm tra thay Ä‘á»•i, tuÃ¢n thá»§ chÃ­nh sÃ¡ch
	Cost Estimation							Biáº¿t trÆ°á»›c chi phÃ­ háº¡ táº§ng trÆ°á»›c khi apply




# ğŸ› ï¸ CÃC CÃ”NG Cá»¤ IaC PHá»” BIáº¾N 
	


Tool					NgÃ´n ngá»¯						DÃ¹ng cho							        	Ghi chÃº máº¡nh máº½
Terraform			    HCL								Cloud má»i loáº¡i (AWS, GCP, Azure, v.v)			Chuáº©n cÃ´ng nghiá»‡p
Pulumi				    TypeScript, Python, Go			Cloud, infra, app								Dá»… dÃ¹ng cho dev (code tháº­t)
AWS CDK				    TypeScript, Python				AWS Infra (100%)								Native cho AWS
CloudFormation		    YAML/JSON						AWS												Dá»… tÃ­ch há»£p, nhÆ°ng verbose (rÆ°á»m rÃ )
Ansible				    YAML							Server config, post-deploy						Dá»… viáº¿t, cháº¡y Ä‘Æ°á»£c cá»¥c bá»™






# ğŸ”§ 1. Terraform â€“ King of IaC 
	Terraform = chuáº©n cÃ´ng nghiá»‡p cho cloud IaC.

	
	## Cáº¥u trÃºc Ä‘Æ¡n giáº£n: 
		
		resource "aws_s3_bucket" "my_bucket" {
		bucket = "my-company-backup"
		acl    = "private"
		}


	## Quy trÃ¬nh chuáº©n: 
		
		terraform init      # Khá»Ÿi táº¡o project
		terraform plan      # Xem trÆ°á»›c sáº½ táº¡o/sá»­a gÃ¬
		terraform apply     # Thá»±c thi
		terraform destroy   # XÃ³a toÃ n bá»™
		

	## TÃ­nh nÄƒng hay:
			State file quáº£n lÃ½ resource
			Module tÃ¡i sá»­ dá»¥ng háº¡ táº§ng
			Há»— trá»£ multi-cloud	








# ğŸŒ€ 2. Pulumi â€“ Viáº¿t IaC báº±ng ngÃ´n ngá»¯ tháº­t 
	
		import * as aws from "@pulumi/aws";
		const bucket = new aws.s3.Bucket("my-bucket");

	PhÃ¹ há»£p náº¿u team báº¡n lÃ  dev (JavaScript, TypeScript, Python) â€” khÃ´ng thÃ­ch há»c HCL.





# â˜ï¸ 3. AWS CDK 
	CDK = Cloud Development Kit â†’ cho AWS native 
	
	
		const bucket = new s3.Bucket(this, 'MyBucket', {
		versioned: true,
		removalPolicy: RemovalPolicy.DESTROY
		});




	# Lá»£i Ã­ch:
			Kiá»ƒm soÃ¡t AWS resource sÃ¢u
			Tá»± Ä‘á»™ng sinh ra CloudFormation
			ÄÃºng cÃº phÃ¡p, autocompletion






# ğŸ¤– 4. Ansible â€“ Khi cáº§n configure server 
	

	Ansible = viáº¿t script Ä‘á»ƒ:
	
		CÃ i nginx, docker
		Setup config file
		Quáº£n lÃ½ ngÆ°á»i dÃ¹ng SSH


		- name: Install nginx
		apt:
			name: nginx
			state: latest
	
			
	KhÃ´ng máº¡nh nhÆ° Terraform trong provisioning, nhÆ°ng máº¡nh trong post-setup vÃ  cáº¥u hÃ¬nh mÃ¡y áº£o.
	
	
	
	
# 	ğŸ§  Kiáº¿n trÃºc IaC chuáº©n production 
	
	
	## TÃ¡ch biá»‡t:
	
			infra/ â†’ chá»©a Terraform hoáº·c CDK
			app/ â†’ chá»©a source code
			ci-cd/ â†’ chá»©a GitHub Actions / ArgoCD / Helm chart
			Má»—i mÃ´i trÆ°á»ng (dev/stage/prod) cÃ³ folder riÃªng
	
	
	
	
	## GitOps cho IaC: 
	
			Pull request Ä‘á»ƒ thay Ä‘á»•i háº¡ táº§ng
			Terraform Plan cháº¡y trÃªn PR
			Sau khi duyá»‡t â†’ Terraform Apply (qua GitHub Actions)
	
	
	
	
	
# ğŸ” Terraform Cloud / Atlantis / Terragrunt 

CÃ´ng cá»¥							Má»¥c Ä‘Ã­ch
Terraform Cloud				Hosted CI/CD cho IaC cá»§a HashiCorp
Atlantis					Trigger Terraform Apply qua PR comment
Terragrunt					Tá»• chá»©c nhiá»u module Terraform hiá»‡u quáº£ hÆ¡n




# ğŸ¯ Best Practice IaC cho Senior Architect
	
	
		KhÃ´ng click háº¡ táº§ng â†’ viáº¿t IaC cho táº¥t cáº£
		LÆ°u IaC trÃªn Git â†’ review, audit, rollback
		Cháº¡y Terraform Plan má»—i pull request
		DÃ¹ng module Ä‘á»ƒ tÃ¡i sá»­ dá»¥ng (load balancer, VPC, database)
		KhÃ´ng Ä‘á»ƒ secret trong code â†’ dÃ¹ng Vault / SOPS / GitHub Secrets	
	
	
	
	
</pre><a id='backBottom' href='../java-learning-list.html' style='display:none;'>ğŸ”™ Quay láº¡i danh sÃ¡ch</a><br><button onclick='toggleTheme()'>ğŸŒ™ Chuyá»ƒn giao diá»‡n</button></div><script>function toggleTheme() {   let mode = document.body.classList.contains('dark-mode') ? 'light-mode' : 'dark-mode';   document.body.className = mode; localStorage.setItem('theme', mode);   syncTheme();}function applyTheme() {   let savedTheme = localStorage.getItem('theme') || 'dark-mode';   document.body.className = savedTheme;   syncTheme();}function syncTheme() {   let preElement = document.querySelector('pre');   if (document.body.classList.contains('dark-mode')) { preElement.style.background = '#1e1e1e'; preElement.style.color = '#e0e0e0'; }   else { preElement.style.background = '#f5f5f5'; preElement.style.color = '#333333'; }}function checkPageHeight() {   let contentHeight = document.body.scrollHeight;   let windowHeight = window.innerHeight;   if (contentHeight > windowHeight * 1.2) {       document.getElementById('backBottom').style.display = 'block';   } else {       document.getElementById('backBottom').style.display = 'none';   }}</script></body></html>