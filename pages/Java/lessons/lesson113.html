<html><head><title>Lesson 113 == Tree Rotation ==========//</title><style>body { font-family: Arial, sans-serif; transition: background 0.3s, color 0.3s; }.dark-mode { background-color: #121212; color: #e0e0e0; }.light-mode { background-color: #ffffff; color: #333333; }h1 { text-align: center; color: #73d9f5; }pre { padding: 15px; border-radius: 5px;       white-space: pre-wrap; word-wrap: break-word;       overflow-x: auto; max-width: 100%;       transition: background 0.3s, color 0.3s; }.dark-mode pre { background: #1e1e1e; color: #e0e0e0; }.light-mode pre { background: #f5f5f5; color: #333333; }#backTop, #backBottom {    font-size: 2em; padding: 20px 40px;    background: #bb86fc; color: white; text-decoration: none;    border-radius: 10px; display: inline-block; text-align: center; }#backTop:hover, #backBottom:hover { background: #9b67e2; }button { font-size: 1.5em; padding: 15px 30px;    background: #03dac6; color: #121212; border: none;    cursor: pointer; border-radius: 5px; display: block; margin: 10px auto; }button:hover { background: #02b8a3; }.dark-mode a { color: #03dac6; } .light-mode a { color: #007bff; }</style></head><body onload='applyTheme(); checkPageHeight()'><div class='container'><a id='backTop' href='../java-learning-list.html'>üîô Quay l·∫°i danh s√°ch</a><br><h1>Lesson 113 -- Tree Rotation -//</h1><pre>
# Kh√°i ni·ªám 
	Tree rotation l√† thao t√°c t√°i c·∫•u tr√∫c m·ªôt ph·∫ßn c·ªßa c√¢y nh·ªã ph√¢n (binary tree) ƒë·ªÉ:
		- Duy tr√¨ t√≠nh ch·∫•t BST
		- Gi·ªØ c√¢y ·ªü tr·∫°ng th√°i c√¢n b·∫±ng t·ªët h∆°n 
		
	Rotation kh√¥ng thay ƒë·ªïi th·ª© t·ª± c√°c node theo in-order traversal (duy·ªát LNR v·∫´n ƒë√∫ng th·ª© t·ª±).
	
	
# ‚öôÔ∏è C√≥ m·∫•y lo·∫°i rotation?
 
C√≥ 4 lo·∫°i c∆° b·∫£n:		
	
| Lo·∫°i rotation            | D√πng khi                          | H∆∞·ªõng x·ª≠ l√Ω     |
| ------------------------ | --------------------------------- | --------------- |
| Left Rotation            | C√¢y nghi√™ng v·ªÅ ph·∫£i (right-heavy) | Xoay tr√°i       |
| Right Rotation           | C√¢y nghi√™ng v·ªÅ tr√°i (left-heavy)  | Xoay ph·∫£i       |
| Left-Right Rotation (LR) | Con tr√°i nghi√™ng ph·∫£i             | Right-then-left |
| Right-Left Rotation (RL) | Con ph·∫£i nghi√™ng tr√°i             | Left-then-right |



# üéØ M·ª•c ti√™u: Gi·ªØ chi·ªÅu cao c√¢y ·ªü m·ª©c g·∫ßn log(n)

N·∫øu c√¢y qu√° l·ªách m·ªôt ph√≠a, thao t√°c t√¨m ki·∫øm s·∫Ω th√†nh O(n). Rotation gi√∫p ƒë∆∞a v·ªÅ log(n) b·∫±ng c√°ch ph√¢n b·ªë l·∫°i node theo chi·ªÅu s√¢u ƒë·ªÅu h∆°n.


# üîÑ LEFT ROTATION ‚Äì Minh h·ªça ƒë∆°n gi·∫£n

    A
     \
      B
       \
        C

	G·ªçi leftRotate(A)
	      B
         / \
        A   C

	üìå G·ªëc chuy·ªÉn t·ª´ A ‚Üí B 
	
Node leftRotate(Node A) {
    Node B = A.right;
    A.right = B.left;
    B.left = A;
    return B;
}
	

# üîÑ RIGHT ROTATION ‚Äì ƒê·ªëi x·ª©ng
		   C
		 /
		B
	   /
	  A
	


	G·ªçi rightRotate(C)
	
      B
     / \
    A   C


Node rightRotate(Node C) {
    Node B = C.left;
    C.left = B.right;
    B.right = C;
    return B;
}



# üîÅ COMPOSITE: Left-Right Rotation (LR)

	X·∫£y ra khi c√¢y l·ªách tr√°i nh∆∞ng node con l·∫°i l·ªách ph·∫£i. C·∫ßn 2 b∆∞·ªõc:
	
		leftRotate(con tr√°i)
		rightRotate(ch√≠nh n√≥)

			30
		    /
		    10
			\
			20


		Sau LR Rotation:
		
				 20
				/  \
			   10   30
		

# üîÅ Right-Left Rotation (RL)

	T∆∞∆°ng t·ª± nh∆∞ng ng∆∞·ª£c chi·ªÅu.
	


# üìê Khi n√†o d√πng?

| C·∫•u tr√∫c           | M·ª•c ti√™u rotation                                  |
| ------------------ | -------------------------------------------------- |
| **AVL Tree**       | Gi·ªØ `balance factor ‚àà {-1, 0, +1}`                 |
| **Red-Black Tree** | Sau khi ch√®n ho·∫∑c x√≥a, restore l·∫°i ‚Äúcolor + shape‚Äù |
| **Splay Tree**     | Xoay ƒë·ªÉ ƒë∆∞a node v·ªÅ root (Zig/Zig-Zag/Zig-Zig)     |
| **Treap**          | D·ª±a v√†o priority, n·∫øu vi ph·∫°m heap ‚Üí xoay          |
| **Scapegoat Tree** | Kh√¥ng d√πng rotation, d√πng rebuild to√†n subtree     |


# üß† G√≥c nh√¨n ki·∫øn tr√∫c h·ªá th·ªëng 

Rotation l√† c√¥ng c·ª• cho:

	C√¢y t·ª± c√¢n b·∫±ng (self-balancing tree) ‚Üí ƒë·∫£m b·∫£o hi·ªáu nƒÉng O(log n)
	H·ªá th·ªëng l∆∞u tr·ªØ key-value n·ªôi b·ªô nh∆∞ Java TreeMap, ConcurrentSkipListMap, LevelDB
	T·ªëi ∆∞u ƒë·ªô s√¢u h·ªá th·ªëng (index, prefix tree,...)

# ‚úÖ T·ªïng k·∫øt c·ªët l√µi:
| ƒê·∫∑c ƒëi·ªÉm                | √ù nghƒ©a                           |
| ----------------------- | --------------------------------- |
| Kh√¥ng thay ƒë·ªïi in-order | T√≠nh ch·∫•t BST gi·ªØ nguy√™n          |
| L√† ph√©p local           | Ch·ªâ ·∫£nh h∆∞·ªüng 1‚Äì3 node, r·∫•t nhanh |
| C√≥ th·ªÉ l·ªìng nhau        | Zig-Zag = hai rotation            |
| D√πng trong c√¢n b·∫±ng     | AVL, RBT, Treap, Splay...         |
	

			
</pre><a id='backBottom' href='../java-learning-list.html' style='display:none;'>üîô Quay l·∫°i danh s√°ch</a><br><button onclick='toggleTheme()'>üåô Chuy·ªÉn giao di·ªán</button></div><script>function toggleTheme() {   let mode = document.body.classList.contains('dark-mode') ? 'light-mode' : 'dark-mode';   document.body.className = mode; localStorage.setItem('theme', mode);   syncTheme();}function applyTheme() {   let savedTheme = localStorage.getItem('theme') || 'dark-mode';   document.body.className = savedTheme;   syncTheme();}function syncTheme() {   let preElement = document.querySelector('pre');   if (document.body.classList.contains('dark-mode')) { preElement.style.background = '#1e1e1e'; preElement.style.color = '#e0e0e0'; }   else { preElement.style.background = '#f5f5f5'; preElement.style.color = '#333333'; }}function checkPageHeight() {   let contentHeight = document.body.scrollHeight;   let windowHeight = window.innerHeight;   if (contentHeight > windowHeight * 1.2) {       document.getElementById('backBottom').style.display = 'block';   } else {       document.getElementById('backBottom').style.display = 'none';   }}</script></body></html>