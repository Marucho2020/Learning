<html><head><title>Lesson 34 == Vue refs ==========//</title><style>body { font-family: Arial, sans-serif; transition: background 0.3s, color 0.3s; }.dark-mode { background-color: #121212; color: #e0e0e0; }.light-mode { background-color: #ffffff; color: #333333; }h1 { text-align: center; color: #73d9f5; }pre { padding: 15px; border-radius: 5px;       white-space: pre-wrap; word-wrap: break-word;       overflow-x: auto; max-width: 100%;       transition: background 0.3s, color 0.3s; }.dark-mode pre { background: #1e1e1e; color: #e0e0e0; }.light-mode pre { background: #f5f5f5; color: #333333; }#backTop, #backBottom {    font-size: 2em; padding: 20px 40px;    background: #bb86fc; color: white; text-decoration: none;    border-radius: 10px; display: inline-block; text-align: center; }#backTop:hover, #backBottom:hover { background: #9b67e2; }button { font-size: 1.5em; padding: 15px 30px;    background: #03dac6; color: #121212; border: none;    cursor: pointer; border-radius: 5px; display: block; margin: 10px auto; }button:hover { background: #02b8a3; }.dark-mode a { color: #03dac6; } .light-mode a { color: #007bff; }</style></head><body onload='applyTheme(); checkPageHeight()'><div class='container'><a id='backTop' href='../vue-js-learning-list.html'>üîô Quay l·∫°i danh s√°ch</a><br><h1>Lesson 34 -- Vue refs -//</h1><pre># Kh√°i ni·ªám 
	Refs l√† m·ªôt c√°ch ƒë·ªÉ truy c·∫≠p tr·ª±c ti·∫øp v√†o:
	
		Ph·∫ßn t·ª≠ DOM (nh∆∞ <input>, <div>) trong template.
		Instance c·ªßa component (ƒë·ªÉ g·ªçi methods ho·∫∑c truy c·∫≠p data).

	Thay v√¨ s·ª≠ d·ª•ng c√°c ph∆∞∆°ng th·ª©c DOM truy·ªÅn th·ªëng nh∆∞ document.getElementById, refs cung c·∫•p m·ªôt c√°ch an to√†n v√† t√≠ch h·ª£p v·ªõi h·ªá th·ªëng reactive c·ªßa Vue.
	
	Refs th∆∞·ªùng ƒë∆∞·ª£c d√πng khi b·∫°n c·∫ßn th·ª±c hi·ªán c√°c thao t√°c tr·ª±c ti·∫øp tr√™n DOM (nh∆∞ focus input, l·∫•y gi√° tr·ªã, ho·∫∑c ƒëo k√≠ch th∆∞·ªõc) ho·∫∑c t∆∞∆°ng t√°c v·ªõi component con.



# 2. C√°ch s·ª≠ d·ª•ng Refs 
	## ƒê·ªÉ s·ª≠ d·ª•ng refs, b·∫°n:
		1. G·∫Øn thu·ªôc t√≠nh ref="tenRef" v√†o ph·∫ßn t·ª≠ ho·∫∑c component trong template.
		2. Truy c·∫≠p ref qua this.$refs.tenRef (Vue 2) ho·∫∑c ref() (Vue 3 Composition API) trong m√£ JavaScript.
		
	## 	C√∫ ph√°p c∆° b·∫£n 
<template>
  <input ref="myInput" type="text" />
  <button @click="focusInput">Focus Input</button>
</template>


# 3. V√≠ d·ª•: Truy c·∫≠p ph·∫ßn t·ª≠ DOM 
	Vue 2 (Options API) 
	
<template>
  <div>
    <input ref="myInput" type="text" placeholder="Enter text" />
    <button @click="focusInput">Focus Input</button>
  </div>
</template>

<script>
export default {
  methods: {
    focusInput() {
      this.$refs.myInput.focus(); // Truy c·∫≠p DOM v√† g·ªçi method focus()
    }
  }
};
</script>		



	## Vue 3 (Composition API) 
	
<template>
  <div>
    <input ref="myInput" type="text" placeholder="Enter text" />
    <button @click="focusInput">Focus Input</button>
  </div>
</template>

<script>
import { ref } from 'vue';

export default {
  setup() {
    const myInput = ref(null); // Khai b√°o ref v·ªõi gi√° tr·ªã ban ƒë·∫ßu l√† null

    const focusInput = () => {
      myInput.value.focus(); // Truy c·∫≠p DOM qua .value
    };

    return {
      myInput,
      focusInput
    };
  }
};
</script>


	## Gi·∫£i th√≠ch 
		ref="myInput": G·∫Øn m·ªôt tham chi·∫øu t√™n myInput v√†o th·∫ª <input>.
		Vue 2: Truy c·∫≠p ph·∫ßn t·ª≠ DOM qua this.$refs.myInput.
		Vue 3: S·ª≠ d·ª•ng ref() ƒë·ªÉ t·∫°o bi·∫øn myInput, v√† truy c·∫≠p DOM qua myInput.value.
		K·∫øt qu·∫£: Khi nh·∫•n n√∫t, √¥ input s·∫Ω ƒë∆∞·ª£c focus.
		Vue 3 d·ª±a v√†o t√™n bi·∫øn (gi√° tr·ªã c·ªßa thu·ªôc t√≠nh ref trong template) ƒë·ªÉ x√°c ƒë·ªãnh ph·∫ßn t·ª≠ n√†o ƒë∆∞·ª£c g√°n cho bi·∫øn ref n√†o.

		
	
# 4. V√≠ d·ª•: Truy c·∫≠p Component Instance 
	Refs c≈©ng c√≥ th·ªÉ ƒë∆∞·ª£c d√πng ƒë·ªÉ truy c·∫≠p instance c·ªßa component con, cho ph√©p g·ªçi methods ho·∫∑c truy c·∫≠p data.
	
	
	## Component con (ChildComponent.vue) 
<template>
  <div>
    <p>{{ message }}</p>
  </div>
</template>

<script>
export default {
  data() {
    return {
      message: 'Hello from Child'
    };
  },
  methods: {
    updateMessage(newMessage) {
      this.message = newMessage;
    }
  }
};
</script>	



	## Component cha Vue 2
		###  (Options API)   
		
<template>
  <div>
    <child-component ref="child"></child-component>
    <button @click="changeChildMessage">Change Child Message</button>
  </div>
</template>

<script>
import ChildComponent from './ChildComponent.vue';

export default {
  components: { ChildComponent },
  methods: {
    changeChildMessage() {
      this.$refs.child.updateMessage('Updated from Parent!'); // G·ªçi method c·ªßa component con
    }
  }
};
</script>	
	
	
		### 
<template>
  <div>
    <child-component ref="child"></child-component>
    <button @click="changeChildMessage">Change Child Message</button>
  </div>
</template>

<script>
import { ref } from 'vue';
import ChildComponent from './ChildComponent.vue';

export default {
  components: { ChildComponent },
  setup() {
    const child = ref(null); // Ref cho component con

    const changeChildMessage = () => {
      child.value.updateMessage('Updated from Parent!'); // G·ªçi method c·ªßa component con
    };

    return {
      child,
      changeChildMessage
    };
  }
};
</script>	
	
	
	## Gi·∫£i th√≠ch
		ref="child": G·∫Øn tham chi·∫øu child v√†o <child-component>.
		Truy c·∫≠p instance:
		Vue 2: this.$refs.child tr·∫£ v·ªÅ instance c·ªßa component con.
		Vue 3: child.value tr·∫£ v·ªÅ instance c·ªßa component con.
		G·ªçi method: S·ª≠ d·ª•ng updateMessage ƒë·ªÉ thay ƒë·ªïi message trong component con.
		K·∫øt qu·∫£: Nh·∫•n n√∫t s·∫Ω ƒë·ªïi n·ªôi dung <p> trong component con th√†nh "Updated from Parent!".
	
	

# 5. Refs v·ªõi v-for 
	Khi s·ª≠ d·ª•ng ref trong v-for, this.$refs.tenRef (Vue 2) ho·∫∑c ref (Vue 3) s·∫Ω tr·∫£ v·ªÅ m·ªôt m·∫£ng ch·ª©a c√°c ph·∫ßn t·ª≠ DOM ho·∫∑c instance component t∆∞∆°ng ·ª©ng.
	
<template>
  <div>
    <input v-for="item in items" :key="item" ref="inputs" type="text" />
    <button @click="focusFirstInput">Focus First Input</button>
  </div>
</template>

<script>
import { ref } from 'vue';

export default {
  setup() {
    const items = [1, 2, 3];
    const inputs = ref([]); // M·∫£ng refs

    const focusFirstInput = () => {
      inputs.value[0].focus(); // Focus input ƒë·∫ßu ti√™n
    };

    return {
      items,
      inputs,
      focusFirstInput
    };
  }
};
</script>	

	## Gi·∫£i th√≠ch 
		ref="inputs" trong v-for t·∫°o m·ªôt m·∫£ng refs (inputs.value l√† m·ªôt m·∫£ng c√°c <input>).
		inputs.value[0].focus(): Focus v√†o ph·∫ßn t·ª≠ <input> ƒë·∫ßu ti√™n trong m·∫£ng.




# 6. L∆∞u √Ω quan tr·ªçng



	## Tr√°nh l·∫°m d·ª•ng Refs 
		Refs n√™n ƒë∆∞·ª£c d√πng khi kh√¥ng th·ªÉ gi·∫£i quy·∫øt b·∫±ng reactive data ho·∫∑c props/events. V√≠ d·ª•, ch·ªâ d√πng refs ƒë·ªÉ focus input, ƒëo k√≠ch th∆∞·ªõc DOM, ho·∫∑c g·ªçi method ƒë·∫∑c bi·ªát c·ªßa component con.
		
		L·∫°m d·ª•ng refs c√≥ th·ªÉ l√†m m√£ kh√≥ b·∫£o tr√¨ v√† ph√° v·ª° t√≠nh reactive c·ªßa Vue.

	## Vue 2 vs Vue 3: 
	
		Vue 2: S·ª≠ d·ª•ng this.$refs tr·ª±c ti·∫øp.
		Vue 3: S·ª≠ d·ª•ng ref() t·ª´ Composition API, truy c·∫≠p qua .value.



	## Refs trong v-if 
		N·∫øu ph·∫ßn t·ª≠/component c√≥ v-if, ref s·∫Ω l√† null khi ph·∫ßn t·ª≠ kh√¥ng ƒë∆∞·ª£c render. Lu√¥n ki·ªÉm tra tr∆∞·ªõc khi s·ª≠ d·ª•ng:
if (this.$refs.myInput) {
  this.$refs.myInput.focus();
}



	## Refs v√† Scoped Slots: 
		Refs kh√¥ng li√™n quan tr·ª±c ti·∫øp ƒë·∫øn scoped slots, nh∆∞ng b·∫°n c√≥ th·ªÉ d√πng refs ƒë·ªÉ truy c·∫≠p ph·∫ßn t·ª≠ trong n·ªôi dung slot n·∫øu c·∫ßn.



	## Hi·ªáu su·∫•t: 
		Refs kh√¥ng ·∫£nh h∆∞·ªüng nhi·ªÅu ƒë·∫øn hi·ªáu su·∫•t, nh∆∞ng c·∫ßn ƒë·∫£m b·∫£o s·ª≠ d·ª•ng ƒë√∫ng ng·ªØ c·∫£nh. 
		
		

# 7. ·ª®ng d·ª•ng th·ª±c t·∫ø
	Focus input: T·ª± ƒë·ªông focus v√†o √¥ input khi m·ªü form ho·∫∑c modal.
	ƒêo k√≠ch th∆∞·ªõc DOM: L·∫•y chi·ªÅu cao/r·ªông c·ªßa m·ªôt ph·∫ßn t·ª≠ ƒë·ªÉ ƒëi·ªÅu ch·ªânh giao di·ªán.
	T∆∞∆°ng t√°c v·ªõi component con: G·ªçi methods c·ªßa component con ƒë·ªÉ th·ª±c hi·ªán h√†nh ƒë·ªông ƒë·∫∑c bi·ªát.
	T√≠ch h·ª£p th∆∞ vi·ªán b√™n th·ª© ba: S·ª≠ d·ª•ng refs ƒë·ªÉ g·∫Øn th∆∞ vi·ªán JavaScript (nh∆∞ Chart.js) v√†o m·ªôt ph·∫ßn t·ª≠ DOM.


# C√°ch Vue 3 ph√¢n bi·ªát c√°c ref 
	Vue 3 s·ª≠ d·ª•ng thu·ªôc t√≠nh ref trong template ƒë·ªÉ li√™n k·∫øt tr·ª±c ti·∫øp v·ªõi c√°c ph·∫ßn t·ª≠ DOM ho·∫∑c component, v√† t√™n bi·∫øn trong setup() ch√≠nh l√† y·∫øu t·ªë quy·∫øt ƒë·ªãnh ƒë·ªÉ √°nh x·∫°.

	## Li√™n k·∫øt gi·ªØa ref trong template v√† bi·∫øn trong setup() 
	
		Khi b·∫°n g·∫Øn ref="tenRef" v√†o m·ªôt ph·∫ßn t·ª≠ trong template (nh∆∞ <input ref="myInput">), Vue s·∫Ω li√™n k·∫øt ph·∫ßn t·ª≠ ƒë√≥ v·ªõi bi·∫øn ref c√≥ c√πng t√™n (myInput) ƒë∆∞·ª£c khai b√°o trong setup().
		
		T√™n c·ªßa bi·∫øn ref trong setup() (nh∆∞ const myInput = ref(null)) ph·∫£i kh·ªõp v·ªõi gi√° tr·ªã c·ªßa thu·ªôc t√≠nh ref trong template.

	## D·ª±a v√†o t√™n bi·∫øn: 
		Vue 3 d·ª±a v√†o t√™n bi·∫øn (gi√° tr·ªã c·ªßa thu·ªôc t√≠nh ref trong template) ƒë·ªÉ x√°c ƒë·ªãnh ph·∫ßn t·ª≠ n√†o ƒë∆∞·ª£c g√°n cho bi·∫øn ref n√†o.
		
		Vue kh√¥ng s·ª≠ d·ª•ng selector (nh∆∞ CSS selector) m√† s·ª≠ d·ª•ng √°nh x·∫° tr·ª±c ti·∫øp gi·ªØa ref="tenRef" trong template v√† bi·∫øn tenRef trong setup().



	## Tr∆∞·ªùng h·ª£p nhi·ªÅu ref: 
		N·∫øu template c√≥ nhi·ªÅu ref, m·ªói ref s·∫Ω ƒë∆∞·ª£c li√™n k·∫øt v·ªõi m·ªôt bi·∫øn ri√™ng bi·ªát trong setup(). Vue ƒë·∫£m b·∫£o r·∫±ng m·ªói bi·∫øn ref ch·ªâ tr·ªè ƒë·∫øn ph·∫ßn t·ª≠ ho·∫∑c component t∆∞∆°ng ·ª©ng v·ªõi t√™n c·ªßa n√≥.
		
		
<template>
  <div>
    <input ref="firstInput" type="text" placeholder="First input" />
    <input ref="secondInput" type="text" placeholder="Second input" />
    <button ref="myButton" @click="focusInputs">Focus Inputs</button>
  </div>
</template>

<script>
import { ref } from 'vue';

export default {
  setup() {
    // Khai b√°o nhi·ªÅu ref, m·ªói ref t∆∞∆°ng ·ª©ng v·ªõi m·ªôt ph·∫ßn t·ª≠
    const firstInput = ref(null); // Li√™n k·∫øt v·ªõi ref="firstInput"
    const secondInput = ref(null); // Li√™n k·∫øt v·ªõi ref="secondInput"
    const myButton = ref(null); // Li√™n k·∫øt v·ªõi ref="myButton"

    const focusInputs = () => {
      if (firstInput.value) {
        firstInput.value.focus(); // Focus v√†o input ƒë·∫ßu ti√™n
      }
      // C√≥ th·ªÉ truy c·∫≠p secondInput ho·∫∑c myButton
      console.log(secondInput.value); // In ra <input> th·ª© hai
      console.log(myButton.value); // In ra <button>
    };

    return {
      firstInput,
      secondInput,
      myButton,
      focusInputs
    };
  }
};
</script>	



	## Gi·∫£i th√≠ch 
		ref="firstInput" trong template li√™n k·∫øt v·ªõi const firstInput = ref(null) trong setup().
		ref="secondInput" li√™n k·∫øt v·ªõi const secondInput = ref(null).
		ref="myButton" li√™n k·∫øt v·ªõi const myButton = ref(null).

	## Vue ph√¢n bi·ªát: 
		Vue s·ª≠ d·ª•ng t√™n c·ªßa thu·ªôc t√≠nh ref trong template ƒë·ªÉ kh·ªõp v·ªõi t√™n bi·∫øn trong setup(). Do ƒë√≥, firstInput.value tr·ªè ƒë·∫øn <input> ƒë·∫ßu ti√™n, secondInput.value tr·ªè ƒë·∫øn <input> th·ª© hai, v√† myButton.value tr·ªè ƒë·∫øn <button>.
		
		
	## Tr∆∞·ªùng h·ª£p ƒë·∫∑c bi·ªát 
		### Nhi·ªÅu ref trong v-for	
				N·∫øu b·∫°n d√πng ref trong v-for, ref s·∫Ω l√† m·ªôt m·∫£ng ch·ª©a c√°c ph·∫ßn t·ª≠ DOM ho·∫∑c component t∆∞∆°ng ·ª©ng.
<template>
  <div>
    <input v-for="item in items" :key="item" ref="inputs" type="text" />
    <button @click="focusFirstInput">Focus First Input</button>
  </div>
</template>

<script>
import { ref } from 'vue';

export default {
  setup() {
    const items = [1, 2, 3];
    const inputs = ref([]); // M·∫£ng refs

    const focusFirstInput = () => {
      if (inputs.value[0]) {
        inputs.value[0].focus(); // Focus input ƒë·∫ßu ti√™n
      }
    };

    return {
      items,
      inputs,
      focusFirstInput
    };
  }
};
</script>	

		Gi·∫£i th√≠ch: ref="inputs" trong v-for t·∫°o m·ªôt m·∫£ng inputs.value, ch·ª©a t·∫•t c·∫£ c√°c <input> trong v√≤ng l·∫∑p. Vue t·ª± ƒë·ªông √°nh x·∫° c√°c ph·∫ßn t·ª≠ theo th·ª© t·ª± xu·∫•t hi·ªán.



</pre><a id='backBottom' href='../vue-js-learning-list.html' style='display:none;'>üîô Quay l·∫°i danh s√°ch</a><br><button onclick='toggleTheme()'>üåô Chuy·ªÉn giao di·ªán</button></div><script>function toggleTheme() {   let mode = document.body.classList.contains('dark-mode') ? 'light-mode' : 'dark-mode';   document.body.className = mode; localStorage.setItem('theme', mode);   syncTheme();}function applyTheme() {   let savedTheme = localStorage.getItem('theme') || 'dark-mode';   document.body.className = savedTheme;   syncTheme();}function syncTheme() {   let preElement = document.querySelector('pre');   if (document.body.classList.contains('dark-mode')) { preElement.style.background = '#1e1e1e'; preElement.style.color = '#e0e0e0'; }   else { preElement.style.background = '#f5f5f5'; preElement.style.color = '#333333'; }}function checkPageHeight() {   let contentHeight = document.body.scrollHeight;   let windowHeight = window.innerHeight;   if (contentHeight > windowHeight * 1.2) {       document.getElementById('backBottom').style.display = 'block';   } else {       document.getElementById('backBottom').style.display = 'none';   }}</script></body></html>