<html><head><title>Lesson 56 == opt_expose ==========//</title><style>body { font-family: Arial, sans-serif; transition: background 0.3s, color 0.3s; }.dark-mode { background-color: #121212; color: #e0e0e0; }.light-mode { background-color: #ffffff; color: #333333; }h1 { text-align: center; color: #73d9f5; }pre { padding: 15px; border-radius: 5px;       white-space: pre-wrap; word-wrap: break-word;       overflow-x: auto; max-width: 100%;       transition: background 0.3s, color 0.3s; }.dark-mode pre { background: #1e1e1e; color: #e0e0e0; }.light-mode pre { background: #f5f5f5; color: #333333; }#backTop, #backBottom {    font-size: 2em; padding: 20px 40px;    background: #bb86fc; color: white; text-decoration: none;    border-radius: 10px; display: inline-block; text-align: center; }#backTop:hover, #backBottom:hover { background: #9b67e2; }button { font-size: 1.5em; padding: 15px 30px;    background: #03dac6; color: #121212; border: none;    cursor: pointer; border-radius: 5px; display: block; margin: 10px auto; }button:hover { background: #02b8a3; }.dark-mode a { color: #03dac6; } .light-mode a { color: #007bff; }</style></head><body onload='applyTheme(); checkPageHeight()'><div class='container'><a id='backTop' href='../vue-js-learning-list.html'>üîô Quay l·∫°i danh s√°ch</a><br><h1>Lesson 56 -- opt_expose -//</h1><pre># Kh√°i ni·ªám  
	defineExpose l√† m·ªôt macro trong <script setup> c·ªßa Vue 3, cho ph√©p component con r√µ r√†ng khai b√°o c√°c thu·ªôc t√≠nh ho·∫∑c ph∆∞∆°ng th·ª©c m√† n√≥ mu·ªën public (c√¥ng khai) ƒë·ªÉ component cha truy c·∫≠p.
	Theo m·∫∑c ƒë·ªãnh, trong <script setup>, kh√¥ng c√≥ g√¨ trong component ƒë∆∞·ª£c t·ª± ƒë·ªông c√¥ng khai cho cha, tr·ª´ khi ƒë∆∞·ª£c khai b√°o qua defineExpose.
	

# C√°ch ho·∫°t ƒë·ªông
	Trong <script setup>, b·∫°n g·ªçi defineExpose v·ªõi m·ªôt object ch·ª©a c√°c thu·ªôc t√≠nh, ph∆∞∆°ng th·ª©c ho·∫∑c gi√° tr·ªã m√† b·∫°n mu·ªën component cha c√≥ th·ªÉ truy c·∫≠p.
	
	Component cha c√≥ th·ªÉ s·ª≠ d·ª•ng ref ƒë·ªÉ l·∫•y instance c·ªßa component con v√† truy c·∫≠p c√°c th√†nh ph·∫ßn ƒë∆∞·ª£c khai b√°o trong defineExpose.

# V√≠ d·ª•

<script setup>
import { ref } from 'vue';

const count = ref(0);

function increment() {
  count.value++;
}

// C√¥ng khai count v√† increment cho component cha
defineExpose({
  count,
  increment
});
</script>

<template>
  <div>
    <p>Count: {{ count }}</p>
    <button @click="increment">Increment</button>
  </div>
</template>	
	
	
	
	## Component cha (Parent.vue) 
		
<script setup>
import { ref } from 'vue';
import ChildComponent from './ChildComponent.vue';

// T·∫°o ref ƒë·ªÉ tham chi·∫øu ƒë·∫øn component con
const childRef = ref(null);

function callChildMethod() {
  if (childRef.value) {
    childRef.value.increment(); // G·ªçi ph∆∞∆°ng th·ª©c increment c·ªßa con
    console.log(childRef.value.count); // Truy c·∫≠p count c·ªßa con
  }
}
</script>

<template>
  <div>
    <ChildComponent ref="childRef" />
    <button @click="callChildMethod">Call Child Method</button>
  </div>
</template>	
	
	
	
# Gi·∫£i th√≠ch 	
	
	## 	Component con:
		- defineExpose({ count, increment }) c√¥ng khai bi·∫øn count v√† ph∆∞∆°ng th·ª©c increment ƒë·ªÉ component cha c√≥ th·ªÉ truy c·∫≠p.
		- N·∫øu kh√¥ng c√≥ defineExpose, component cha kh√¥ng th·ªÉ truy c·∫≠p tr·ª±c ti·∫øp v√†o count ho·∫∑c increment.



	## Component cha 
<script setup>
import { ref } from 'vue';
import ChildComponent from './ChildComponent.vue';

// T·∫°o ref ƒë·ªÉ tham chi·∫øu ƒë·∫øn component con
const childRef = ref(null);

function callChildMethod() {
  if (childRef.value) {
    childRef.value.increment(); // G·ªçi ph∆∞∆°ng th·ª©c increment c·ªßa con
    console.log(childRef.value.count); // Truy c·∫≠p count c·ªßa con
  }
}
</script>

<template>
  <div>
    <ChildComponent ref="childRef" />
    <button @click="callChildMethod">Call Child Method</button>
  </div>
</template>		



	## Gi·∫£i th√≠ch 

		Component con:
			Trong Options API, s·ª± ki·ªán ƒë∆∞·ª£c khai b√°o trong m·∫£ng emits v√† s·ª≠ d·ª•ng this.$emit ƒë·ªÉ ph√°t s·ª± ki·ªán.
			Trong Composition API v·ªõi <script setup>, s·ª≠ d·ª•ng defineEmits ƒë·ªÉ khai b√°o s·ª± ki·ªán v√† nh·∫≠n m·ªôt h√†m emit ƒë·ªÉ ph√°t s·ª± ki·ªán.


		## Component cha 
			
			- L·∫Øng nghe s·ª± ki·ªán b·∫±ng @custom-event v√† g√°n m·ªôt h√†m x·ª≠ l√Ω (nh∆∞ handleCustomEvent) ƒë·ªÉ nh·∫≠n d·ªØ li·ªáu t·ª´ component con.
			- K·∫øt qu·∫£: Khi nh·∫•n n√∫t trong component con, s·ª± ki·ªán custom-event ƒë∆∞·ª£c ph√°t, component cha nh·∫≠n d·ªØ li·ªáu v√† c·∫≠p nh·∫≠t giao di·ªán (v√≠ d·ª•: hi·ªÉn th·ªã th√¥ng ƒëi·ªáp).


# L∆∞u √Ω

	- Khai b√°o emits: Trong Vue 3, khai b√°o s·ª± ki·ªán trong emits ho·∫∑c defineEmits l√† khuy·∫øn ngh·ªã ƒë·ªÉ tƒÉng t√≠nh minh b·∫°ch v√† h·ªó tr·ª£ ki·ªÉm tra l·ªói.
	- D·ªØ li·ªáu payload: $emit c√≥ th·ªÉ g·ª≠i nhi·ªÅu tham s·ªë, v√≠ d·ª•: emit('custom-event', param1, param2).
	- B·∫£o m·∫≠t: ƒê·∫£m b·∫£o d·ªØ li·ªáu g·ª≠i qua $emit ƒë∆∞·ª£c x·ª≠ l√Ω an to√†n trong component cha.
	- Hi·ªáu su·∫•t: S·ª≠ d·ª•ng $emit h·ª£p l√Ω ƒë·ªÉ tr√°nh ph√°t qu√° nhi·ªÅu s·ª± ki·ªán kh√¥ng c·∫ßn thi·∫øt, ·∫£nh h∆∞·ªüng ƒë·∫øn hi·ªáu su·∫•t.


</pre><a id='backBottom' href='../vue-js-learning-list.html' style='display:none;'>üîô Quay l·∫°i danh s√°ch</a><br><button onclick='toggleTheme()'>üåô Chuy·ªÉn giao di·ªán</button></div><script>function toggleTheme() {   let mode = document.body.classList.contains('dark-mode') ? 'light-mode' : 'dark-mode';   document.body.className = mode; localStorage.setItem('theme', mode);   syncTheme();}function applyTheme() {   let savedTheme = localStorage.getItem('theme') || 'dark-mode';   document.body.className = savedTheme;   syncTheme();}function syncTheme() {   let preElement = document.querySelector('pre');   if (document.body.classList.contains('dark-mode')) { preElement.style.background = '#1e1e1e'; preElement.style.color = '#e0e0e0'; }   else { preElement.style.background = '#f5f5f5'; preElement.style.color = '#333333'; }}function checkPageHeight() {   let contentHeight = document.body.scrollHeight;   let windowHeight = window.innerHeight;   if (contentHeight > windowHeight * 1.2) {       document.getElementById('backBottom').style.display = 'block';   } else {       document.getElementById('backBottom').style.display = 'none';   }}</script></body></html>