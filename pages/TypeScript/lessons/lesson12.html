<html><head><title>Lesson 12 == TypeScript Casting ==========//</title><style>body { font-family: Arial, sans-serif; transition: background 0.3s, color 0.3s; }.dark-mode { background-color: #121212; color: #e0e0e0; }.light-mode { background-color: #ffffff; color: #333333; }h1 { text-align: center; color: #73d9f5; }pre { padding: 15px; border-radius: 5px;       white-space: pre-wrap; word-wrap: break-word;       overflow-x: auto; max-width: 100%;       transition: background 0.3s, color 0.3s; }.dark-mode pre { background: #1e1e1e; color: #e0e0e0; }.light-mode pre { background: #f5f5f5; color: #333333; }#backTop, #backBottom {    font-size: 2em; padding: 20px 40px;    background: #bb86fc; color: white; text-decoration: none;    border-radius: 10px; display: inline-block; text-align: center; }#backTop:hover, #backBottom:hover { background: #9b67e2; }button { font-size: 1.5em; padding: 15px 30px;    background: #03dac6; color: #121212; border: none;    cursor: pointer; border-radius: 5px; display: block; margin: 10px auto; }button:hover { background: #02b8a3; }.dark-mode a { color: #03dac6; } .light-mode a { color: #007bff; }</style></head><body onload='applyTheme(); checkPageHeight()'><div class='container'><a id='backTop' href='../type-script-learning-list.html'>üîô Quay l·∫°i danh s√°ch</a><br><h1>Lesson 12 -- TypeScript Casting -//</h1><pre># 1. TypeScript Casting l√† g√¨?
	TypeScript Casting (√©p ki·ªÉu) l√† c√°ch ƒë·ªÉ n√≥i v·ªõi TypeScript r·∫±ng m·ªôt gi√° tr·ªã c√≥ m·ªôt ki·ªÉu d·ªØ li·ªáu c·ª• th·ªÉ, ngay c·∫£ khi TypeScript kh√¥ng t·ª± ƒë·ªông suy ra ƒë∆∞·ª£c ƒëi·ªÅu ƒë√≥. ƒêi·ªÅu n√†y r·∫•t h·ªØu √≠ch khi b·∫°n bi·∫øt r√µ ki·ªÉu d·ªØ li·ªáu c·ªßa m·ªôt bi·∫øn, nh∆∞ng TypeScript kh√¥ng th·ªÉ x√°c ƒë·ªãnh ch√≠nh x√°c do c√°ch m√£ ƒë∆∞·ª£c vi·∫øt.

	TypeScript l√† m·ªôt ng√¥n ng·ªØ m·∫°nh v·ªÅ ki·ªÉu (strongly-typed), n√™n vi·ªác √©p ki·ªÉu gi√∫p b·∫°n ki·ªÉm so√°t ch·∫∑t ch·∫Ω ki·ªÉu d·ªØ li·ªáu, tr√°nh l·ªói khi ch·∫°y ch∆∞∆°ng tr√¨nh.

# 2. T·∫°i sao c·∫ßn Casting?

	TypeScript ki·ªÉm tra ki·ªÉu d·ªØ li·ªáu trong qu√° tr√¨nh bi√™n d·ªãch ƒë·ªÉ ƒë·∫£m b·∫£o an to√†n. Tuy nhi√™n, trong m·ªôt s·ªë tr∆∞·ªùng h·ª£p, b·∫°n c√≥ th·ªÉ c·∫ßn "can thi·ªáp" v√†o h·ªá th·ªëng ki·ªÉu c·ªßa TypeScript, v√≠ d·ª•:
	
		- L√†m vi·ªác v·ªõi DOM (Document Object Model), khi TypeScript kh√¥ng ch·∫Øc ch·∫Øn v·ªÅ ki·ªÉu c·ªßa m·ªôt ph·∫ßn t·ª≠ HTML.
		- Khi l√†m vi·ªác v·ªõi d·ªØ li·ªáu t·ª´ API b√™n ngo√†i, n∆°i ki·ªÉu d·ªØ li·ªáu kh√¥ng ƒë∆∞·ª£c x√°c ƒë·ªãnh r√µ r√†ng.
		- Khi b·∫°n mu·ªën s·ª≠ d·ª•ng m·ªôt ki·ªÉu c·ª• th·ªÉ ƒë·ªÉ truy c·∫≠p c√°c thu·ªôc t√≠nh ho·∫∑c ph∆∞∆°ng th·ª©c c·ªßa n√≥.	
	
	Casting gi√∫p b·∫°n "b·∫£o ƒë·∫£m" v·ªõi TypeScript r·∫±ng m·ªôt gi√° tr·ªã thu·ªôc ki·ªÉu b·∫°n ch·ªâ ƒë·ªãnh, t·ª´ ƒë√≥ m·ªü r·ªông kh·∫£ nƒÉng s·ª≠ d·ª•ng m√£.

# 3. Hai c√°ch Casting ch√≠nh trong TypeScript	
	TypeScript cung c·∫•p hai c√∫ ph√°p ƒë·ªÉ √©p ki·ªÉu: as v√† g√≥c nh·ªçn <>. C·∫£ hai ƒë·ªÅu ph·ªï bi·∫øn, nh∆∞ng c√∫ ph√°p as ƒë∆∞·ª£c ∆∞a chu·ªông h∆°n v√¨ n√≥ r√µ r√†ng v√† ho·∫°t ƒë·ªông t·ªët trong c√°c file JSX/TSX.
	
	## a. C√∫ ph√°p as 
let value: any = "Hello, TypeScript!";
let length = (value as string).length;
console.log(length); // Output: 17	

	·ªû ƒë√¢y, value c√≥ ki·ªÉu any, nh∆∞ng b·∫°n bi·∫øt ch·∫Øc n√≥ l√† m·ªôt chu·ªói (string). B·∫°n d√πng as string ƒë·ªÉ √©p ki·ªÉu, cho ph√©p truy c·∫≠p thu·ªôc t√≠nh .length c·ªßa chu·ªói.


	##  b. C√∫ ph√°p g√≥c nh·ªçn < > 
let value: any = "Hello, TypeScript!";
let length = (<string>value).length;
console.log(length); // Output: 17

	T∆∞∆°ng t·ª± nh∆∞ as, nh∆∞ng c√∫ ph√°p n√†y kh√¥ng ƒë∆∞·ª£c khuy·∫øn kh√≠ch trong c√°c d·ª± √°n s·ª≠ d·ª•ng JSX (React) v√¨ n√≥ d·ªÖ g√¢y nh·∫ßm l·∫´n v·ªõi c√∫ ph√°p JSX.



# 4. Tr∆∞·ªùng h·ª£p s·ª≠ d·ª•ng ph·ªï bi·∫øn

	## a. L√†m vi·ªác v·ªõi DOM 
		Khi truy c·∫≠p ph·∫ßn t·ª≠ HTML, TypeScript th∆∞·ªùng kh√¥ng bi·∫øt ch√≠nh x√°c ki·ªÉu c·ªßa ph·∫ßn t·ª≠ ƒë√≥. V√≠ d·ª•:
let inputElement = document.getElementById("myInput");		
		
		TypeScript suy ra inputElement c√≥ ki·ªÉu HTMLElement | null, nh∆∞ng kh√¥ng bi·∫øt c·ª• th·ªÉ n√≥ l√† HTMLInputElement. B·∫°n c·∫ßn √©p ki·ªÉu:

let inputElement = document.getElementById("myInput") as HTMLInputElement;
console.log(inputElement.value); // Truy c·∫≠p thu·ªôc t√≠nh .value c·ªßa input

		N·∫øu kh√¥ng √©p ki·ªÉu, TypeScript s·∫Ω b√°o l·ªói v√¨ HTMLElement kh√¥ng c√≥ thu·ªôc t√≠nh .value.



		### L∆∞u √Ω: B·∫°n c·∫ßn ch·∫Øc ch·∫Øn r·∫±ng ph·∫ßn t·ª≠ t·ªìn t·∫°i (kh√¥ng ph·∫£i null). C√≥ th·ªÉ d√πng ki·ªÉm tra ƒëi·ªÅu ki·ªán: 
	
let inputElement = document.getElementById("myInput");
if (inputElement) {
  let value = (inputElement as HTMLInputElement).value;
  console.log(value);
}
	
	
	##	b. √âp ki·ªÉu v·ªõi any ho·∫∑c unknown
		Ki·ªÉu any cho ph√©p b·∫°n b·ªè qua ki·ªÉm tra ki·ªÉu, nh∆∞ng ƒë√¥i khi b·∫°n mu·ªën gi·ªõi h·∫°n l·∫°i ki·ªÉu c·ª• th·ªÉ:
	
let someValue: any = "123";
let num = (someValue as number); // Sai, v√¨ "123" kh√¥ng ph·∫£i s·ªë	
	
		V·ªõi ki·ªÉu unknown, b·∫°n c·∫ßn ki·ªÉm tra ki·ªÉu tr∆∞·ªõc khi √©p:
		
let someValue: unknown = "123";
if (typeof someValue === "string") {
  let str = someValue as string;
  console.log(str.length); // Output: 3
}	
		
	

# 5. C·∫£nh b√°o khi s·ª≠ d·ª•ng Casting
	Casting kh√¥ng thay ƒë·ªïi gi√° tr·ªã th·ª±c t·∫ø: √âp ki·ªÉu ch·ªâ n√≥i v·ªõi TypeScript v·ªÅ ki·ªÉu d·ªØ li·ªáu, kh√¥ng chuy·ªÉn ƒë·ªïi gi√° tr·ªã (v√≠ d·ª•, "123" kh√¥ng tr·ªü th√†nh 123).
	
	Nguy c∆° l·ªói runtime: N·∫øu b·∫°n √©p ki·ªÉu sai (v√≠ d·ª•, √©p m·ªôt chu·ªói th√†nh s·ªë), m√£ c√≥ th·ªÉ ch·∫°y l·ªói khi th·ª±c thi.
	
let value: any = "Hello";
let num = value as number; // Kh√¥ng b√°o l·ªói bi√™n d·ªãch, nh∆∞ng sai t·∫°i runtime
console.log(num.toFixed(2)); // L·ªói: num.toFixed is not a function

	Tr√°nh l·∫°m d·ª•ng any: D√πng any v√† √©p ki·ªÉu qu√° nhi·ªÅu l√†m m·∫•t ƒëi l·ª£i √≠ch c·ªßa TypeScript. H√£y s·ª≠ d·ª•ng c√°c ki·ªÉu c·ª• th·ªÉ ho·∫∑c unknown khi c√≥ th·ªÉ.



# 6. C√°ch hi·ªÉu s√¢u h∆°n 
	ƒê·ªÉ th·ª±c s·ª± hi·ªÉu s√¢u v·ªÅ TypeScript Casting, h√£y nghƒ© v·ªÅ n√≥ nh∆∞ m·ªôt c√°ch giao ti·∫øp v·ªõi tr√¨nh bi√™n d·ªãch TypeScript:
	
	 - H·ªá th·ªëng ki·ªÉu c·ªßa TypeScript: TypeScript c·ªë g·∫Øng suy ra ki·ªÉu d·ªØ li·ªáu d·ª±a tr√™n m√£ b·∫°n vi·∫øt. Nh∆∞ng ƒë√¥i khi, n√≥ kh√¥ng ƒë·ªß th√¥ng minh ƒë·ªÉ hi·ªÉu b·ªëi c·∫£nh (nh∆∞ DOM ho·∫∑c d·ªØ li·ªáu t·ª´ API).
	
	 - Casting nh∆∞ m·ªôt l·ªùi h·ª©a: Khi b·∫°n √©p ki·ªÉu, b·∫°n ƒëang n√≥i v·ªõi TypeScript: "T√¥i bi·∫øt r√µ gi√° tr·ªã n√†y thu·ªôc ki·ªÉu g√¨, h√£y tin t√¥i." ƒêi·ªÅu n√†y ƒë√≤i h·ªèi b·∫°n ph·∫£i c·∫©n th·∫≠n ƒë·ªÉ tr√°nh l·ªói runtime.
	
	 - So s√°nh v·ªõi JavaScript: Trong JavaScript thu·∫ßn, b·∫°n kh√¥ng c·∫ßn √©p ki·ªÉu v√¨ n√≥ l√† ng√¥n ng·ªØ y·∫øu ki·ªÉu (weakly-typed). TypeScript th√™m l·ªõp ki·ªÉm tra ki·ªÉu, v√† casting l√† c√°ch ƒë·ªÉ b·∫°n "n·ªõi l·ªèng" ki·ªÉm tra n√†y khi c·∫ßn.	


# 7. M·∫πo ƒë·ªÉ s·ª≠ d·ª•ng Casting hi·ªáu qu·∫£
	
	- D√πng as thay v√¨ < >: C√∫ ph√°p as r√µ r√†ng h∆°n v√† t∆∞∆°ng th√≠ch v·ªõi JSX.
	
	- Ki·ªÉm tra tr∆∞·ªõc khi √©p ki·ªÉu: ƒê·∫∑c bi·ªát v·ªõi null, undefined, ho·∫∑c ki·ªÉu unknown, h√£y d√πng if ho·∫∑c to√°n t·ª≠ typeof ƒë·ªÉ ƒë·∫£m b·∫£o an to√†n.
	
	- ∆Øu ti√™n ki·ªÉu c·ª• th·ªÉ: Thay v√¨ d√πng any, h√£y c·ªë g·∫Øng ƒë·ªãnh nghƒ©a ki·ªÉu c·ª• th·ªÉ (nh∆∞ string, number, ho·∫∑c giao di·ªán t√πy ch·ªânh).
	
	- D√πng Type Guard: Thay v√¨ √©p ki·ªÉu tr·ª±c ti·∫øp, b·∫°n c√≥ th·ªÉ d√πng Type Guard ƒë·ªÉ ki·ªÉm tra ki·ªÉu m·ªôt c√°ch an to√†n:

function isString(value: unknown): value is string {
  return typeof value === "string";
}

let someValue: unknown = "Hello";
if (isString(someValue)) {
  console.log(someValue.length); // TypeScript bi·∫øt someValue l√† string
}


# 8. K·∫øt lu·∫≠n

	- TypeScript Casting l√† c√¥ng c·ª• m·∫°nh m·∫Ω ƒë·ªÉ l√†m vi·ªác v·ªõi c√°c t√¨nh hu·ªëng m√† TypeScript kh√¥ng th·ªÉ suy ra ki·ªÉu ch√≠nh x√°c.
	- Hai c√∫ ph√°p ch√≠nh l√† as v√† < >, v·ªõi as ƒë∆∞·ª£c khuy·∫øn kh√≠ch h∆°n.
	- Casting th∆∞·ªùng d√πng khi l√†m vi·ªác v·ªõi DOM, API, ho·∫∑c ki·ªÉu any/unknown.
	- H√£y c·∫©n th·∫≠n khi √©p ki·ªÉu ƒë·ªÉ tr√°nh l·ªói runtime, v√† ∆∞u ti√™n c√°c k·ªπ thu·∫≠t an to√†n nh∆∞ Type Guard.



</pre><a id='backBottom' href='../type-script-learning-list.html' style='display:none;'>üîô Quay l·∫°i danh s√°ch</a><br><button onclick='toggleTheme()'>üåô Chuy·ªÉn giao di·ªán</button></div><script>function toggleTheme() {   let mode = document.body.classList.contains('dark-mode') ? 'light-mode' : 'dark-mode';   document.body.className = mode; localStorage.setItem('theme', mode);   syncTheme();}function applyTheme() {   let savedTheme = localStorage.getItem('theme') || 'dark-mode';   document.body.className = savedTheme;   syncTheme();}function syncTheme() {   let preElement = document.querySelector('pre');   if (document.body.classList.contains('dark-mode')) { preElement.style.background = '#1e1e1e'; preElement.style.color = '#e0e0e0'; }   else { preElement.style.background = '#f5f5f5'; preElement.style.color = '#333333'; }}function checkPageHeight() {   let contentHeight = document.body.scrollHeight;   let windowHeight = window.innerHeight;   if (contentHeight > windowHeight * 1.2) {       document.getElementById('backBottom').style.display = 'block';   } else {       document.getElementById('backBottom').style.display = 'none';   }}</script></body></html>