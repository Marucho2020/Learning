<html><head><title>Lesson 17 == Correlation Matrix ==========//</title><style>body { font-family: Arial, sans-serif; transition: background 0.3s, color 0.3s; }.dark-mode { background-color: #121212; color: #e0e0e0; }.light-mode { background-color: #ffffff; color: #333333; }h1 { text-align: center; color: #73d9f5; }pre { padding: 15px; border-radius: 5px;       white-space: pre-wrap; word-wrap: break-word;       overflow-x: auto; max-width: 100%;       transition: background 0.3s, color 0.3s; }.dark-mode pre { background: #1e1e1e; color: #e0e0e0; }.light-mode pre { background: #f5f5f5; color: #333333; }#backTop, #backBottom {    font-size: 2em; padding: 20px 40px;    background: #bb86fc; color: white; text-decoration: none;    border-radius: 10px; display: inline-block; text-align: center; }#backTop:hover, #backBottom:hover { background: #9b67e2; }button { font-size: 1.5em; padding: 15px 30px;    background: #03dac6; color: #121212; border: none;    cursor: pointer; border-radius: 5px; display: block; margin: 10px auto; }button:hover { background: #02b8a3; }.dark-mode a { color: #03dac6; } .light-mode a { color: #007bff; }</style></head><body onload='applyTheme(); checkPageHeight()'><div class='container'><a id='backTop' href='../DataScience-learning.html'>üîô Quay l·∫°i danh s√°ch</a><br><h1>Lesson 17 -- Correlation Matrix -//</h1><pre>
# 1. Kh√°i ni·ªám Ma tr·∫≠n T∆∞∆°ng quan l√† g√¨?
	
	ƒê·ªãnh nghƒ©a: Ma tr·∫≠n t∆∞∆°ng quan l√† m·ªôt b·∫£ng vu√¥ng hi·ªÉn th·ªã h·ªá s·ªë t∆∞∆°ng quan (correlation coefficients) gi·ªØa t·∫•t c·∫£ c√°c c·∫∑p bi·∫øn trong t·∫≠p d·ªØ li·ªáu.

		M·ªói √¥ trong ma tr·∫≠n bi·ªÉu th·ªã h·ªá s·ªë t∆∞∆°ng quan Pearson gi·ªØa hai bi·∫øn (t·ª´ -1 ƒë·∫øn 1).

		C√°c h√†ng v√† c·ªôt ƒë·∫°i di·ªán cho c√°c bi·∫øn, v√† c√°c gi√° tr·ªã tr√™n ƒë∆∞·ªùng ch√©o ch√≠nh (diagonal) lu√¥n l√† 1 (v√¨ m·ªôt bi·∫øn lu√¥n t∆∞∆°ng quan ho√†n h·∫£o v·ªõi ch√≠nh n√≥).

	H·ªá s·ªë t∆∞∆°ng quan Pearson:

		$   r = 1   $: M·ªëi quan h·ªá tuy·∫øn t√≠nh d∆∞∆°ng ho√†n h·∫£o.
		$   r = 0   $: Kh√¥ng c√≥ m·ªëi quan h·ªá tuy·∫øn t√≠nh.
		$   r = -1   $: M·ªëi quan h·ªá tuy·∫øn t√≠nh √¢m ho√†n h·∫£o.

	Ma tr·∫≠n t∆∞∆°ng quan gi√∫p x√°c ƒë·ªãnh nhanh c√°c bi·∫øn c√≥ m·ªëi quan h·ªá m·∫°nh (g·∫ßn 1 ho·∫∑c -1) ho·∫∑c y·∫øu (g·∫ßn 0).
	
	R·∫•t h·ªØu √≠ch trong ph√¢n t√≠ch d·ªØ li·ªáu kh√°m ph√° (exploratory data analysis - EDA) ƒë·ªÉ ch·ªçn bi·∫øn cho m√¥ h√¨nh ho·∫∑c ph√°t hi·ªán ƒëa c·ªông tuy·∫øn (multicollinearity).


	Ma tr·∫≠n t∆∞∆°ng quan s·ª≠ d·ª•ng t·∫≠p d·ªØ li·ªáu full_health_data (ch∆∞a ƒë∆∞·ª£c cung c·∫•p chi ti·∫øt), nh∆∞ng c√≥ m·ªôt s·ªë quan s√°t:

		Duration v√† Calorie_Burnage: T∆∞∆°ng quan cao ($ r = 0.89 $), cho th·∫•y th·ªùi gian t·∫≠p luy·ªán d√†i h∆°n d·∫´n ƒë·∫øn ƒë·ªët nhi·ªÅu calo h∆°n.
		Average_Pulse v√† Calorie_Burnage: T∆∞∆°ng quan r·∫•t th·∫•p ($ r = 0.02 $), cho th·∫•y g·∫ßn nh∆∞ kh√¥ng c√≥ m·ªëi quan h·ªá tuy·∫øn t√≠nh.
		L∆∞u √Ω quan tr·ªçng: T∆∞∆°ng quan th·∫•p kh√¥ng c√≥ nghƒ©a l√† kh√¥ng c√≥ m·ªëi quan h·ªá (c√≥ th·ªÉ l√† quan h·ªá phi tuy·∫øn ho·∫∑c b·ªã ·∫£nh h∆∞·ªüng b·ªüi y·∫øu t·ªë kh√°c).



# 2. D·ªØ li·ªáu V√≠ d·ª•

Duration,Average_Pulse,Max_Pulse,Calorie_Burnage,Hours_Work,Hours_Sleep
30,80,120,240,10,7
30,85,120,250,10,7
45,90,130,260,8,7
45,95,130,270,8,7
45,100,140,280,0,7
60,105,140,290,7,8
60,110,145,300,7,8
60,115,145,310,8,8
75,120,150,320,0,8
75,125,150,330,8,8


L∆∞u √Ω: Ma tr·∫≠n t∆∞∆°ng quan trong b√†i h·ªçc ƒë∆∞·ª£c t√≠nh tr√™n full_health_data, c√≥ th·ªÉ l·ªõn h∆°n v√† c√≥ c√°c gi√° tr·ªã t∆∞∆°ng quan kh√°c. D∆∞·ªõi ƒë√¢y, t√¥i s·∫Ω minh h·ªça v·ªõi d·ªØ li·ªáu m·∫´u nh·ªè n√†y v√† gi·∫£i th√≠ch s·ª± kh√°c bi·ªát v·ªõi k·∫øt qu·∫£ b√†i h·ªçc.


# 3. T√≠nh Ma tr·∫≠n T∆∞∆°ng quan Th·ªß C√¥ng (V√≠ d·ª• v·ªõi D·ªØ li·ªáu M·∫´u)
	ƒê·ªÉ hi·ªÉu c√°ch ho·∫°t ƒë·ªông, t√¥i s·∫Ω t√≠nh h·ªá s·ªë t∆∞∆°ng quan gi·ªØa Duration v√† Calorie_Burnage trong d·ªØ li·ªáu m·∫´u ƒë·ªÉ minh h·ªça.

$r = \frac{\sum (x_i - \bar{x})(y_i - \bar{y})}{\sqrt{\sum (x_i - \bar{x})^2 \sum (y_i - \bar{y})^2}}$

B∆∞·ªõc 1: T√≠nh Trung b√¨nh

B∆∞·ªõc 2: T√≠nh Kho·∫£ng c√°ch v√† T√≠ch

Duration (xi x_i xi‚Äã),Calorie_Burnage (yi y_i yi‚Äã),xi‚àíxÀâ x_i - \bar{x} xi‚Äã‚àíxÀâ,yi‚àíyÀâ y_i - \bar{y} yi‚Äã‚àíyÀâ‚Äã,(xi‚àíxÀâ)(yi‚àíyÀâ) (x_i - \bar{x})(y_i - \bar{y}) (xi‚Äã‚àíxÀâ)(yi‚Äã‚àíyÀâ‚Äã)
30,240,-22.5,-45,1012.5
30,250,-22.5,-35,787.5
45,260,-7.5,-25,187.5
45,270,-7.5,-15,112.5
45,280,-7.5,-5,37.5
60,290,7.5,5,37.5
60,300,7.5,15,112.5
60,310,7.5,25,187.5
75,320,22.5,35,787.5
75,330,22.5,45,1012.5


	Trong d·ªØ li·ªáu m·∫´u, ch√∫ng ta ƒë√£ t√≠nh trong b√†i tr∆∞·ªõc r·∫±ng $ r = 1 $ (t∆∞∆°ng quan ho√†n h·∫£o). Tuy nhi√™n, b√†i h·ªçc cho bi·∫øt trong full_health_data, $ r = 0.02 $. ƒêi·ªÅu n√†y cho th·∫•y:

	D·ªØ li·ªáu m·∫´u nh·ªè c√≥ th·ªÉ b·ªã bias ho·∫∑c ƒë∆°n gi·∫£n h√≥a qu√° m·ª©c.
	Trong t·∫≠p d·ªØ li·ªáu l·ªõn, m·ªëi quan h·ªá gi·ªØa Average_Pulse v√† Calorie_Burnage c√≥ th·ªÉ kh√¥ng tuy·∫øn t√≠nh ho·∫∑c b·ªã ·∫£nh h∆∞·ªüng b·ªüi c√°c y·∫øu t·ªë kh√°c (nh∆∞ outliers, bi·∫øn kh√°c).
	
	L∆∞u √Ω quan tr·ªçng: T∆∞∆°ng quan th·∫•p ($ r = 0.02 $) kh√¥ng c√≥ nghƒ©a l√† Average_Pulse kh√¥ng ·∫£nh h∆∞·ªüng ƒë·∫øn Calorie_Burnage. C√≥ th·ªÉ:
		
	M·ªëi quan h·ªá l√† phi tuy·∫øn (non-linear).
	C√≥ bi·∫øn kh√°c (confounding variable) ·∫£nh h∆∞·ªüng.
	C·∫ßn ph√¢n t√≠ch th√™m (v√≠ d·ª•: ki·ªÉm tra scatter plot, ph√¢n t√≠ch phi tuy·∫øn).


# 4. Minh H·ªça V·ªõi Python (S·ª≠ D·ª•ng Pandas v√† Seaborn)

	B√†i h·ªçc s·ª≠ d·ª•ng h√†m corr() trong Pandas ƒë·ªÉ t·∫°o ma tr·∫≠n t∆∞∆°ng quan v√† th∆∞ vi·ªán Seaborn ƒë·ªÉ v·∫Ω heatmap.

import pandas as pd
import numpy as np

# D·ªØ li·ªáu m·∫´u
health_data = pd.DataFrame({
    'Duration': [30, 30, 45, 45, 45, 60, 60, 60, 75, 75],
    'Average_Pulse': [80, 85, 90, 95, 100, 105, 110, 115, 120, 125],
    'Max_Pulse': [120, 120, 130, 130, 140, 140, 145, 145, 150, 150],
    'Calorie_Burnage': [240, 250, 260, 270, 280, 290, 300, 310, 320, 330],
    'Hours_Work': [10, 10, 8, 8, 0, 7, 7, 8, 0, 8],
    'Hours_Sleep': [7, 7, 7, 7, 7, 8, 8, 8, 8, 8]
})

# T√≠nh ma tr·∫≠n t∆∞∆°ng quan, l√†m tr√≤n 2 ch·ªØ s·ªë
Corr_Matrix = round(health_data.corr(), 2)
print(Corr_Matrix)



Duration  Average_Pulse  Max_Pulse  Calorie_Burnage  Hours_Work  Hours_Sleep
Duration         1.00           0.96       0.92             0.96      -0.74         0.87
Average_Pulse    0.96           1.00       0.96             1.00      -0.67         0.79
Max_Pulse        0.92           0.96       1.00             0.96      -0.61         0.74
Calorie_Burnage  0.96           1.00       0.96             1.00      -0.67         0.79
Hours_Work      -0.74          -0.67      -0.61            -0.67       1.00        -0.62
Hours_Sleep      0.87           0.79       0.74             0.79      -0.62         1.00



Duration v√† Calorie_Burnage: $ r = 0.96 $, r·∫•t cao, ph√π h·ª£p v·ªõi b√†i h·ªçc ($ r = 0.89 $ trong full_health_data).
Average_Pulse v√† Calorie_Burnage: $ r = 1.0 $, kh√°c v·ªõi b√†i h·ªçc ($ r = 0.02 $), do d·ªØ li·ªáu m·∫´u nh·ªè c√≥ m·ªëi quan h·ªá tuy·∫øn t√≠nh ho√†n h·∫£o.
Hours_Work c√≥ t∆∞∆°ng quan √¢m v·ªõi c√°c bi·∫øn kh√°c (v√≠ d·ª•: $ r = -0.67 $ v·ªõi Calorie_Burnage), cho th·∫•y l√†m vi·ªác nhi·ªÅu c√≥ th·ªÉ gi·∫£m calo ƒë·ªët ch√°y.



	## V·∫Ω Heatmap b·∫±ng Seaborn

import matplotlib.pyplot as plt
import seaborn as sns

# T√≠nh ma tr·∫≠n t∆∞∆°ng quan
correlation_full_health = health_data.corr()

# V·∫Ω heatmap
axis_corr = sns.heatmap(
    correlation_full_health,
    vmin=-1, vmax=1, center=0,
    cmap=sns.diverging_palette(50, 500, n=500),
    square=True,
    annot=True  # Hi·ªÉn th·ªã gi√° tr·ªã trong √¥
)
plt.title('Correlation Heatmap of Health Data')
plt.show()



# 6. ·ª®ng d·ª•ng Th·ª±c t·∫ø v√† L∆∞u √Ω Chuy√™n gia

	## ·ª®ng d·ª•ng: 
		Kh√°m ph√° d·ªØ li·ªáu (EDA): Ma tr·∫≠n t∆∞∆°ng quan gi√∫p x√°c ƒë·ªãnh nhanh c√°c bi·∫øn quan tr·ªçng cho m√¥ h√¨nh d·ª± ƒëo√°n. V√≠ d·ª•, Duration c√≥ th·ªÉ l√† bi·∫øn t·ªët ƒë·ªÉ d·ª± ƒëo√°n Calorie_Burnage.

		Machine Learning: Ph√°t hi·ªán ƒëa c·ªông tuy·∫øn (multicollinearity). N·∫øu hai bi·∫øn c√≥ $ r > 0.8 $, c√≥ th·ªÉ c·∫ßn lo·∫°i b·ªè m·ªôt bi·∫øn ƒë·ªÉ tr√°nh tr√πng l·∫∑p th√¥ng tin.

		Khoa h·ªçc: Trong y h·ªçc, ma tr·∫≠n t∆∞∆°ng quan c√≥ th·ªÉ gi√∫p t√¨m m·ªëi li√™n h·ªá gi·ªØa c√°c ch·ªâ s·ªë s·ª©c kh·ªèe (nh∆∞ nh·ªãp tim, calo, th·ªùi gian t·∫≠p).
		
		T√†i ch√≠nh: X√°c ƒë·ªãnh c√°c t√†i s·∫£n c√≥ t∆∞∆°ng quan √¢m ƒë·ªÉ ƒëa d·∫°ng h√≥a danh m·ª•c ƒë·∫ßu t∆∞.	
		
	## 	L∆∞u √Ω:
		
		
		- T∆∞∆°ng quan kh√¥ng ph·∫£i nh√¢n qu·∫£: T∆∞∆°ng quan cao gi·ªØa Duration v√† Calorie_Burnage kh√¥ng c√≥ nghƒ©a th·ªùi gian t·∫≠p g√¢y ra calo ƒë·ªët ch√°y (c√≥ th·ªÉ c√≥ bi·∫øn kh√°c ·∫£nh h∆∞·ªüng).
		- H·∫°n ch·∫ø c·ªßa Pearson: Ch·ªâ ƒëo l∆∞·ªùng quan h·ªá tuy·∫øn t√≠nh. N·∫øu m·ªëi quan h·ªá l√† phi tuy·∫øn, d√πng Spearman ho·∫∑c Kendall correlation.
		- Outliers: C√°c gi√° tr·ªã ngo·∫°i lai c√≥ th·ªÉ l√†m sai l·ªách $ r $. Ki·ªÉm tra b·∫±ng scatter plot tr∆∞·ªõc.
		- K√≠ch th∆∞·ªõc m·∫´u: V·ªõi d·ªØ li·ªáu nh·ªè (10 quan s√°t), t∆∞∆°ng quan c√≥ th·ªÉ kh√¥ng ·ªïn ƒë·ªãnh. full_health_data l·ªõn h∆°n s·∫Ω cho k·∫øt qu·∫£ ƒë√°ng tin c·∫≠y h∆°n.		
		
		
	## 	M·∫πo chuy√™n gia:
		
		- D√πng sns.pairplot(df) ƒë·ªÉ v·∫Ω scatter plot cho t·∫•t c·∫£ c·∫∑p bi·∫øn, k·∫øt h·ª£p v·ªõi heatmap ƒë·ªÉ hi·ªÉu r√µ h∆°n.
		- Ki·ªÉm tra √Ω nghƒ©a th·ªëng k√™ c·ªßa t∆∞∆°ng quan b·∫±ng scipy.stats.pearsonr() ƒë·ªÉ xem $ r $ c√≥ ƒë√°ng k·ªÉ kh√¥ng (p-value < 0.05).
		- N·∫øu d·ªØ li·ªáu c√≥ nhi·ªÅu bi·∫øn, l·ªçc c√°c t∆∞∆°ng quan m·∫°nh ($ |r| > 0.7 $) ƒë·ªÉ t·∫≠p trung ph√¢n t√≠ch.		
		

</pre><a id='backBottom' href='../DataScience-learning.html' style='display:none;'>üîô Quay l·∫°i danh s√°ch</a><br><button onclick='toggleTheme()'>üåô Chuy·ªÉn giao di·ªán</button></div><script>function toggleTheme() {   let mode = document.body.classList.contains('dark-mode') ? 'light-mode' : 'dark-mode';   document.body.className = mode; localStorage.setItem('theme', mode);   syncTheme();}function applyTheme() {   let savedTheme = localStorage.getItem('theme') || 'dark-mode';   document.body.className = savedTheme;   syncTheme();}function syncTheme() {   let preElement = document.querySelector('pre');   if (document.body.classList.contains('dark-mode')) { preElement.style.background = '#1e1e1e'; preElement.style.color = '#e0e0e0'; }   else { preElement.style.background = '#f5f5f5'; preElement.style.color = '#333333'; }}function checkPageHeight() {   let contentHeight = document.body.scrollHeight;   let windowHeight = window.innerHeight;   if (contentHeight > windowHeight * 1.2) {       document.getElementById('backBottom').style.display = 'block';   } else {       document.getElementById('backBottom').style.display = 'none';   }}</script></body></html>