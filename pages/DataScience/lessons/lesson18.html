<html><head><title>Lesson 18 == Correlation vs. Causality ==========//</title><style>body { font-family: Arial, sans-serif; transition: background 0.3s, color 0.3s; }.dark-mode { background-color: #121212; color: #e0e0e0; }.light-mode { background-color: #ffffff; color: #333333; }h1 { text-align: center; color: #73d9f5; }pre { padding: 15px; border-radius: 5px;       white-space: pre-wrap; word-wrap: break-word;       overflow-x: auto; max-width: 100%;       transition: background 0.3s, color 0.3s; }.dark-mode pre { background: #1e1e1e; color: #e0e0e0; }.light-mode pre { background: #f5f5f5; color: #333333; }#backTop, #backBottom {    font-size: 2em; padding: 20px 40px;    background: #bb86fc; color: white; text-decoration: none;    border-radius: 10px; display: inline-block; text-align: center; }#backTop:hover, #backBottom:hover { background: #9b67e2; }button { font-size: 1.5em; padding: 15px 30px;    background: #03dac6; color: #121212; border: none;    cursor: pointer; border-radius: 5px; display: block; margin: 10px auto; }button:hover { background: #02b8a3; }.dark-mode a { color: #03dac6; } .light-mode a { color: #007bff; }</style></head><body onload='applyTheme(); checkPageHeight()'><div class='container'><a id='backTop' href='../DataScience-learning.html'>üîô Quay l·∫°i danh s√°ch</a><br><h1>Lesson 18 -- Correlation vs. Causality -//</h1><pre>		
# 	1. Kh√°i ni·ªám T∆∞∆°ng quan v√† Nh√¢n qu·∫£	
		
	## T∆∞∆°ng quan (Correlation):	
		
		ƒêo l∆∞·ªùng m·ª©c ƒë·ªô v√† h∆∞·ªõng c·ªßa m·ªëi quan h·ªá tuy·∫øn t√≠nh gi·ªØa hai bi·∫øn s·ªë, th√¥ng qua h·ªá s·ªë t∆∞∆°ng quan Pearson (r), c√≥ gi√° tr·ªã t·ª´ -1 ƒë·∫øn 1.
		$   r = 1   $: M·ªëi quan h·ªá tuy·∫øn t√≠nh d∆∞∆°ng ho√†n h·∫£o.
		$   r = 0   $: Kh√¥ng c√≥ m·ªëi quan h·ªá tuy·∫øn t√≠nh.
		$   r = -1   $: M·ªëi quan h·ªá tuy·∫øn t√≠nh √¢m ho√†n h·∫£o.
		T∆∞∆°ng quan ch·ªâ m√¥ t·∫£ m·ªëi quan h·ªá s·ªë h·ªçc, kh√¥ng n√≥i l√™n nguy√™n nh√¢n hay k·∫øt qu·∫£.		
		
		
		
	## 	Nh√¢n qu·∫£ (Causality)
		
		L√† k·∫øt lu·∫≠n r·∫±ng m·ªôt bi·∫øn (x) tr·ª±c ti·∫øp g√¢y ra s·ª± thay ƒë·ªïi ·ªü bi·∫øn kh√°c (y).
		ƒê·ªÉ ch·ª©ng minh nh√¢n qu·∫£, c·∫ßn c√°c nghi√™n c·ª©u s√¢u h∆°n (v√≠ d·ª•: th√≠ nghi·ªám ki·ªÉm so√°t ng·∫´u nhi√™n - RCT) ch·ª© kh√¥ng ch·ªâ d·ª±a v√†o t∆∞∆°ng quan.		
		
		
	Th√¥ng ƒëi·ªáp ch√≠nh: T∆∞∆°ng quan kh√¥ng ng·ª• √Ω nh√¢n qu·∫£. M·ªôt h·ªá s·ªë t∆∞∆°ng quan cao (g·∫ßn 1 ho·∫∑c -1) kh√¥ng c√≥ nghƒ©a l√† m·ªôt bi·∫øn g√¢y ra s·ª± thay ƒë·ªïi ·ªü bi·∫øn kia, v√† t∆∞∆°ng quan th·∫•p (g·∫ßn 0) kh√¥ng c√≥ nghƒ©a l√† kh√¥ng c√≥ m·ªëi quan h·ªá nh√¢n qu·∫£.	
		
		
	V√≠ d·ª• b√£i bi·ªÉn: Doanh s·ªë b√°n kem (Ice_Cream_Sale) v√† tai n·∫°n ƒëu·ªëi n∆∞·ªõc (Drowning_Accident) tƒÉng ƒë·ªìng th·ªùi v√†o m√πa h√®, v·ªõi $ r = 1 $. Tuy nhi√™n, b√°n kem kh√¥ng g√¢y ra tai n·∫°n ƒëu·ªëi n∆∞·ªõc. C·∫£ hai c√≥ th·ªÉ b·ªã ·∫£nh h∆∞·ªüng b·ªüi m·ªôt y·∫øu t·ªë kh√°c (nh∆∞ th·ªùi ti·∫øt m√πa h√®).	
		
	C√¢u h·ªèi v·ªÅ Average_Pulse v√† Calorie_Burnage: Trong b√†i h·ªçc tr∆∞·ªõc, full_health_data cho th·∫•y t∆∞∆°ng quan th·∫•p ($ r = 0.02 $) gi·ªØa Average_Pulse v√† Calorie_Burnage. ƒêi·ªÅu n√†y kh√¥ng c√≥ nghƒ©a l√† Average_Pulse kh√¥ng ·∫£nh h∆∞·ªüng ƒë·∫øn Calorie_Burnage, v√¨ c√≥ th·ªÉ c√≥ m·ªëi quan h·ªá phi tuy·∫øn ho·∫∑c y·∫øu t·ªë kh√°c can thi·ªáp.	
		
		
		
# 	2. D·ªØ li·ªáu V√≠ d·ª• (Beach Example)	
		
		
Ice_Cream_Sale,Drowning_Accident
20,20
40,40
60,60
80,80
100,100
120,120
140,140
160,160
180,180
200,200


	Quan s√°t: D·ªØ li·ªáu n√†y cho th·∫•y m·ªëi quan h·ªá tuy·∫øn t√≠nh ho√†n h·∫£o ($ r = 1 $), v√¨ Ice_Cream_Sale v√† Drowning_Accident c√≥ gi√° tr·ªã gi·ªëng nhau.



# 3. T√≠nh H·ªá s·ªë T∆∞∆°ng quan Th·ªß C√¥ng

	ƒê·ªÉ hi·ªÉu r√µ, t√¥i s·∫Ω t√≠nh h·ªá s·ªë t∆∞∆°ng quan Pearson cho d·ªØ li·ªáu v√≠ d·ª• b√£i bi·ªÉn.

$r = \frac{\sum (x_i - \bar{x})(y_i - \bar{y})}{\sqrt{\sum (x_i - \bar{x})^2 \sum (y_i - \bar{y})^2}}$		
		
		
	B∆∞·ªõc 1: T√≠nh Trung b√¨nh	
	B∆∞·ªõc 2: T√≠nh Kho·∫£ng c√°ch v√† T√≠ch	
		
Ice_Cream_Sale (xi x_i xi‚Äã),Drowning_Accident (yi y_i yi‚Äã),xi‚àíxÀâ x_i - \bar{x} xi‚Äã‚àíxÀâ,yi‚àíyÀâ y_i - \bar{y} yi‚Äã‚àíyÀâ‚Äã,(xi‚àíxÀâ)(yi‚àíyÀâ) (x_i - \bar{x})(y_i - \bar{y}) (xi‚Äã‚àíxÀâ)(yi‚Äã‚àíyÀâ‚Äã)
20,20,-90,-90,8100
40,40,-70,-70,4900
60,60,-50,-50,2500
80,80,-30,-30,900
100,100,-10,-10,100
120,120,10,10,100
140,140,30,30,900
160,160,50,50,2500
180,180,70,70,4900
200,200,90,90,8100

	T·ªïng: $ \sum (x_i - \bar{x})(y_i - \bar{y}) = 8100 + 4900 + 2500 + 900 + 100 + 100 + 900 + 2500 + 4900 + 8100 = 33000 $

	B∆∞·ªõc 3: T√≠nh Ph∆∞∆°ng sai
	B∆∞·ªõc 4: T√≠nh $ r $
	K·∫øt qu·∫£: $ r = 1 $, x√°c nh·∫≠n m·ªëi quan h·ªá tuy·∫øn t√≠nh d∆∞∆°ng ho√†n h·∫£o.



# 4. Minh H·ªça V·ªõi Python (S·ª≠ D·ª•ng Pandas v√† Matplotlib)

	B√†i h·ªçc s·ª≠ d·ª•ng scatter plot v√† h√†m corr() ƒë·ªÉ minh h·ªça.
	
	Code Python	

import pandas as pd
import matplotlib.pyplot as plt

# D·ªØ li·ªáu gi·∫£ l·∫≠p
Drowning = pd.DataFrame({
    "Drowning_Accident": [20, 40, 60, 80, 100, 120, 140, 160, 180, 200],
    "Ice_Cream_Sale": [20, 40, 60, 80, 100, 120, 140, 160, 180, 200]
})

# V·∫Ω scatter plot
Drowning.plot(x="Ice_Cream_Sale", y="Drowning_Accident", kind="scatter")
plt.title("Scatter Plot: Ice Cream Sales vs. Drowning Accidents")
plt.show()

# T√≠nh h·ªá s·ªë t∆∞∆°ng quan
correlation_beach = Drowning.corr()
print(correlation_beach)

Scatter plot: C√°c ƒëi·ªÉm n·∫±m tr√™n ƒë∆∞·ªùng th·∫≥ng $ y = x $, x√°c nh·∫≠n $ r = 1 $.
Ma tr·∫≠n t∆∞∆°ng quan: $ r = 1 $ gi·ªØa Ice_Cream_Sale v√† Drowning_Accident.


# 5. T·∫°o Bi·ªÉu ƒê·ªì Scatter Plot ƒë·ªÉ Minh H·ªça

C√°c ƒëi·ªÉm n·∫±m tr√™n ƒë∆∞·ªùng th·∫≥ng $ y = x $, cho th·∫•y m·ªëi quan h·ªá tuy·∫øn t√≠nh ho√†n h·∫£o ($ r = 1 $).
Tuy nhi√™n, ƒë√¢y l√† d·ªØ li·ªáu gi·∫£ l·∫≠p ƒë·ªÉ minh h·ªça, kh√¥ng ph·∫£n √°nh th·ª±c t·∫ø r·∫±ng Ice_Cream_Sale kh√¥ng g√¢y ra Drowning_Accident.





# 6. Gi·∫£i th√≠ch V√≠ d·ª• B√£i Bi·ªÉn v√† C√¢u h·ªèi v·ªÅ Average_Pulse vs. Calorie_Burnage
	## V√≠ d·ª• B√£i Bi·ªÉn:
		T√¨nh hu·ªëng: Doanh s·ªë b√°n kem v√† tai n·∫°n ƒëu·ªëi n∆∞·ªõc ƒë·ªÅu tƒÉng v√†o m√πa h√®, v·ªõi $ r = 1 $.
		
		T·∫°i sao kh√¥ng ph·∫£i nh√¢n qu·∫£?

			- C·∫£ hai bi·∫øn c√≥ th·ªÉ b·ªã ·∫£nh h∆∞·ªüng b·ªüi m·ªôt bi·∫øn th·ª© ba (confounding variable), nh∆∞ th·ªùi ti·∫øt m√πa h√® ho·∫∑c l∆∞·ª£ng ng∆∞·ªùi ƒë·∫øn b√£i bi·ªÉn.
			- C√°c y·∫øu t·ªë th·ª±c s·ª± g√¢y ra tai n·∫°n ƒëu·ªëi n∆∞·ªõc bao g·ªìm: k·ªπ nƒÉng b∆°i k√©m, s√≥ng l·ªõn, chu·ªôt r√∫t, thi·∫øu gi√°m s√°t, s·ª≠ d·ª•ng r∆∞·ª£u bia, v.v.

		K·∫øt lu·∫≠n: T∆∞∆°ng quan cao ($ r = 1 $) kh√¥ng c√≥ nghƒ©a l√† b√°n kem g√¢y ra tai n·∫°n ƒëu·ªëi n∆∞·ªõc. C·∫ßn ph√¢n t√≠ch th√™m ƒë·ªÉ x√°c ƒë·ªãnh nguy√™n nh√¢n th·ª±c s·ª±.


	## K·∫øt lu·∫≠n: C√¢u h·ªèi: Average_Pulse v√† Calorie_Burnage ($ r = 0.02 $):

		Trong b√†i h·ªçc v·ªÅ ma tr·∫≠n t∆∞∆°ng quan, full_health_data cho th·∫•y t∆∞∆°ng quan r·∫•t th·∫•p gi·ªØa Average_Pulse v√† Calorie_Burnage.

		T·∫°i sao kh√¥ng k·∫øt lu·∫≠n Average_Pulse kh√¥ng ·∫£nh h∆∞·ªüng ƒë·∫øn Calorie_Burnage?:
			- M·ªëi quan h·ªá l√† phi tuy·∫øn (non-linear, v√≠ d·ª•: calo ƒë·ªët ch√°y tƒÉng ƒë·∫øn m·ªôt m·ª©c r·ªìi b√£o h√≤a d√π nh·ªãp tim tƒÉng).
			- C√≥ bi·∫øn can thi·ªáp (nh∆∞ Duration ho·∫∑c c∆∞·ªùng ƒë·ªô t·∫≠p luy·ªán) l√†m m·ªù m·ªëi quan h·ªá.
			- D·ªØ li·ªáu c√≥ outliers ho·∫∑c nhi·ªÖu l√†m gi·∫£m $ r $.

		ƒê·ªÉ ki·ªÉm tra nh√¢n qu·∫£, c·∫ßn th√≠ nghi·ªám ki·ªÉm so√°t (v√≠ d·ª•: ƒëo Calorie_Burnage v·ªõi Average_Pulse c·ªë ƒë·ªãnh v√† c√°c y·∫øu t·ªë kh√°c kh√¥ng ƒë·ªïi).


	K·∫øt lu·∫≠n: T∆∞∆°ng quan th·∫•p kh√¥ng ph·ªß nh·∫≠n m·ªëi quan h·ªá nh√¢n qu·∫£. C·∫ßn ph√¢n t√≠ch s√¢u h∆°n (scatter plot, ki·ªÉm tra phi tuy·∫øn, ho·∫∑c m√¥ h√¨nh h·ªìi quy).


# 7. ·ª®ng d·ª•ng Th·ª±c t·∫ø v√† L∆∞u √Ω Chuy√™n gia

	·ª®ng d·ª•ng:

		- Ph√¢n t√≠ch d·ªØ li·ªáu kh√°m ph√° (EDA): T∆∞∆°ng quan gi√∫p x√°c ƒë·ªãnh c√°c bi·∫øn ti·ªÅm nƒÉng cho m√¥ h√¨nh d·ª± ƒëo√°n, nh∆∞ng ph·∫£i ki·ªÉm tra nh√¢n qu·∫£ tr∆∞·ªõc khi ƒë∆∞a ra k·∫øt lu·∫≠n.
		- Machine Learning: Lo·∫°i b·ªè c√°c bi·∫øn c√≥ t∆∞∆°ng quan cao ƒë·ªÉ tr√°nh ƒëa c·ªông tuy·∫øn, nh∆∞ng c·∫©n th·∫≠n kh√¥ng b·ªè qua c√°c bi·∫øn quan tr·ªçng ch·ªâ v√¨ t∆∞∆°ng quan th·∫•p.
		- Khoa h·ªçc v√† Y h·ªçc: T∆∞∆°ng quan c√≥ th·ªÉ g·ª£i √Ω c√°c gi·∫£ thuy·∫øt (nh∆∞ nh·ªãp tim v√† calo), nh∆∞ng c·∫ßn th√≠ nghi·ªám ƒë·ªÉ x√°c nh·∫≠n nh√¢n qu·∫£.
		- T√†i ch√≠nh: T∆∞∆°ng quan gi·ªØa c√°c t√†i s·∫£n gi√∫p t·ªëi ∆∞u h√≥a danh m·ª•c ƒë·∫ßu t∆∞, nh∆∞ng nh√¢n qu·∫£ (nh∆∞ t√°c ƒë·ªông c·ªßa l√£i su·∫•t) c·∫ßn ph√¢n t√≠ch s√¢u h∆°n.

	L∆∞u √Ω:
	
		- Confounding Variables: Lu√¥n ki·ªÉm tra c√°c bi·∫øn th·ª© ba c√≥ th·ªÉ gi·∫£i th√≠ch m·ªëi quan h·ªá. V√≠ d·ª•: Trong d·ªØ li·ªáu s·ª©c kh·ªèe, Duration c√≥ th·ªÉ l√† bi·∫øn can thi·ªáp gi·ªØa Average_Pulse v√† Calorie_Burnage.
		- Non-linear Relationships: N·∫øu $ r \approx 0 $, th·ª≠ Spearman ho·∫∑c Kendall correlation ƒë·ªÉ ki·ªÉm tra m·ªëi quan h·ªá phi tuy·∫øn.
		- K√≠ch th∆∞·ªõc m·∫´u: T∆∞∆°ng quan tr√™n m·∫´u nh·ªè (nh∆∞ 10 quan s√°t) c√≥ th·ªÉ kh√¥ng ƒë√°ng tin c·∫≠y. full_health_data l·ªõn h∆°n s·∫Ω cho k·∫øt qu·∫£ ·ªïn ƒë·ªãnh h∆°n.
		- Ki·ªÉm ƒë·ªãnh √Ω nghƒ©a th·ªëng k√™: D√πng scipy.stats.pearsonr() ƒë·ªÉ t√≠nh p-value, ki·ªÉm tra li·ªáu $ r $ c√≥ √Ω nghƒ©a th·ªëng k√™ kh√¥ng.



</pre><a id='backBottom' href='../DataScience-learning.html' style='display:none;'>üîô Quay l·∫°i danh s√°ch</a><br><button onclick='toggleTheme()'>üåô Chuy·ªÉn giao di·ªán</button></div><script>function toggleTheme() {   let mode = document.body.classList.contains('dark-mode') ? 'light-mode' : 'dark-mode';   document.body.className = mode; localStorage.setItem('theme', mode);   syncTheme();}function applyTheme() {   let savedTheme = localStorage.getItem('theme') || 'dark-mode';   document.body.className = savedTheme;   syncTheme();}function syncTheme() {   let preElement = document.querySelector('pre');   if (document.body.classList.contains('dark-mode')) { preElement.style.background = '#1e1e1e'; preElement.style.color = '#e0e0e0'; }   else { preElement.style.background = '#f5f5f5'; preElement.style.color = '#333333'; }}function checkPageHeight() {   let contentHeight = document.body.scrollHeight;   let windowHeight = window.innerHeight;   if (contentHeight > windowHeight * 1.2) {       document.getElementById('backBottom').style.display = 'block';   } else {       document.getElementById('backBottom').style.display = 'none';   }}</script></body></html>