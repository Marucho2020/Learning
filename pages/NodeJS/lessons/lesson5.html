<html><head><title>Lesson 5 == Command Line Usage ==========//</title><style>body { font-family: Arial, sans-serif; transition: background 0.3s, color 0.3s; }.dark-mode { background-color: #121212; color: #e0e0e0; }.light-mode { background-color: #ffffff; color: #333333; }h1 { text-align: center; color: #73d9f5; }pre { padding: 15px; border-radius: 5px;       white-space: pre-wrap; word-wrap: break-word;       overflow-x: auto; max-width: 100%;       transition: background 0.3s, color 0.3s; }.dark-mode pre { background: #1e1e1e; color: #e0e0e0; }.light-mode pre { background: #f5f5f5; color: #333333; }#backTop, #backBottom {    font-size: 2em; padding: 20px 40px;    background: #bb86fc; color: white; text-decoration: none;    border-radius: 10px; display: inline-block; text-align: center; }#backTop:hover, #backBottom:hover { background: #9b67e2; }button { font-size: 1.5em; padding: 15px 30px;    background: #03dac6; color: #121212; border: none;    cursor: pointer; border-radius: 5px; display: block; margin: 10px auto; }button:hover { background: #02b8a3; }.dark-mode a { color: #03dac6; } .light-mode a { color: #007bff; }</style></head><body onload='applyTheme(); checkPageHeight()'><div class='container'><a id='backTop' href='../NodeJS-learning.html'>üîô Quay l·∫°i danh s√°ch</a><br><h1>Lesson 5 -- Command Line Usage -//</h1><pre>
# M·ª•c ti√™u: H∆∞·ªõng d·∫´n c√°ch s·ª≠ d·ª•ng CLI ƒë·ªÉ:

	- Ch·∫°y file JavaScript (node app.js).
	- T∆∞∆°ng t√°c v·ªõi REPL (m√¥i tr∆∞·ªùng t∆∞∆°ng t√°c).
	- X·ª≠ l√Ω command line arguments (process.argv).
	- S·ª≠ d·ª•ng environment variables (process.env).
	- Debug ·ª©ng d·ª•ng b·∫±ng Chrome DevTools.
	- Qu·∫£n l√Ω phi√™n b·∫£n Node.js (nvm) v√† package (npm).
	- D√πng c√°c flag CLI ƒë·ªÉ t√πy ch·ªânh h√†nh vi Node.js.

	T·∫°i sao quan tr·ªçng? Node.js kh√¥ng c√≥ giao di·ªán ƒë·ªì h·ªça nh∆∞ browser, n√™n CLI l√† c√°ch ch√≠nh ƒë·ªÉ v·∫≠n h√†nh v√† ki·ªÉm so√°t ·ª©ng d·ª•ng. Hi·ªÉu c√°c l·ªánh CLI gi√∫p b·∫°n l√†m vi·ªác hi·ªáu qu·∫£ h∆°n, t·ª´ ch·∫°y server ƒë·∫øn debug l·ªói ph·ª©c t·∫°p.

	M√¥i tr∆∞·ªùng ch·∫°y l·ªánh:
	
		- Windows: Command Prompt, PowerShell, ho·∫∑c Windows Terminal.
		- macOS/Linux: Terminal (ho·∫∑c iTerm2 tr√™n macOS).
		- L∆∞u √Ω: ƒê·∫£m b·∫£o b·∫°n ƒë√£ c√†i Node.js (xem l·∫°i ph·∫ßn "Get Started") v√† terminal ƒëang ·ªü th∆∞ m·ª•c ch·ª©a file code.


# 1. Basic Node.js Commands (L·ªánh C∆° B·∫£n)

	T√†i li·ªáu li·ªát k√™ c√°c l·ªánh c∆° b·∫£n ƒë·ªÉ ch·∫°y file JavaScript. ƒê√¢y l√† ƒëi·ªÉm kh·ªüi ƒë·∫ßu cho m·ªçi ·ª©ng d·ª•ng Node.js.

# Run a JavaScript file
node app.js

# Run with additional arguments
node app.js arg1 arg2

# Run in watch mode (restarts on file changes)
node --watch app.js


	## node app.js 
		- L·ªánh ch·∫°y file JavaScript (v√≠ d·ª•: app.js) b·∫±ng Node.js runtime.
		- V√≠ d·ª• th·ª±c t·∫ø: N·∫øu b·∫°n c√≥ file app.js ch·ª©a console.log('Hello World!');, ch·∫°y node app.js s·∫Ω in Hello World!.
		- Ng·ªØ c·∫£nh: D√πng ƒë·ªÉ kh·ªüi ƒë·ªông server (nh∆∞ trong ph·∫ßn "Get Started") ho·∫∑c ch·∫°y script x·ª≠ l√Ω d·ªØ li·ªáu.	
	
	## node app.js arg1 arg2
		- Cho ph√©p truy·ªÅn tham s·ªë v√†o script. C√°c tham s·ªë ƒë∆∞·ª£c truy c·∫≠p qua process.argv (xem ph·∫ßn Command Line Arguments).
		- V√≠ d·ª•: node app.js hello world truy·ªÅn hai tham s·ªë: hello v√† world.
		
	## node --watch app.js
	
		- Ch·∫°y file ·ªü watch mode, t·ª± ƒë·ªông restart khi file thay ƒë·ªïi (t·ª´ Node.js 18.x).
		- Ng·ªØ c·∫£nh: R·∫•t h·ªØu √≠ch khi ph√°t tri·ªÉn, v√≠ d·ª•: ch·ªânh s·ª≠a server code v√† ki·ªÉm tra ngay m√† kh√¥ng c·∫ßn ch·∫°y l·∫°i l·ªánh.
		- L∆∞u √Ω: Watch mode l√† experimental tr∆∞·ªõc Node.js 20.x, nh∆∞ng ·ªïn ƒë·ªãnh ·ªü LTS hi·ªán t·∫°i (20.19.5).


# 2. Using the REPL (Read-Eval-Print Loop)

> const name = 'Node.js';
> console.log(`Hello, ${name}!`);
> .help // Show available commands
> .exit // Exit REPL

	## Gi·∫£i th√≠ch chi ti·∫øt: 

		REPL l√† g√¨? REPL (Read-Eval-Print Loop) l√† m√¥i tr∆∞·ªùng t∆∞∆°ng t√°c, cho ph√©p ch·∫°y code JavaScript d√≤ng m·ªôt, gi·ªëng Console trong browser.

		C√°ch kh·ªüi ƒë·ªông: G√µ node trong terminal, b·∫°n s·∫Ω v√†o REPL v·ªõi d·∫•u nh·∫Øc >.


		C√°ch ho·∫°t ƒë·ªông:
		
		Read: ƒê·ªçc input c·ªßa b·∫°n (code JavaScript).
		Eval: Th·ª±c thi code.
		Print: In k·∫øt qu·∫£.
		Loop: L·∫∑p l·∫°i cho d√≤ng ti·∫øp theo.



# 3. Command Line Arguments (Tham S·ªë D√≤ng L·ªánh)

	Code v√≠ d·ª• t·ª´ t√†i li·ªáu:

// args.js
console.log('All arguments:', process.argv);
console.log('First argument:', process.argv[2]);
console.log('Second argument:', process.argv[3]);


# Example usage:
node args.js hello world


	## Gi·∫£i th√≠ch chi ti·∫øt:
		process.argv: M·ªôt m·∫£ng ch·ª©a c√°c tham s·ªë d√≤ng l·ªánh

			- Index 0: ƒê∆∞·ªùng d·∫´n ƒë·∫øn Node.js binary (v√≠ d·ª•: /usr/bin/node).
			- Index 1: ƒê∆∞·ªùng d·∫´n ƒë·∫øn file JavaScript (v√≠ d·ª•: /home/user/args.js).
			- Index 2 tr·ªü ƒëi: C√°c tham s·ªë ng∆∞·ªùi d√πng truy·ªÅn v√†o (hello, world).

		Ng·ªØ c·∫£nh: D√πng ƒë·ªÉ c·∫•u h√¨nh script ƒë·ªông. V√≠ d·ª•, b·∫°n c√≥ th·ªÉ ch·∫°y node server.js 3000 ƒë·ªÉ ch·ªâ ƒë·ªãnh port server.

	V√≠ d·ª• th·ª±c t·∫ø:

	Ng·ªØ c·∫£nh: D√πng ƒë·ªÉ c·∫•u h√¨nh script ƒë·ªông. V√≠ d·ª•, b·∫°n c√≥ th·ªÉ ch·∫°y node server.js 3000 ƒë·ªÉ ch·ªâ ƒë·ªãnh port server.



# 4. Environment Variables (Bi·∫øn M√¥i Tr∆∞·ªùng)

// env.js
console.log('Environment:', process.env.NODE_ENV || 'development');
console.log('Custom variable:', process.env.MY_VARIABLE);
console.log('Database URL:', process.env.DATABASE_URL || 'Not set');

# Example usage:
NODE_ENV=production MY_VARIABLE=test node env.js


	## Gi·∫£i th√≠ch chi ti·∫øt:
		process.env: M·ªôt object ch·ª©a c√°c bi·∫øn m√¥i tr∆∞·ªùng h·ªá th·ªëng. D√πng ƒë·ªÉ c·∫•u h√¨nh ·ª©ng d·ª•ng m√† kh√¥ng hard-code (v√≠ d·ª•: port, database URL).

	## C√°ch ho·∫°t ƒë·ªông

		- NODE_ENV: Th∆∞·ªùng d√πng ƒë·ªÉ x√°c ƒë·ªãnh m√¥i tr∆∞·ªùng (development, production). N·∫øu kh√¥ng set, code d√πng gi√° tr·ªã m·∫∑c ƒë·ªãnh ('development').
		- MY_VARIABLE, DATABASE_URL: Bi·∫øn t√πy ch·ªânh, th∆∞·ªùng set trong file .env ho·∫∑c CLI.


	##  C√∫ ph√°p set bi·∫øn:
		- Windows (Command Prompt): set NODE_ENV=production && node env.js
		- macOS/Linux: NODE_ENV=production node env.js
		- Cross-platform: D√πng package dotenv (xem ph·∫ßn --require d∆∞·ªõi ƒë√¢y).

		Ng·ªØ c·∫£nh: Bi·∫øn m√¥i tr∆∞·ªùng r·∫•t quan tr·ªçng trong deployment, v√≠ d·ª•: l∆∞u API key, database credentials.


	## Th·ª±c h√†nh:
		T·∫°o env.js nh∆∞ tr√™n, ch·∫°y: NODE_ENV=production MY_VARIABLE=hello node env.js.

		C√†i dotenv: npm install dotenv, t·∫°o file .env

		NODE_ENV=production
		MY_VARIABLE=hello

		S·ª≠a env.js:
			require('dotenv').config();
			console.log(process.env.NODE_ENV, process.env.MY_VARIABLE);		
		
		Ch·∫°y: node env.js.
		



# 5. Debugging Node.js Applications
	Code v√≠ d·ª• t·ª´ t√†i li·ªáu:

# Start with inspector
node --inspect app.js

# Break on first line
node --inspect-brk app.js

# Specify a custom port
node --inspect=9222 app.js

# Enable remote debugging
node --inspect=0.0.0.0:9229 app.js


	## Gi·∫£i th√≠ch chi ti·∫øt:
		Debugging trong Node.js: Node.js t√≠ch h·ª£p V8 Inspector, cho ph√©p debug b·∫±ng Chrome DevTools, t∆∞∆°ng t·ª± debug browser JavaScript.

	C√°c l·ªánh:

		node --inspect app.js: Kh·ªüi ƒë·ªông server v·ªõi inspector tr√™n port m·∫∑c ƒë·ªãnh (9229). B·∫°n c√≥ th·ªÉ k·∫øt n·ªëi Chrome ƒë·ªÉ debug.
		node --inspect-brk app.js: D·ª´ng ngay d√≤ng ƒë·∫ßu ti√™n, h·ªØu √≠ch ƒë·ªÉ ki·ªÉm tra code t·ª´ ƒë·∫ßu.
		node --inspect=9222 app.js: Ch·ªâ ƒë·ªãnh port t√πy ch·ªânh n·∫øu 9229 b·ªã chi·∫øm.
		node --inspect=0.0.0.0:9229 app.js: Cho ph√©p debug t·ª´ m√°y kh√°c (c·∫©n th·∫≠n trong production v√¨ r·ªßi ro b·∫£o m·∫≠t).


	## C√°ch debug v·ªõi Chrome DevTools 

		- Ch·∫°y node --inspect app.js.
		- M·ªü Chrome, truy c·∫≠p chrome://inspect.
		- Click "Open dedicated DevTools for Node".
		- ƒê·∫∑t breakpoint, xem bi·∫øn, stack trace, v.v.

		Ng·ªØ c·∫£nh: Debugging r·∫•t quan tr·ªçng khi x·ª≠ l√Ω l·ªói ph·ª©c t·∫°p, nh∆∞ logic b·∫•t ƒë·ªìng b·ªô ho·∫∑c performance issue.




# 6. Common CLI Tools

	## 6.1. Node Version Manager (nvm) 
		
# Install specific version
nvm install 18.16.0
# Switch to version
nvm use 18.16.0
# List installed versions
nvm ls

	## Gi·∫£i th√≠ch chi ti·∫øt: 
	
		nvm: C√¥ng c·ª• qu·∫£n l√Ω nhi·ªÅu phi√™n b·∫£n Node.js tr√™n c√πng m·ªôt m√°y.
		T·∫°i sao c·∫ßn? C√°c d·ª± √°n kh√°c nhau c√≥ th·ªÉ y√™u c·∫ßu phi√™n b·∫£n kh√°c nhau (v√≠ d·ª•: legacy code c·∫ßn Node.js 16.x).		

		### C√†i ƒë·∫∑t nvm

			Windows: D√πng nvm-windows.
			macOS/Linux: curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash.
			Ng·ªØ c·∫£nh: H·ªØu √≠ch khi l√†m vi·ªác v·ªõi d·ª± √°n c≈© ho·∫∑c test t√≠nh nƒÉng m·ªõi.

		C√†i nvm, ch·∫°y nvm install 18.16.0, r·ªìi nvm use 18.16.0.
		Ki·ªÉm tra: node --version.



	## 6.2. npm (Node Package Manager)
	
# Initialize a new project
npm init
# Install dependencies
npm install
# Update packages
npm update
# Check for vulnerabilities
npm audit	
	
	## Gi·∫£i th√≠ch chi ti·∫øt: 
		npm: C√¥ng c·ª• qu·∫£n l√Ω package, c√†i ƒë·∫∑t th∆∞ vi·ªán (nh∆∞ Express, Lodash).
	
			npm init: T·∫°o file package.json (metadata d·ª± √°n).
			npm install: C√†i c√°c dependency t·ª´ package.json.
			npm update: C·∫≠p nh·∫≠t package l√™n phi√™n b·∫£n m·ªõi nh·∫•t (tu√¢n theo version range trong package.json).
			npm audit: Ki·ªÉm tra l·ªó h·ªïng b·∫£o m·∫≠t trong dependency.	
				
	
	
# 	7. Common Command Line Flags (C·ªù CLI)
	
# Show Node.js version
node --version
# Show V8 version
node --v8-options
# Show command-line help
node --help

# Check syntax without executing
node --check app.js
# Show stack traces for warnings
node --trace-warnings app.js
# Set max memory
node --max-old-space-size=4096 app.js
# Preload a module
node --require dotenv/config app.js

# Enable ES module loader
node --experimental-modules app.mjs
# Enable experimental features
node --experimental-repl-await
# Enable experimental worker threads
node --experimental-worker	
	
	
	## 	Gi·∫£i th√≠ch chi ti·∫øt:
	
		## Version & Help:
	
			node --version ho·∫∑c -v: Hi·ªÉn th·ªã phi√™n b·∫£n Node.js (v√≠ d·ª•: v20.19.5).
			node --v8-options: Li·ªát k√™ c√°c c·ªù c·ªßa V8 engine (√≠t d√πng tr·ª±c ti·∫øp).
			node --help: Hi·ªÉn th·ªã t·∫•t c·∫£ c·ªù CLI.

		## Runtime Behavior:
		
			node --check app.js: Ki·ªÉm tra c√∫ ph√°p m√† kh√¥ng ch·∫°y code, h·ªØu √≠ch ƒë·ªÉ ph√°t hi·ªán l·ªói s·ªõm.
			node --trace-warnings app.js: In stack trace cho warning, gi√∫p debug.
			node --max-old-space-size=4096 app.js: Gi·ªõi h·∫°n b·ªô nh·ªõ heap (4GB), d√πng khi x·ª≠ l√Ω d·ªØ li·ªáu l·ªõn.
			node --require dotenv/config app.js: T·∫£i module dotenv tr∆∞·ªõc khi ch·∫°y, t·ª± ƒë·ªông load bi·∫øn t·ª´ .env.		
		
		
		## Experimental Features
		
			node --experimental-modules: K√≠ch ho·∫°t ES Modules (kh√¥ng c·∫ßn t·ª´ Node.js 14.x n·∫øu c√≥ type: "module").
			node --experimental-repl-await: Cho ph√©p d√πng await tr·ª±c ti·∫øp trong REPL.
			node --experimental-worker: K√≠ch ho·∫°t Worker Threads (·ªïn ƒë·ªãnh t·ª´ Node.js 12.x).	
		


</pre><a id='backBottom' href='../NodeJS-learning.html' style='display:none;'>üîô Quay l·∫°i danh s√°ch</a><br><button onclick='toggleTheme()'>üåô Chuy·ªÉn giao di·ªán</button></div><script>function toggleTheme() {   let mode = document.body.classList.contains('dark-mode') ? 'light-mode' : 'dark-mode';   document.body.className = mode; localStorage.setItem('theme', mode);   syncTheme();}function applyTheme() {   let savedTheme = localStorage.getItem('theme') || 'dark-mode';   document.body.className = savedTheme;   syncTheme();}function syncTheme() {   let preElement = document.querySelector('pre');   if (document.body.classList.contains('dark-mode')) { preElement.style.background = '#1e1e1e'; preElement.style.color = '#e0e0e0'; }   else { preElement.style.background = '#f5f5f5'; preElement.style.color = '#333333'; }}function checkPageHeight() {   let contentHeight = document.body.scrollHeight;   let windowHeight = window.innerHeight;   if (contentHeight > windowHeight * 1.2) {       document.getElementById('backBottom').style.display = 'block';   } else {       document.getElementById('backBottom').style.display = 'none';   }}</script></body></html>