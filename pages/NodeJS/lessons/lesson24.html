<html><head><title>Lesson 24 == Module OS ==========//</title><style>body { font-family: Arial, sans-serif; transition: background 0.3s, color 0.3s; }.dark-mode { background-color: #121212; color: #e0e0e0; }.light-mode { background-color: #ffffff; color: #333333; }h1 { text-align: center; color: #73d9f5; }pre { padding: 15px; border-radius: 5px;       white-space: pre-wrap; word-wrap: break-word;       overflow-x: auto; max-width: 100%;       transition: background 0.3s, color 0.3s; }.dark-mode pre { background: #1e1e1e; color: #e0e0e0; }.light-mode pre { background: #f5f5f5; color: #333333; }#backTop, #backBottom {    font-size: 2em; padding: 20px 40px;    background: #bb86fc; color: white; text-decoration: none;    border-radius: 10px; display: inline-block; text-align: center; }#backTop:hover, #backBottom:hover { background: #9b67e2; }button { font-size: 1.5em; padding: 15px 30px;    background: #03dac6; color: #121212; border: none;    cursor: pointer; border-radius: 5px; display: block; margin: 10px auto; }button:hover { background: #02b8a3; }.dark-mode a { color: #03dac6; } .light-mode a { color: #007bff; }</style></head><body onload='applyTheme(); checkPageHeight()'><div class='container'><a id='backTop' href='../NodeJS-learning.html'>ðŸ”™ Quay láº¡i danh sÃ¡ch</a><br><h1>Lesson 24 -- Module OS -//</h1><pre>
# 1. What is the OS Module?
	Äá»‹nh nghÄ©a: Built-in module cung cáº¥p utilities Ä‘á»ƒ interact vá»›i OS: láº¥y info vá» CPU, memory, platform, user, network. Cross-platform, nghÄ©a lÃ  code cháº¡y giá»‘ng nhau trÃªn Windows/Linux/macOS.

	Key Features (má»Ÿ rá»™ng):

		- System Info: Platform, arch, release â€“ há»¯u Ã­ch cho conditional code (e.g., Windows-specific paths).
		- Resources: Memory, CPU usage â€“ cho monitoring apps.
		- User/Network: Username, homedir, interfaces â€“ cho auth hoáº·c diagnostics.
		- Signals/Errors: Handle OS signals (e.g., SIGINT) cho graceful shutdown.
		- Cross-platform Tasks: EOL constants, tmpdir cho portable file ops.



# 2. Getting Started with the OS Module

	## Import:
const os = require('os');  // CommonJS
// Destructure: const { platform, cpus } = require('os');

// ESM (package.json: "type": "module")
import os from 'os';
// Hoáº·c import { platform, cpus } from 'os';


	## Basic Usage:
const os = require('os');
console.log(`Platform: ${os.platform()}`);  // 'win32', 'darwin', 'linux'
console.log(`Type: ${os.type()}`);  // 'Windows_NT', 'Darwin', 'Linux'
console.log(`Release: ${os.release()}`);  // e.g., '10.0.19045'
console.log(`Arch: ${os.arch()}`);  // 'x64', 'arm64'
console.log(`Hostname: ${os.hostname()}`);
console.log(`Total Memory: ${(os.totalmem() / (1024 ** 3)).toFixed(2)} GB`);
console.log(`Free Memory: ${(os.freemem() / (1024 ** 3)).toFixed(2)} GB`);
console.log(`User: ${os.userInfo().username}`);
console.log(`Home Dir: ${os.homedir()}`);


	ChuyÃªn gia: Methods synchronous, nÃªn cache results (e.g., const cores = os.cpus().length;) Ä‘á»ƒ trÃ¡nh gá»i láº·p. Useful cho CLI tools nhÆ° diagnostic scripts.


# 3. OS Module Reference (Methods)
	Táº¥t cáº£ methods sync, tráº£ giÃ¡ trá»‹ ngay. TÃ´i nhÃ³m theo loáº¡i cho dá»… theo dÃµi.
	System Information:

		- arch(): CPU arch ('x64', 'arm64').
		- platform(): OS platform ('win32', 'darwin', 'linux').
		- type(): OS name ('Windows_NT', 'Darwin', 'Linux').
		- release(): OS version.
		- version(): Kernel info (e.g., Windows build, Linux kernel).

	VÃ­ dá»¥:
		if (os.platform() === 'win32') console.log('Running on Windows');


	CPU Information:

		cpus(): Array CPU cores vá»›i model, speed (MHz), times (usage).
		loadavg(): Load average [1m, 5m, 15m] (Unix-like only; Windows luÃ´n [0,0,0]).


	VÃ­ dá»¥:
		const cpus = os.cpus();
		console.log(`Cores: ${cpus.length}`);
		console.log(`Model: ${cpus[0].model}`);
		console.log(`Speed: ${cpus[0].speed} MHz`);

		SÃ¢u: TÃ­nh usage %: So sÃ¡nh times.user/idle giá»¯a intervals. Useful cho worker pools (e.g., cluster module fork dá»±a trÃªn cores).



	Memory Information:
		totalmem() / freemem(): Total/free memory (bytes).

	VÃ­ dá»¥:
		const usage = ((os.totalmem() - os.freemem()) / os.totalmem() * 100).toFixed(1);
		console.log(`Memory Usage: ${usage}%`);

	Máº¹o: Káº¿t há»£p process.memoryUsage() cho app-specific memory.


	User Information:
		userInfo(): { uid, gid, username, homedir, shell } (Unix-like full; Windows limited).
		homedir(): User home dir.
		Security Note: TrÃ¡nh expose sensitive info (e.g., uid) trong web apps.


	Network Information:
		networkInterfaces(): Object interfaces vá»›i IPs (IPv4/IPv6).
const interfaces = os.networkInterfaces();
console.log(interfaces['eth0'][0].address);  // IP cá»§a interface	
const interfaces = os.networkInterfaces();
console.log(interfaces['eth0'][0].address);  // IP cá»§a interface	
	
		SÃ¢u: Lá»c IPv4: interfaces[ifname].find(i => i.family === 'IPv4').
	
	
	
	
	Other Utilities:
	
		- uptime(): System uptime (seconds).
		- tmpdir(): Temp dir (cross-platform).
		- endianness(): CPU endianness ('BE'/'LE').
		- EOL: Line ending (\n or \r\n).
		- constants: Signals, errors (e.g., os.constants.signals.SIGINT).	
	
const days = Math.floor(os.uptime() / 86400);
console.log(`Uptime: ${days} days`);




# 4. Advanced Usage Examples

	Resource Monitoring

const os = require('os');
setInterval(() => {
  const load = os.loadavg();
  console.log(`Load Avg: ${load[0].toFixed(2)} (1m)`);
  // Alert náº¿u load > cores * 2
  if (load[0] > os.cpus().length * 2) console.warn('High load!');
}, 1000);

	Integration: Káº¿t há»£p Prometheus/Node exporter cho metrics in production.
	
	
	
	Platform-Specific Behavior:
	
function getAppDataPath(appName) {
  const p = os.platform();
  if (p === 'win32') return path.join(process.env.APPDATA, appName);
  if (p === 'darwin') return path.join(os.homedir(), 'Library/Application Support', appName);
  return path.join(os.homedir(), `.config/${appName}`);
}	
	
	SÃ¢u: Cho open files: DÃ¹ng child_process.exec(${openCmd} file) vá»›i openCmd tá»« platform.
	Memory/CPU Adjust: Náº¿u freemem < 512MB, reduce cache; náº¿u cores > 4, increase workers.	
	
	
	
	
	
https://www.w3schools.com/nodejs/nodejs_url.asp	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
</pre><a id='backBottom' href='../NodeJS-learning.html' style='display:none;'>ðŸ”™ Quay láº¡i danh sÃ¡ch</a><br><button onclick='toggleTheme()'>ðŸŒ™ Chuyá»ƒn giao diá»‡n</button></div><script>function toggleTheme() {   let mode = document.body.classList.contains('dark-mode') ? 'light-mode' : 'dark-mode';   document.body.className = mode; localStorage.setItem('theme', mode);   syncTheme();}function applyTheme() {   let savedTheme = localStorage.getItem('theme') || 'dark-mode';   document.body.className = savedTheme;   syncTheme();}function syncTheme() {   let preElement = document.querySelector('pre');   if (document.body.classList.contains('dark-mode')) { preElement.style.background = '#1e1e1e'; preElement.style.color = '#e0e0e0'; }   else { preElement.style.background = '#f5f5f5'; preElement.style.color = '#333333'; }}function checkPageHeight() {   let contentHeight = document.body.scrollHeight;   let windowHeight = window.innerHeight;   if (contentHeight > windowHeight * 1.2) {       document.getElementById('backBottom').style.display = 'block';   } else {       document.getElementById('backBottom').style.display = 'none';   }}</script></body></html>