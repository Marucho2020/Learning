<html><head><title>Lesson 4 == NodeJS vs Browser ==========//</title><style>body { font-family: Arial, sans-serif; transition: background 0.3s, color 0.3s; }.dark-mode { background-color: #121212; color: #e0e0e0; }.light-mode { background-color: #ffffff; color: #333333; }h1 { text-align: center; color: #73d9f5; }pre { padding: 15px; border-radius: 5px;       white-space: pre-wrap; word-wrap: break-word;       overflow-x: auto; max-width: 100%;       transition: background 0.3s, color 0.3s; }.dark-mode pre { background: #1e1e1e; color: #e0e0e0; }.light-mode pre { background: #f5f5f5; color: #333333; }#backTop, #backBottom {    font-size: 2em; padding: 20px 40px;    background: #bb86fc; color: white; text-decoration: none;    border-radius: 10px; display: inline-block; text-align: center; }#backTop:hover, #backBottom:hover { background: #9b67e2; }button { font-size: 1.5em; padding: 15px 30px;    background: #03dac6; color: #121212; border: none;    cursor: pointer; border-radius: 5px; display: block; margin: 10px auto; }button:hover { background: #02b8a3; }.dark-mode a { color: #03dac6; } .light-mode a { color: #007bff; }</style></head><body onload='applyTheme(); checkPageHeight()'><div class='container'><a id='backTop' href='../NodeJS-learning.html'>üîô Quay l·∫°i danh s√°ch</a><br><h1>Lesson 4 -- NodeJS vs Browser -//</h1><pre>
# T·ªïng Quan Ph·∫ßn "Node.js vs Browser" 

	## M·ª•c ti√™u: 
		So s√°nh m√¥i tr∆∞·ªùng ch·∫°y JavaScript c·ªßa Node.js v√† browser, t·∫≠p trung v√†o:

			- APIs: C√°c API c√≥ s·∫µn trong m·ªói m√¥i tr∆∞·ªùng (file system, DOM, networking, v.v.).
			- Global Objects: global (Node.js) vs window/self (browser).
			- Modules: CommonJS (require) vs ES Modules (import/export).
			- Security: Node.js c√≥ quy·ªÅn truy c·∫≠p h·ªá th·ªëng, browser b·ªã gi·ªõi h·∫°n trong sandbox.
			- Event Loop: C·∫£ hai ƒë·ªÅu d√πng, nh∆∞ng Node.js c√≥ th√™m API ƒë·∫∑c th√π.
			- Environment Variables: Node.js h·ªó tr·ª£, browser kh√¥ng.
			- Package Management: Node.js d√πng npm/yarn, browser d√πng CDN/bundler.


		T·∫°i sao quan tr·ªçng? Hi·ªÉu s·ª± kh√°c bi·ªát gi√∫p b·∫°n ch·ªçn ƒë√∫ng m√¥i tr∆∞·ªùng khi ph√°t tri·ªÉn (v√≠ d·ª•: d√πng Node.js cho server API, browser cho giao di·ªán ng∆∞·ªùi d√πng). N√≥ c≈©ng gi·∫£i th√≠ch t·∫°i sao m·ªôt s·ªë code kh√¥ng ch·∫°y ƒë∆∞·ª£c ·ªü c·∫£ hai n∆°i.

		## C√°ch ch·∫°y code v√≠ d·ª•:
		
		Node.js: T·∫°o file .js, ch·∫°y b·∫±ng node filename.js.
		Browser: M·ªü Console (F12 tr√™n Chrome/Firefox) ho·∫∑c t·∫°o file HTML v·ªõi th·∫ª <script>.


# 1. Key Differences (S·ª± Kh√°c Bi·ªát Ch√≠nh)

	## APIs
		-Node.js: Cung c·∫•p API server-side nh∆∞ fs (file system), http/https (networking), os (h·ªá ƒëi·ªÅu h√†nh). Nh·ªØng API n√†y kh√¥ng c√≥ trong browser v√¨ browser kh√¥ng c·∫ßn (ho·∫∑c kh√¥ng ƒë∆∞·ª£c ph√©p) truy c·∫≠p file ho·∫∑c m·∫°ng c·∫•p th·∫•p.
		
		-Browser: Cung c·∫•p API client-side nh∆∞ document (DOM), fetch (HTTP request), canvas (v·∫Ω ƒë·ªì h·ªça). Nh·ªØng API n√†y v√¥ nghƒ©a trong Node.js v√¨ kh√¥ng c√≥ giao di·ªán ng∆∞·ªùi d√πng.
		
		V√≠ d·ª• th·ª±c t·∫ø: Trong Node.js, b·∫°n c√≥ th·ªÉ ƒë·ªçc file t·ª´ ·ªï c·ª©ng; trong browser, b·∫°n ch·ªâ c√≥ th·ªÉ t∆∞∆°ng t√°c v·ªõi HTML elements.


	## Global Objects:

		- Node.js: D√πng global ƒë·ªÉ l∆∞u bi·∫øn to√†n c·ª•c. ƒê√¢y l√† ƒë·ªëi t∆∞·ª£ng g·ªëc c·ªßa m√¥i tr∆∞·ªùng Node.js.
		- Browser: D√πng window (ho·∫∑c self trong Web Workers) ƒë·ªÉ truy c·∫≠p bi·∫øn to√†n c·ª•c v√† API tr√¨nh duy·ªát.
		
		L∆∞u √Ω: globalThis (ES2020) l√† c√°ch chu·∫©n ƒë·ªÉ truy c·∫≠p global object ·ªü c·∫£ hai m√¥i tr∆∞·ªùng.


	## Modules

		- Node.js: H·ªó tr·ª£ CommonJS (require/module.exports) v√† ES Modules (import/export). CommonJS l√† chu·∫©n c≈©, v·∫´n ph·ªï bi·∫øn trong Node.js.
		
		- Browser: Ch·ªß y·∫øu d√πng ES Modules ho·∫∑c th·∫ª <script> tr·ª±c ti·∫øp. Kh√¥ng h·ªó tr·ª£ require tr·ª´ khi d√πng bundler nh∆∞ Webpack.
		
		 V√≠ d·ª•: Trong Node.js, b·∫°n require('fs'); trong browser, b·∫°n <script src="lib.js">.	

	## Security

		- Node.js: C√≥ to√†n quy·ªÅn truy c·∫≠p h·ªá th·ªëng (file, network, process), n√™n c·∫ßn c·∫©n th·∫≠n khi ch·∫°y code t·ª´ ngu·ªìn kh√¥ng tin c·∫≠y.
		
		- Browser: Ch·∫°y trong sandbox, h·∫°n ch·∫ø truy c·∫≠p file ho·∫∑c m·∫°ng ngo√†i HTTP/HTTPS, b·∫£o v·ªá ng∆∞·ªùi d√πng.
		
		 V√≠ d·ª•: Node.js c√≥ th·ªÉ x√≥a file h·ªá th·ªëng; browser kh√¥ng th·ªÉ.



	## Event Loop:

		- C·∫£ hai ƒë·ªÅu d√πng event loop ƒë·ªÉ x·ª≠ l√Ω b·∫•t ƒë·ªìng b·ªô (nh∆∞ setTimeout), nh∆∞ng Node.js c√≥ th√™m API nh∆∞ process.nextTick ho·∫∑c setImmediate ƒë·ªÉ ƒëi·ªÅu khi·ªÉn chi ti·∫øt h∆°n.
		
		- Ng·ªØ c·∫£nh: Node.js t·ªëi ∆∞u cho I/O-heavy (nh∆∞ server x·ª≠ l√Ω nhi·ªÅu request), browser t·ªëi ∆∞u cho UI rendering.



	## Environment Variables:
	
		- Node.js: Truy c·∫≠p qua process.env (v√≠ d·ª•: process.env.PORT ƒë·ªÉ l·∫•y port server).
		
		- Browser: Kh√¥ng h·ªó tr·ª£ tr·ª±c ti·∫øp, nh∆∞ng c√≥ th·ªÉ d√πng th√¥ng qua server-side rendering ho·∫∑c bundler.
		
		V√≠ d·ª•: Trong Node.js, b·∫°n ƒë·∫∑t PORT=3000 trong .env ƒë·ªÉ config server.	

	## Package Management

		- Node.js: D√πng npm/yarn ƒë·ªÉ c√†i th∆∞ vi·ªán (v√≠ d·ª•: npm install express).
		
		- Browser: D√πng CDN (nh∆∞ jsDelivr) ho·∫∑c bundler (Webpack, Vite) ƒë·ªÉ t·∫£i th∆∞ vi·ªán.
		
		V√≠ d·ª•: Trong Node.js, b·∫°n c√†i lodash b·∫±ng npm install lodash; trong browser, b·∫°n d√πng <script src="https://cdn.jsdelivr.net/npm/lodash">.
		

# 2. Examples (V√≠ D·ª• Minh H·ªça)

	T√†i li·ªáu cung c·∫•p c√°c v√≠ d·ª• ƒë·ªÉ minh h·ªça s·ª± kh√°c bi·ªát. T√¥i s·∫Ω ph√¢n t√≠ch t·ª´ng v√≠ d·ª• v√† b·ªï sung ng·ªØ c·∫£nh.

	##  2.1. Global Objects

		// Node.js
		global.mylet = 42;
		console.log(global.mylet); // 42
		
		// Browser
		window.mylet = 42;
		console.log(window.mylet); // 42

	## Gi·∫£i th√≠ch chi ti·∫øt:

		- Node.js: global l√† ƒë·ªëi t∆∞·ª£ng to√†n c·ª•c, t∆∞∆°ng t·ª± window trong browser. G√°n global.mylet = 42 t·∫°o bi·∫øn to√†n c·ª•c, c√≥ th·ªÉ truy c·∫≠p ·ªü m·ªçi n∆°i trong ch∆∞∆°ng tr√¨nh Node.js. Tuy nhi√™n, d√πng global kh√¥ng ƒë∆∞·ª£c khuy·∫øn kh√≠ch v√¨ d·ªÖ g√¢y xung ƒë·ªôt.
		- Browser: window.mylet = 42 t·∫°o bi·∫øn to√†n c·ª•c trong tr√¨nh duy·ªát. B·∫°n c√≥ th·ªÉ truy c·∫≠p b·∫±ng mylet (ng·∫ßm hi·ªÉu l√† window.mylet) ho·∫∑c window.mylet r√µ r√†ng.
		- Th·ª±c t·∫ø: Tr√°nh l·∫°m d·ª•ng global objects. Trong Node.js, d√πng modules ƒë·ªÉ t·ªï ch·ª©c code; trong browser, d√πng let/const trong scope c·ª• th·ªÉ.
		- Th·ª≠ nghi·ªám: Trong Node.js, ch·∫°y node -e "global.x = 10; console.log(global.x)". Trong browser Console, th·ª≠ window.x = 10; console.log(x).



	## 2.2. File Access

// Node.js
const fs = require('fs');
fs.readFile('myfile.txt', 'utf8', (err, data) => {
  if (err) throw err;
  console.log(data);
});

// Browser
// Not allowed for security reasons


		- Node.js: Module fs (file system) cho ph√©p ƒë·ªçc/ghi file. Code tr√™n ƒë·ªçc file myfile.txt b·∫•t ƒë·ªìng b·ªô, in n·ªôi dung n·∫øu th√†nh c√¥ng ho·∫∑c n√©m l·ªói n·∫øu th·∫•t b·∫°i.
		- Browser: Kh√¥ng c√≥ API ƒë·ªçc file tr·ª±c ti·∫øp t·ª´ h·ªá th·ªëng v√¨ sandbox security. Browser ch·ªâ cho ph√©p ƒë·ªçc file qua <input type="file"> do ng∆∞·ªùi d√πng ch·ªçn.
		- Ng·ªØ c·∫£nh: Trong Node.js, b·∫°n d√πng fs ƒë·ªÉ ƒë·ªçc config ho·∫∑c log. Trong browser, b·∫°n c·∫ßn server cung c·∫•p file qua HTTP.
		- Th·ª±c h√†nh: T·∫°o file myfile.txt v·ªõi n·ªôi dung "Hello!", ch·∫°y code Node.js tr√™n. Trong browser, th·ª≠ fetch('myfile.txt') n·∫øu file ƒë∆∞·ª£c host tr√™n server.



	## 2.3. HTTP Requests

// Node.js
const https = require('https');
https.get('https://example.com', res => {
  let data = '';
  res.on('data', chunk => data += chunk);
  res.on('end', () => console.log(data));
});

// Browser
fetch('https://example.com')
  .then(response => response.text())
  .then(console.log);


		Node.js: D√πng module https ƒë·ªÉ g·ª≠i request GET. D·ªØ li·ªáu tr·∫£ v·ªÅ ƒë∆∞·ª£c x·ª≠ l√Ω qua event-driven (res.on('data') thu th·∫≠p t·ª´ng m·∫£nh, res.on('end') x·ª≠ l√Ω khi ho√†n t·∫•t). ƒê√¢y l√† c√°ch low-level, th∆∞·ªùng ƒë∆∞·ª£c thay b·∫±ng th∆∞ vi·ªán nh∆∞ axios.
		Browser: API fetch (ES6+) l√† c√°ch hi·ªán ƒë·∫°i, tr·∫£ v·ªÅ Promise, d·ªÖ d√πng h∆°n. Code tr√™n l·∫•y n·ªôi dung HTML t·ª´ example.com v√† in ra.
		So s√°nh: fetch c√≥ trong Node.js t·ª´ phi√™n b·∫£n 18.x (experimental tr∆∞·ªõc ƒë√≥), nh∆∞ng https v·∫´n l√† c√°ch truy·ªÅn th·ªëng trong Node.js. Browser kh√¥ng c√≥ https v√¨ kh√¥ng c·∫ßn ki·ªÉm so√°t th·∫•p m·ª©c socket.
		Th·ª±c h√†nh: Trong Node.js, ch·∫°y code tr√™n, xem HTML c·ªßa example.com. Trong browser Console, th·ª≠ fetch('https://example.com').then(res => res.text()).then(console.log).


	# 2.4. Modules
// Node.js (CommonJS)
const fs = require('fs');

// Node.js & Browser (ES Modules)
// import fs from 'fs'; // Node.js only, not browser
// import _ from 'https://cdn.jsdelivr.net/npm/lodash-es/lodash.js'; // Browser

		- Node.js (CommonJS): require('fs') t·∫£i module built-in fs. CommonJS l√† chu·∫©n m·∫∑c ƒë·ªãnh trong Node.js (tr∆∞·ªõc khi ES Modules ph·ªï bi·∫øn).
		- ES Modules: C·∫£ Node.js (t·ª´ 12.x) v√† browser h·ªó tr·ª£ import/export. Trong Node.js, c·∫ßn file .mjs ho·∫∑c "type": "module" trong package.json. Browser t·∫£i ES Modules qua CDN ho·∫∑c bundler.
		- Kh√°c bi·ªát: Browser kh√¥ng c√≥ fs v√¨ kh√¥ng truy c·∫≠p file. Node.js kh√¥ng c√≥ CDN tr·ª±c ti·∫øp, nh∆∞ng c√≥ th·ªÉ d√πng fetch ƒë·ªÉ t·∫£i script.
		- Th·ª±c h√†nh: Trong Node.js, th·ª≠ const os = require('os'); console.log(os.platform()). Trong browser, th√™m <script type="module" src="https://cdn.jsdelivr.net/npm/lodash-es/lodash.js"></script> v√†o HTML v√† th·ª≠ import _ from 'lodash-es' trong Console.



</pre><a id='backBottom' href='../NodeJS-learning.html' style='display:none;'>üîô Quay l·∫°i danh s√°ch</a><br><button onclick='toggleTheme()'>üåô Chuy·ªÉn giao di·ªán</button></div><script>function toggleTheme() {   let mode = document.body.classList.contains('dark-mode') ? 'light-mode' : 'dark-mode';   document.body.className = mode; localStorage.setItem('theme', mode);   syncTheme();}function applyTheme() {   let savedTheme = localStorage.getItem('theme') || 'dark-mode';   document.body.className = savedTheme;   syncTheme();}function syncTheme() {   let preElement = document.querySelector('pre');   if (document.body.classList.contains('dark-mode')) { preElement.style.background = '#1e1e1e'; preElement.style.color = '#e0e0e0'; }   else { preElement.style.background = '#f5f5f5'; preElement.style.color = '#333333'; }}function checkPageHeight() {   let contentHeight = document.body.scrollHeight;   let windowHeight = window.innerHeight;   if (contentHeight > windowHeight * 1.2) {       document.getElementById('backBottom').style.display = 'block';   } else {       document.getElementById('backBottom').style.display = 'none';   }}</script></body></html>