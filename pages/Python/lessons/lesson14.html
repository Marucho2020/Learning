<html><head><title>Lession 13  Lession 13  Xá»­ lÃ½ file FILE //</title><style>body { font-family: Arial, sans-serif; transition: background 0.3s, color 0.3s; }.dark-mode { background-color: #121212; color: #e0e0e0; }.light-mode { background-color: #ffffff; color: #333333; }h1 { text-align: center; color: #73d9f5; }pre { padding: 15px; border-radius: 5px;       white-space: pre-wrap; word-wrap: break-word;       overflow-x: auto; max-width: 100%;       transition: background 0.3s, color 0.3s; }.dark-mode pre { background: #1e1e1e; color: #e0e0e0; }.light-mode pre { background: #f5f5f5; color: #333333; }#backTop, #backBottom {    font-size: 2em; padding: 20px 40px;    background: #bb86fc; color: white; text-decoration: none;    border-radius: 10px; display: inline-block; text-align: center; }#backTop:hover, #backBottom:hover { background: #9b67e2; }button { font-size: 1.5em; padding: 15px 30px;    background: #03dac6; color: #121212; border: none;    cursor: pointer; border-radius: 5px; display: block; margin: 10px auto; }button:hover { background: #02b8a3; }.dark-mode a { color: #03dac6; } .light-mode a { color: #007bff; }</style></head><body onload='applyTheme(); checkPageHeight()'><div class='container'><a id='backTop' href='../python-learning-list.html'>ğŸ”™ Quay láº¡i danh sÃ¡ch</a><br><h1>Lession 13  Lession 13  Xá»­ lÃ½ file FILE //</h1><pre>
- Text file 
- Binary file	


	1. Má»Ÿ file 		
		- open(file,mode='r',buffering=-1, encoding=None, errors=None, newline=None,closefd=True, opener=None)
					* HÃ m nÃ y tráº£ vá» má»™t file cÃ³ kiá»ƒu dá»¯ liá»‡u lÃ  iterable 
					file_obj = open('Dict.py' , mode='r', encoding='cp1258')
					
				+ file : tÃªn tá»‡p muá»‘n má»Ÿ ("example.txt" hoáº·c r"C:\folder\example.txt".) absolute path or relative
				
				+ mode  : cháº¿ Ä‘á»™ má»Ÿ tá»‡p 
									r  : má»Ÿ tá»‡p Ä‘á»ƒ Ä‘á»c(máº·c Ä‘á»‹nh) . Tá»‡p khÃ´ng tá»“n táº¡i sáº½ bÃ¡o lá»—i 
									r+ : má»Ÿ tá»‡p Ä‘á»ƒ Ä‘á»c vÃ  ghi 
									w  : má»Ÿ tá»‡p Ä‘á»ƒ ghi, náº¿u tá»‡p Ä‘Ã£ tá»“n táº¡i sáº½ bá»‹ ghi Ä‘Ã¨, náº¿u khÃ´ng táº¡o tá»‡p má»›i
									w+ : má»Ÿ Ä‘á»ƒ ghi vÃ  Ä‘á»c, 
									x  : táº¡o má»™t tá»‡p má»›i vÃ  má»Ÿ Ä‘á»ƒ ghi. Náº¿u tá»‡p ÄÃƒ Tá»’N Táº I sáº½ bÃ¡o Lá»–I 
									a  : má»Ÿ tá»‡p Ä‘á»ƒ ghi thÃªm vÃ o cuá»‘i tá»‡p. Náº¿u tá»‡p khÃ´ng tá»“n táº¡i sáº½ tá»± Ä‘c táº¡o
									a+ : má»Ÿ tá»‡p Ä‘á»ƒ ghi vÃ  Ä‘á»c 
									b  : má»Ÿ tá»‡p á»Ÿ cháº¿ Ä‘á»™ nhá»‹ phÃ¢n(binary). ThÆ°á»ng Ä‘Æ°á»£c káº¿t há»£p vá»›i cÃ¡c cháº¿ Ä‘á»™ khÃ¡c nhÆ° 'rb'(Ä‘á»c nhá»‹ phÃ¢n) hay 'wb'(ghi nhá»‹ phÃ¢n )
									t  : Má»Ÿ tá»‡p cháº¿ Ä‘á»™ vÄƒn báº£n (text) -> ÄÃ¢y lÃ  cháº¿ Ä‘á»™ máº·c Ä‘á»‹nh 
									+  : má»Ÿ tá»‡p Ä‘á»ƒ Ä‘á»c vÃ  ghi, vÃ­ dá»¥ 'r+' , 'w+' , 'a+'
									
				+ buffering : Äiá»u khiá»ƒn viá»‡c Ä‘á»‡m dá»¯ liá»‡u (default = -1 )
									0 :	KhÃ´ng Ä‘á»‡m dá»¯ liá»‡u(dÃ¹ng cho cháº¿ Ä‘á»™ nhá»‹ phÃ¢n ) 
									1 : Äá»‡m dÃ²ng(chá»‰ Ä‘á»‡m cho cháº¿ Ä‘á»™ vÄƒn báº£n)
								    >1:	Sá»‘ lá»›n hÆ¡n 1 , Äá»™ lá»›n cá»§a bá»™ Ä‘á»‡m tÃ­nh theo byte 
								   -1 : Äáº·t giÃ¡ trá»‹ Ä‘á»‡m theo máº·c Ä‘á»‹nh há»‡ thá»‘ng 
								   
								   
				+ encoding	: (Máº·c Ä‘á»‹nh lÃ  None) : Chá»‰ Ä‘á»‹nh báº£ng mÃ£ kÃ½ tá»± khi má»Ÿ tá»‡p á»Ÿ cháº¿ Ä‘á»™ vÄƒn báº£n(text mode) , vÃ­ dá»¥ 'utf-8' , 'ascii' , 'utf16'


				+ errors 	: (Máº·c Ä‘á»‹nh lÃ  None) : Chá»‰ Ä‘á»‹nh Quy cÃ¡ch xá»­ lÃ½ khi xáº£y ra lá»—i mÃ£ hÃ³a, giáº£i mÃ£ 
									
									'strict'    			: BÃ¡o lá»—i náº¿u cÃ³ lá»—i mÃ£ hÃ³a 
									'ignore'    			: Bá» qua lá»—i 
									'replace'   			: thay tháº¿ cÃ¡c kÃ½ tá»± khÃ´ng há»£p lá»‡ báº±ng kÃ½ tá»± thay tháº¿(? hoáº·c tÆ°Æ¡ng Ä‘Æ°Æ¡ng )
									'backslashreplace'    	: thay kÃ½ tá»± lá»—i báº±ng chuá»—i thoÃ¡t(\uXXXX) 
					
				
				+ newline	:(Máº·c Ä‘á»‹nh lÃ  None) Quy cÃ¡ch xá»­ lÃ½ cÃ¡c kÃ½ tá»± xuá»‘ng dÃ²ng (\n,\r , \r\n)
									None 						: Xá»­ lÃ½ xuá»‘ng dÃ²ng theo máº·c Ä‘á»‹nh cá»§a há»‡ Ä‘iá»u hÃ nh
									'' 							: Bá» qua hoÃ n toÃ n viá»‡c chuyá»ƒn Ä‘á»•i dÃ²ng má»›i 
									'\n','\r' , '\r\n' 			: Chá»‰ Ä‘á»‹nh má»™t kiá»ƒu xuá»‘ng dÃ²ng cá»¥ thá»ƒ  
									
									
				+ closefd	: (Máº·c Ä‘á»‹nh lÃ  True)	
				
									True 		      : Khi Ä‘Ã³ng Ä‘á»‘i tÆ°á»£ng tá»‡p , MÃ´ táº£ file(description fd) sáº½ Ä‘Æ°á»£c Ä‘Ã³ng 
									
 									False             : NgÆ°á»£c láº¡i, MÃ´ táº£ file sáº½ khÃ´ng bá»‹ Ä‘Ã³ng khi tá»‡p Ä‘Ã³ng 
									* Náº¿u file lÃ  Ä‘Æ°á»ng dáº«n, closefd Báº®T BUá»˜C pháº£i lÃ  True
									
									
									
				+ opener 	: (Máº·c Ä‘á»‹nh lÃ  None)	: má»™t callable cho phÃ©p tÃ¹y chá»‰nh cÃ¡ch má»Ÿ tá»‡p. NÃ³ nháº­n hai Ä‘á»‘i sá»‘(Ä‘Æ°á»ng dáº«n tá»‡p vÃ  cÃ¡c cá» nhÆ° trong os.open ) vÃ  tráº£ vá» má»™t file description. Äiá»u nÃ y ráº¥t há»¯u Ã­ch khi báº¡n cáº§n kiá»ƒm soÃ¡t cÃ¡ch tá»‡p Ä‘Æ°á»£c má»Ÿ á»Ÿ má»©c tháº¥p 					
									
									
									
									
	2. ÄÃ³ng file 
			- Sá»­ dá»¥ng sau khi Ä‘Ã£ thao tÃ¡c xong, Ä‘á»ƒ Ä‘Ã³ng luá»“ng xá»­ lÃ½ file (Quan trá»ng )
				
				<File>.close()   // file_obj.close()
									
									
	3. 	Äá»c file 		 
			+  <File>.read(pos)		
			
										// Náº¿u pos bá»‹ bá» trá»‘ng hoáº·c lÃ  sá»‘ Ã¢m -> Sáº½ Ä‘á»c háº¿t ná»™i dung vÃ  ÄÆ¯A CON TRá» Äáº¾N CUá»I FILE 	
										// pos >= 0  thÃ¬ sáº½ Ä‘á»c Ä‘áº¿n char = n truyá»n vÃ o , pos = n 
										// Náº¿u khÃ´ng Ä‘á»c Ä‘Æ°á»£c gÃ¬, phÆ°Æ¡ng thá»©c sáº½ tráº£ vá» má»™t chuá»—i cÃ³ Ä‘á»™ dÃ i báº±ng 0
								
											print(file_obj.read(-1))	
								

	4. Äá»c file theo Má»˜T  dÃ²ng  			 			
			+ <File>.readline(pos)		
											// Náº¿u pos bá» trá»‘ng hoáº·c lÃ  sá»‘ Ã¢m  -> Sáº½ Ä‘á»c háº¿t DÃ’NG Ä‘áº¿n khi gáº·p kÃ½ tá»± xuá»‘ng dÃ²ng vÃ  Ä‘áº·t con trá» táº¡i vá»‹ trÃ­ Ä‘Ã³ 
											// Pos truyá»n vÃ o sáº½ lÃ  sá»‘ lÆ°á»£ng KÃ Tá»°  cáº§n Ä‘á»c 
											// Náº¿u khÃ´ng Ä‘á»c Ä‘Æ°á»£c gÃ¬, phÆ°Æ¡ng thá»©c sáº½ tráº£ vá» má»™t chuá»—i cÃ³ Ä‘á»™ dÃ i báº±ng 0
											
	

	5. Äá»c file theo NHIá»€U dÃ²ng 				
			+ <File>.readlines(hint)	
											// Náº¿u hint = -1 , sá»‘ Ã¢m , hoáº·c khÃ´ng truyá»n vÃ o thÃ¬ sáº½ Äá»ŒC TOÃ€N Bá»˜ Ná»˜I DUNG Tá»†P 
											
											// náº¿u hint >= 0 thÃ¬ sáº½ cá»‘ gáº¯ng sao chÃ©p cÃ¡c dÃ²ng sao cho tá»•ng sá»‘ byte cÃ¡c dÃ²ng Ä‘Æ°á»£c xáº¥p xá»‰ giÃ¡ trá»‹ cá»§a hint . Tuy nhiÃªn, nÃ³ sáº½ tráº£ vá» danh sÃ¡ch cÃ¡c dÃ²ng Ä‘Ã£ hoÃ n chá»‰nh(náº¿u má»™t dÃ²ng cÃ³ Ä‘á»™ dÃ i lá»›n hÆ¡n hint , nÃ³ sáº½ Ä‘Æ°á»£c Ä‘á»c Ä‘áº§y Ä‘á»§ )
											// Äiá»u nÃ y giÃºp tá»‘i Æ°u hÃ³a bá»™ nhá»› khi khÃ´ng cáº§n thiáº¿t pháº£i Ä‘á»c toÃ n bá»™ tá»‡p má»™t láº§n.
											
											// xuá»‘ng dÃ²ng sáº½ Ä‘Æ°á»£c chuyá»ƒn thÃ nh kÃ½ tá»± \n 
											
											// Náº¿u hint nhá» hÆ¡n tá»•ng sá»‘ byte cá»§a cÃ¡c dÃ²ng trong tá»‡p:
											PhÆ°Æ¡ng thá»©c sáº½ cá»‘ gáº¯ng Ä‘á»c cÃ¡c dÃ²ng sao cho tá»•ng sá»‘ byte Ä‘á»c Ä‘Æ°á»£c xáº¥p xá»‰ vá»›i giÃ¡ trá»‹ hint. Tuy nhiÃªn, nÃ³ khÃ´ng dá»«ng giá»¯a má»™t dÃ²ng. Náº¿u sá»‘ byte cá»§a má»™t dÃ²ng vÆ°á»£t quÃ¡ hint, phÆ°Æ¡ng thá»©c váº«n Ä‘á»c trá»n váº¹n dÃ²ng Ä‘Ã³.
											
											
											// Náº¿u cÃ¡c dÃ²ng tiáº¿p theo cÃ³ tá»•ng sá»‘ byte vÆ°á»£t quÃ¡ hint:
											PhÆ°Æ¡ng thá»©c sáº½ dá»«ng láº¡i ngay sau khi Ä‘á»c Ä‘á»§ cÃ¡c dÃ²ng mÃ  tá»•ng sá»‘ byte gáº§n báº±ng hoáº·c vÆ°á»£t qua hint. Tuy nhiÃªn, nhÆ° Ä‘Ã£ nÃ³i á»Ÿ trÃªn, nÃ³ sáº½ Ä‘á»c Ä‘áº§y Ä‘á»§ cÃ¡c dÃ²ng, ngay cáº£ khi Ä‘iá»u nÃ y khiáº¿n sá»‘ byte vÆ°á»£t quÃ¡ hint.
									e.g		
									with open('example.txt', 'r') as f:
										lines = f.readlines(100)  # Äá»c cÃ¡c dÃ²ng cho Ä‘áº¿n khi tá»•ng sá»‘ byte lÃ  khoáº£ng 100

		
		
		6. Äá»c file báº±ng constructor nháº­n iterable 
							   
					// File Object cÅ©ng lÃ  má»™t kiá»ƒu iterable -> ta cÃ³ thá»ƒ sá»­ dá»¥ng constructor list 
					// CÃ¡c constructor nÃ y cÅ©ng sáº½ Ä‘Æ°a con trá» file xuá»‘ng cuá»‘i file.
								e.g
								file_obj = open('Dict.py' , mode='r+', encoding='utf-8')

								# Láº¥y ra ná»™i dung file dáº¡ng List , vá»›i má»—i pháº§n tá»­ lÃ  má»™t dÃ²ng  
								list_content = list(file_obj)
								print(list_content)
								file_obj.close()
								
								
								# Láº¥y ra ná»™i dung file dáº¡ng Tuple, vá»›i má»—i pháº§n tá»­ lÃ  má»™t dÃ²ng 
								file_obj = open('Dict.py' , mode='r+', encoding='utf-8')
								list_content = tuple(file_obj)
								print(list_content)
								
								# CÃ³ thá»ƒ sá»­ dá»¥ng nÃ³ nhÆ° 1 iterable á»Ÿ cÃ¡c kiá»ƒu dá»¯ liá»‡u khÃ¡c ....



		7. Ghi file 			<File>.write(text)	
									// Tráº£ vá» sá»‘ kÃ½ tá»± mÃ  chÃºng ta ghi vÃ o file 
									// File pháº£i Ä‘Æ°á»£c má»Ÿ báº±ng cháº¿ Ä‘á»™ write má»›i viáº¿t Ä‘Æ°á»£c   
									// Má»—i láº§n sá»­ dá»¥ng write , con trá» sáº½ Ä‘Æ°á»£c Ä‘áº·t ngay sau kÃ½ tá»± cuá»‘i cÃ¹ng Ä‘c ghi
									// Máº¶C Äá»ŠNH GHI VÃ€O Äáº¦U FILE náº¿u k sá»­ dá»¥ng mode a 
									
									
									file_obj = open('Dict.py' , mode='a+', encoding='utf-8')    // Äáº·t con trá» vÃ o cuá»‘i File 
									file_obj.write('--SIGN--')  // MODE a  -> Ghi vÃ o cuá»‘i file 
									
									
									
									
		8. Kiá»ƒm soÃ¡t con trá»  
			// PhÆ°Æ¡ng thá»©c seek	
				<File>.seek(offset, whence=0)		// PhÆ°Æ¡ng thá»©c giÃºp ta di chuyá»ƒn con trá» tá»« vá»‹ trÃ­ 	Ä‘áº§u file qua offset kÃ½ tá»±, VÃ  parameter offset pháº£i lÃ  má»™t sá»‘ tá»± nhiÃªn 
														// Nhá» Ä‘Ã³ ta cÃ³ thá»ƒ ghi ná»™i dung báº¥t cá»© Ä‘Ã¢u trong file 
														
														// Tá»« Ä‘Ã³ ta cÃ³ thá»ƒ Ä‘á»c láº¡i file sau khi Ä‘Æ°a con trá» xuá»‘ng cuá»‘i file 
														
								
													// offset : Sá»‘ byte mÃ  muá»‘n di chuyá»ƒn con trá» tá»« bá»‹ trÃ­ Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh bá»Ÿi whence 
														+ offset >= 0   // di chuyá»ƒn con trá» vá» phÃ­a trÆ°á»›c 
														+ offset < 0  	// di chuyá»ƒn con trá» lÃ¹i vá» phÃ­a sau 
														
													// whence : Vá»‹ trÃ­ báº¯t Ä‘áº§u Ä‘á»ƒ di chuyá»ƒn con trá»( 0 Ä‘áº§u tá»‡p , 1 vá»‹ trÃ­ hiá»‡n táº¡i, 2 cuá»‘i tá»‡p) , giÃ¡ trá»‹ Máº¶C Äá»ŠNH = 0 -> tá»©c lÃ  0 lÃ  vá»‹ trÃ­ Ä‘áº§u tá»‡p 
														+ 0  // máº·c Ä‘á»‹nh, vá»‹ trÃ­ Ä‘áº§u tá»‡p 
														+ 1  // báº¯t Ä‘áº§u tá»« vá»‹ trÃ­ hiá»‡n táº¡i cá»§a con trá» 
														+ 2  // bÄƒt Ä‘áº§u tá»« vá»‹ trÃ­ cuá»‘i tá»‡p 
													
									e.g 					
								with open('example.txt', 'r') as f:					
									f.seek(6)  # whence=0 máº·c Ä‘á»‹nh		Con trá» dá»«ng táº¡i Position thá»© 6 trong file 
									print(f.read())  # In ra tá»« vá»‹ trÃ­ thá»© 6 	Ä‘áº¿n háº¿t file 
									
											
									with open('Dict.py', 'rb') as f:    // Pháº£i lÃ  Ä‘á»c nhá»‹ phÃ¢n  thÃ¬ má»›i sá»­ dá»¥ng whence theo byte Ä‘c 
										f.seek(-10, 2)  # Di chuyá»ƒn vá» 10 byte tá»« cuá»‘i tá»‡p		
										print(f.read())  # In ra tá»« vá»‹ trÃ­ nÃ y
								
								
								
		//CÃ¢u lá»‡nh with  
		
				with expression [as variable]:
						with-block    
													// Äoáº¡n xá»­ lÃ½ cáº§n dá»¯ liá»‡u tá»« with pháº£i thá»¥t dÃ²ng ko thÃ¬ lá»—i 
													// CÃ¢u lá»‡nh nÃ y liÃªn quan Ä‘áº¿n phÆ°Æ¡ng thá»©c __enter__ vÃ  __exit__ cá»§a Ä‘á»‘i tÆ°á»£ng 
													
													// Khi sá»­ dá»¥ng open file vá»›i with , khi thoÃ¡t khá»i with FILE Sáº¼ ÄÆ¯á»¢C ÄÃ“NG 
										
										# CÃ³ thá»ƒ káº¿t há»£p sá»­ dá»¥ng :=
										with (file_obj := open('Dict.py', 'r')) : 		// As khi nÃ o nhiá»u hoáº·c rá»‘i quÃ¡ thÃ¬ dÃ¹ng 
											data= file_obj.read()						# sau dÃ²ng nÃ y sáº½ Ä‘Ã³ng file 

										print(data)			



	
</pre><a id='backBottom' href='../python-learning-list.html' style='display:none;'>ğŸ”™ Quay láº¡i danh sÃ¡ch</a><br><button onclick='toggleTheme()'>ğŸŒ™ Chuyá»ƒn giao diá»‡n</button></div><script>function toggleTheme() {   let mode = document.body.classList.contains('dark-mode') ? 'light-mode' : 'dark-mode';   document.body.className = mode; localStorage.setItem('theme', mode);   syncTheme();}function applyTheme() {   let savedTheme = localStorage.getItem('theme') || 'dark-mode';   document.body.className = savedTheme;   syncTheme();}function syncTheme() {   let preElement = document.querySelector('pre');   if (document.body.classList.contains('dark-mode')) { preElement.style.background = '#1e1e1e'; preElement.style.color = '#e0e0e0'; }   else { preElement.style.background = '#f5f5f5'; preElement.style.color = '#333333'; }}function checkPageHeight() {   let contentHeight = document.body.scrollHeight;   let windowHeight = window.innerHeight;   if (contentHeight > windowHeight * 1.2) {       document.getElementById('backBottom').style.display = 'block';   } else {       document.getElementById('backBottom').style.display = 'none';   }}</script></body></html>