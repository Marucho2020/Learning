<html><head><title>Lession 13  Lession 13  X·ª≠ l√Ω file FILE //</title><style>body { font-family: Arial, sans-serif; transition: background 0.3s, color 0.3s; }.dark-mode { background-color: #121212; color: #e0e0e0; }.light-mode { background-color: #ffffff; color: #333333; }h1 { text-align: center; color: #73d9f5; }pre { padding: 15px; border-radius: 5px;       white-space: pre-wrap; word-wrap: break-word;       overflow-x: auto; max-width: 100%;       transition: background 0.3s, color 0.3s; }.dark-mode pre { background: #1e1e1e; color: #e0e0e0; }.light-mode pre { background: #f5f5f5; color: #333333; }#backTop, #backBottom {    font-size: 2em; padding: 20px 40px;    background: #bb86fc; color: white; text-decoration: none;    border-radius: 10px; display: inline-block; text-align: center; }#backTop:hover, #backBottom:hover { background: #9b67e2; }button { font-size: 1.5em; padding: 15px 30px;    background: #03dac6; color: #121212; border: none;    cursor: pointer; border-radius: 5px; display: block; margin: 10px auto; }button:hover { background: #02b8a3; }.dark-mode a { color: #03dac6; } .light-mode a { color: #007bff; }</style></head><body onload='applyTheme(); checkPageHeight()'><div class='container'><a id='backTop' href='../python-learning-list.html'>üîô Quay l·∫°i danh s√°ch</a><br><h1>Lession 13  Lession 13  X·ª≠ l√Ω file FILE //</h1><pre>
- Text file 
- Binary file	


	1. M·ªü file 		
		- open(file,mode='r',buffering=-1, encoding=None, errors=None, newline=None,closefd=True, opener=None)
					* H√†m n√†y tr·∫£ v·ªÅ m·ªôt file c√≥ ki·ªÉu d·ªØ li·ªáu l√† iterable 
					file_obj = open('Dict.py' , mode='r', encoding='cp1258')
					
				+ file : t√™n t·ªáp mu·ªën m·ªü ("example.txt" ho·∫∑c r"C:\folder\example.txt".) absolute path or relative
				
				+ mode  : ch·∫ø ƒë·ªô m·ªü t·ªáp 
									r  : m·ªü t·ªáp ƒë·ªÉ ƒë·ªçc(m·∫∑c ƒë·ªãnh) . T·ªáp kh√¥ng t·ªìn t·∫°i s·∫Ω b√°o l·ªói 
									r+ : m·ªü t·ªáp ƒë·ªÉ ƒë·ªçc v√† ghi 
									w  : m·ªü t·ªáp ƒë·ªÉ ghi, n·∫øu t·ªáp ƒë√£ t·ªìn t·∫°i s·∫Ω b·ªã ghi ƒë√®, n·∫øu kh√¥ng t·∫°o t·ªáp m·ªõi
									w+ : m·ªü ƒë·ªÉ ghi v√† ƒë·ªçc, 
									x  : t·∫°o m·ªôt t·ªáp m·ªõi v√† m·ªü ƒë·ªÉ ghi. N·∫øu t·ªáp ƒê√É T·ªíN T·∫†I s·∫Ω b√°o L·ªñI 
									a  : m·ªü t·ªáp ƒë·ªÉ ghi th√™m v√†o cu·ªëi t·ªáp. N·∫øu t·ªáp kh√¥ng t·ªìn t·∫°i s·∫Ω t·ª± ƒëc t·∫°o
									a+ : m·ªü t·ªáp ƒë·ªÉ ghi v√† ƒë·ªçc 
									b  : m·ªü t·ªáp ·ªü ch·∫ø ƒë·ªô nh·ªã ph√¢n(binary). Th∆∞·ªùng ƒë∆∞·ª£c k·∫øt h·ª£p v·ªõi c√°c ch·∫ø ƒë·ªô kh√°c nh∆∞ 'rb'(ƒë·ªçc nh·ªã ph√¢n) hay 'wb'(ghi nh·ªã ph√¢n )
									t  : M·ªü t·ªáp ch·∫ø ƒë·ªô vƒÉn b·∫£n (text) -> ƒê√¢y l√† ch·∫ø ƒë·ªô m·∫∑c ƒë·ªãnh 
									+  : m·ªü t·ªáp ƒë·ªÉ ƒë·ªçc v√† ghi, v√≠ d·ª• 'r+' , 'w+' , 'a+'
									
				+ buffering : ƒêi·ªÅu khi·ªÉn vi·ªác ƒë·ªám d·ªØ li·ªáu (default = -1 )
									0 :	Kh√¥ng ƒë·ªám d·ªØ li·ªáu(d√πng cho ch·∫ø ƒë·ªô nh·ªã ph√¢n ) 
									1 : ƒê·ªám d√≤ng(ch·ªâ ƒë·ªám cho ch·∫ø ƒë·ªô vƒÉn b·∫£n)
								    >1:	S·ªë l·ªõn h∆°n 1 , ƒê·ªô l·ªõn c·ªßa b·ªô ƒë·ªám t√≠nh theo byte 
								   -1 : ƒê·∫∑t gi√° tr·ªã ƒë·ªám theo m·∫∑c ƒë·ªãnh h·ªá th·ªëng 
								   
								   
				+ encoding	: (M·∫∑c ƒë·ªãnh l√† None) : Ch·ªâ ƒë·ªãnh b·∫£ng m√£ k√Ω t·ª± khi m·ªü t·ªáp ·ªü ch·∫ø ƒë·ªô vƒÉn b·∫£n(text mode) , v√≠ d·ª• 'utf-8' , 'ascii' , 'utf16'


				+ errors 	: (M·∫∑c ƒë·ªãnh l√† None) : Ch·ªâ ƒë·ªãnh Quy c√°ch x·ª≠ l√Ω khi x·∫£y ra l·ªói m√£ h√≥a, gi·∫£i m√£ 
									
									'strict'    			: B√°o l·ªói n·∫øu c√≥ l·ªói m√£ h√≥a 
									'ignore'    			: B·ªè qua l·ªói 
									'replace'   			: thay th·∫ø c√°c k√Ω t·ª± kh√¥ng h·ª£p l·ªá b·∫±ng k√Ω t·ª± thay th·∫ø(? ho·∫∑c t∆∞∆°ng ƒë∆∞∆°ng )
									'backslashreplace'    	: thay k√Ω t·ª± l·ªói b·∫±ng chu·ªói tho√°t(\uXXXX) 
					
				
				+ newline	:(M·∫∑c ƒë·ªãnh l√† None) Quy c√°ch x·ª≠ l√Ω c√°c k√Ω t·ª± xu·ªëng d√≤ng (\n,\r , \r\n)
									None 						: X·ª≠ l√Ω xu·ªëng d√≤ng theo m·∫∑c ƒë·ªãnh c·ªßa h·ªá ƒëi·ªÅu h√†nh
									'' 							: B·ªè qua ho√†n to√†n vi·ªác chuy·ªÉn ƒë·ªïi d√≤ng m·ªõi 
									'\n','\r' , '\r\n' 			: Ch·ªâ ƒë·ªãnh m·ªôt ki·ªÉu xu·ªëng d√≤ng c·ª• th·ªÉ  
									
									
				+ closefd	: (M·∫∑c ƒë·ªãnh l√† True)	
				
									True 		      : Khi ƒë√≥ng ƒë·ªëi t∆∞·ª£ng t·ªáp , M√¥ t·∫£ file(description fd) s·∫Ω ƒë∆∞·ª£c ƒë√≥ng 
									
 									False             : Ng∆∞·ª£c l·∫°i, M√¥ t·∫£ file s·∫Ω kh√¥ng b·ªã ƒë√≥ng khi t·ªáp ƒë√≥ng 
									* N·∫øu file l√† ƒë∆∞·ªùng d·∫´n, closefd B·∫ÆT BU·ªòC ph·∫£i l√† True
									
									
									
				+ opener 	: (M·∫∑c ƒë·ªãnh l√† None)	: m·ªôt callable cho ph√©p t√πy ch·ªânh c√°ch m·ªü t·ªáp. N√≥ nh·∫≠n hai ƒë·ªëi s·ªë(ƒë∆∞·ªùng d·∫´n t·ªáp v√† c√°c c·ªù nh∆∞ trong os.open ) v√† tr·∫£ v·ªÅ m·ªôt file description. ƒêi·ªÅu n√†y r·∫•t h·ªØu √≠ch khi b·∫°n c·∫ßn ki·ªÉm so√°t c√°ch t·ªáp ƒë∆∞·ª£c m·ªü ·ªü m·ª©c th·∫•p 					
									
									
									
									
	2. ƒê√≥ng file 
			- S·ª≠ d·ª•ng sau khi ƒë√£ thao t√°c xong, ƒë·ªÉ ƒë√≥ng lu·ªìng x·ª≠ l√Ω file (Quan tr·ªçng )
				
				<File>.close()   // file_obj.close()
									
									
	3. 	ƒê·ªçc file 		 
			+  <File>.read(pos)		
			
										// N·∫øu pos b·ªã b·ªè tr·ªëng ho·∫∑c l√† s·ªë √¢m -> S·∫Ω ƒë·ªçc h·∫øt n·ªôi dung v√† ƒê∆ØA CON TR·ªé ƒê·∫æN CU·ªêI FILE 	
										// pos >= 0  th√¨ s·∫Ω ƒë·ªçc ƒë·∫øn char = n truy·ªÅn v√†o , pos = n 
										// N·∫øu kh√¥ng ƒë·ªçc ƒë∆∞·ª£c g√¨, ph∆∞∆°ng th·ª©c s·∫Ω tr·∫£ v·ªÅ m·ªôt chu·ªói c√≥ ƒë·ªô d√†i b·∫±ng 0
								
											print(file_obj.read(-1))	
								

	4. ƒê·ªçc file theo M·ªòT  d√≤ng  			 			
			+ <File>.readline(pos)		
											// N·∫øu pos b·ªè tr·ªëng ho·∫∑c l√† s·ªë √¢m  -> S·∫Ω ƒë·ªçc h·∫øt D√íNG ƒë·∫øn khi g·∫∑p k√Ω t·ª± xu·ªëng d√≤ng v√† ƒë·∫∑t con tr·ªè t·∫°i v·ªã tr√≠ ƒë√≥ 
											// Pos truy·ªÅn v√†o s·∫Ω l√† s·ªë l∆∞·ª£ng K√ù T·ª∞  c·∫ßn ƒë·ªçc 
											// N·∫øu kh√¥ng ƒë·ªçc ƒë∆∞·ª£c g√¨, ph∆∞∆°ng th·ª©c s·∫Ω tr·∫£ v·ªÅ m·ªôt chu·ªói c√≥ ƒë·ªô d√†i b·∫±ng 0
											
	

	5. ƒê·ªçc file theo NHI·ªÄU d√≤ng 				
			+ <File>.readlines(hint)	
											// N·∫øu hint = -1 , s·ªë √¢m , ho·∫∑c kh√¥ng truy·ªÅn v√†o th√¨ s·∫Ω ƒê·ªåC TO√ÄN B·ªò N·ªòI DUNG T·ªÜP 
											
											// n·∫øu hint >= 0 th√¨ s·∫Ω c·ªë g·∫Øng sao ch√©p c√°c d√≤ng sao cho t·ªïng s·ªë byte c√°c d√≤ng ƒë∆∞·ª£c x·∫•p x·ªâ gi√° tr·ªã c·ªßa hint . Tuy nhi√™n, n√≥ s·∫Ω tr·∫£ v·ªÅ danh s√°ch c√°c d√≤ng ƒë√£ ho√†n ch·ªânh(n·∫øu m·ªôt d√≤ng c√≥ ƒë·ªô d√†i l·ªõn h∆°n hint , n√≥ s·∫Ω ƒë∆∞·ª£c ƒë·ªçc ƒë·∫ßy ƒë·ªß )
											// ƒêi·ªÅu n√†y gi√∫p t·ªëi ∆∞u h√≥a b·ªô nh·ªõ khi kh√¥ng c·∫ßn thi·∫øt ph·∫£i ƒë·ªçc to√†n b·ªô t·ªáp m·ªôt l·∫ßn.
											
											// xu·ªëng d√≤ng s·∫Ω ƒë∆∞·ª£c chuy·ªÉn th√†nh k√Ω t·ª± \n 
											
											// N·∫øu hint nh·ªè h∆°n t·ªïng s·ªë byte c·ªßa c√°c d√≤ng trong t·ªáp:
											Ph∆∞∆°ng th·ª©c s·∫Ω c·ªë g·∫Øng ƒë·ªçc c√°c d√≤ng sao cho t·ªïng s·ªë byte ƒë·ªçc ƒë∆∞·ª£c x·∫•p x·ªâ v·ªõi gi√° tr·ªã hint. Tuy nhi√™n, n√≥ kh√¥ng d·ª´ng gi·ªØa m·ªôt d√≤ng. N·∫øu s·ªë byte c·ªßa m·ªôt d√≤ng v∆∞·ª£t qu√° hint, ph∆∞∆°ng th·ª©c v·∫´n ƒë·ªçc tr·ªçn v·∫πn d√≤ng ƒë√≥.
											
											
											// N·∫øu c√°c d√≤ng ti·∫øp theo c√≥ t·ªïng s·ªë byte v∆∞·ª£t qu√° hint:
											Ph∆∞∆°ng th·ª©c s·∫Ω d·ª´ng l·∫°i ngay sau khi ƒë·ªçc ƒë·ªß c√°c d√≤ng m√† t·ªïng s·ªë byte g·∫ßn b·∫±ng ho·∫∑c v∆∞·ª£t qua hint. Tuy nhi√™n, nh∆∞ ƒë√£ n√≥i ·ªü tr√™n, n√≥ s·∫Ω ƒë·ªçc ƒë·∫ßy ƒë·ªß c√°c d√≤ng, ngay c·∫£ khi ƒëi·ªÅu n√†y khi·∫øn s·ªë byte v∆∞·ª£t qu√° hint.
									e.g		
									with open('example.txt', 'r') as f:
										lines = f.readlines(100)  # ƒê·ªçc c√°c d√≤ng cho ƒë·∫øn khi t·ªïng s·ªë byte l√† kho·∫£ng 100

		
		
		6. ƒê·ªçc file b·∫±ng constructor nh·∫≠n iterable 
							   
					// File Object c≈©ng l√† m·ªôt ki·ªÉu iterable -> ta c√≥ th·ªÉ s·ª≠ d·ª•ng constructor list 
					// C√°c constructor n√†y c≈©ng s·∫Ω ƒë∆∞a con tr·ªè file xu·ªëng cu·ªëi file.
								e.g
								file_obj = open('Dict.py' , mode='r+', encoding='utf-8')

								# L·∫•y ra n·ªôi dung file d·∫°ng List , v·ªõi m·ªói ph·∫ßn t·ª≠ l√† m·ªôt d√≤ng  
								list_content = list(file_obj)
								print(list_content)
								file_obj.close()
								
								
								# L·∫•y ra n·ªôi dung file d·∫°ng Tuple, v·ªõi m·ªói ph·∫ßn t·ª≠ l√† m·ªôt d√≤ng 
								file_obj = open('Dict.py' , mode='r+', encoding='utf-8')
								list_content = tuple(file_obj)
								print(list_content)
								
								# C√≥ th·ªÉ s·ª≠ d·ª•ng n√≥ nh∆∞ 1 iterable ·ªü c√°c ki·ªÉu d·ªØ li·ªáu kh√°c ....



		7. Ghi file 			<File>.write(text)	
									// Tr·∫£ v·ªÅ s·ªë k√Ω t·ª± m√† ch√∫ng ta ghi v√†o file 
									// File ph·∫£i ƒë∆∞·ª£c m·ªü b·∫±ng ch·∫ø ƒë·ªô write m·ªõi vi·∫øt ƒë∆∞·ª£c   
									// M·ªói l·∫ßn s·ª≠ d·ª•ng write , con tr·ªè s·∫Ω ƒë∆∞·ª£c ƒë·∫∑t ngay sau k√Ω t·ª± cu·ªëi c√πng ƒëc ghi
									// M·∫∂C ƒê·ªäNH GHI V√ÄO ƒê·∫¶U FILE n·∫øu k s·ª≠ d·ª•ng mode a 
									
									
									file_obj = open('Dict.py' , mode='a+', encoding='utf-8')    // ƒê·∫∑t con tr·ªè v√†o cu·ªëi File 
									file_obj.write('--SIGN--')  // MODE a  -> Ghi v√†o cu·ªëi file 
									
									
									
									
		8. Ki·ªÉm so√°t con tr·ªè  
			// Ph∆∞∆°ng th·ª©c seek	
				<File>.seek(offset, whence=0)		// Ph∆∞∆°ng th·ª©c gi√∫p ta di chuy·ªÉn con tr·ªè t·ª´ v·ªã tr√≠ 	ƒë·∫ßu file qua offset k√Ω t·ª±, V√† parameter offset ph·∫£i l√† m·ªôt s·ªë t·ª± nhi√™n 
														// Nh·ªù ƒë√≥ ta c√≥ th·ªÉ ghi n·ªôi dung b·∫•t c·ª© ƒë√¢u trong file 
														
														// T·ª´ ƒë√≥ ta c√≥ th·ªÉ ƒë·ªçc l·∫°i file sau khi ƒë∆∞a con tr·ªè xu·ªëng cu·ªëi file 
														
								
													// offset : S·ªë byte m√† mu·ªën di chuy·ªÉn con tr·ªè t·ª´ b·ªã tr√≠ ƒë∆∞·ª£c ch·ªâ ƒë·ªãnh b·ªüi whence 
														+ offset >= 0   // di chuy·ªÉn con tr·ªè v·ªÅ ph√≠a tr∆∞·ªõc 
														+ offset < 0  	// di chuy·ªÉn con tr·ªè l√πi v·ªÅ ph√≠a sau 
														
													// whence : V·ªã tr√≠ b·∫Øt ƒë·∫ßu ƒë·ªÉ di chuy·ªÉn con tr·ªè( 0 ƒë·∫ßu t·ªáp , 1 v·ªã tr√≠ hi·ªán t·∫°i, 2 cu·ªëi t·ªáp) , gi√° tr·ªã M·∫∂C ƒê·ªäNH = 0 -> t·ª©c l√† 0 l√† v·ªã tr√≠ ƒë·∫ßu t·ªáp 
														+ 0  // m·∫∑c ƒë·ªãnh, v·ªã tr√≠ ƒë·∫ßu t·ªáp 
														+ 1  // b·∫Øt ƒë·∫ßu t·ª´ v·ªã tr√≠ hi·ªán t·∫°i c·ªßa con tr·ªè 
														+ 2  // bƒÉt ƒë·∫ßu t·ª´ v·ªã tr√≠ cu·ªëi t·ªáp 
													
									e.g 					
								with open('example.txt', 'r') as f:					
									f.seek(6)  # whence=0 m·∫∑c ƒë·ªãnh		Con tr·ªè d·ª´ng t·∫°i Position th·ª© 6 trong file 
									print(f.read())  # In ra t·ª´ v·ªã tr√≠ th·ª© 6 	ƒë·∫øn h·∫øt file 
									
											
									with open('Dict.py', 'rb') as f:    // Ph·∫£i l√† ƒë·ªçc nh·ªã ph√¢n  th√¨ m·ªõi s·ª≠ d·ª•ng whence theo byte ƒëc 
										f.seek(-10, 2)  # Di chuy·ªÉn v·ªÅ 10 byte t·ª´ cu·ªëi t·ªáp		
										print(f.read())  # In ra t·ª´ v·ªã tr√≠ n√†y
								
								
								
		//C√¢u l·ªánh with  
		
				with expression [as variable]:
						with-block    
													// ƒêo·∫°n x·ª≠ l√Ω c·∫ßn d·ªØ li·ªáu t·ª´ with ph·∫£i th·ª•t d√≤ng ko th√¨ l·ªói 
													// C√¢u l·ªánh n√†y li√™n quan ƒë·∫øn ph∆∞∆°ng th·ª©c __enter__ v√† __exit__ c·ªßa ƒë·ªëi t∆∞·ª£ng 
													
													// Khi s·ª≠ d·ª•ng open file v·ªõi with , khi tho√°t kh·ªèi with FILE S·∫º ƒê∆Ø·ª¢C ƒê√ìNG 
										
										# C√≥ th·ªÉ k·∫øt h·ª£p s·ª≠ d·ª•ng :=
										with (file_obj := open('Dict.py', 'r')) : 		// As khi n√†o nhi·ªÅu ho·∫∑c r·ªëi qu√° th√¨ d√πng 
											data= file_obj.read()						# sau d√≤ng n√†y s·∫Ω ƒë√≥ng file 

										print(data)			



	
</pre><a id='backBottom' href='../python-learning-list.html' style='display:none;'>üîô Quay l·∫°i danh s√°ch</a><br><button onclick='toggleTheme()'>üåô Chuy·ªÉn giao di·ªán</button></div><script>function toggleTheme() {   let mode = document.body.classList.contains('dark-mode') ? 'light-mode' : 'dark-mode';   document.body.className = mode; localStorage.setItem('theme', mode);   syncTheme();}function applyTheme() {   let savedTheme = localStorage.getItem('theme') || 'dark-mode';   document.body.className = savedTheme;   syncTheme();}function syncTheme() {   let preElement = document.querySelector('pre');   if (document.body.classList.contains('dark-mode')) { preElement.style.background = '#1e1e1e'; preElement.style.color = '#e0e0e0'; }   else { preElement.style.background = '#f5f5f5'; preElement.style.color = '#333333'; }}function checkPageHeight() {   let contentHeight = document.body.scrollHeight;   let windowHeight = window.innerHeight;   if (contentHeight > windowHeight * 1.2) {       document.getElementById('backBottom').style.display = 'block';   } else {       document.getElementById('backBottom').style.display = 'none';   }}</script></body></html>