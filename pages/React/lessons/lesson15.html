<html><head><title>Lesson 15 == React Forms Submits ==========//</title><style>body { font-family: Arial, sans-serif; transition: background 0.3s, color 0.3s; }.dark-mode { background-color: #121212; color: #e0e0e0; }.light-mode { background-color: #ffffff; color: #333333; }h1 { text-align: center; color: #73d9f5; }pre { padding: 15px; border-radius: 5px;       white-space: pre-wrap; word-wrap: break-word;       overflow-x: auto; max-width: 100%;       transition: background 0.3s, color 0.3s; }.dark-mode pre { background: #1e1e1e; color: #e0e0e0; }.light-mode pre { background: #f5f5f5; color: #333333; }#backTop, #backBottom {    font-size: 2em; padding: 20px 40px;    background: #bb86fc; color: white; text-decoration: none;    border-radius: 10px; display: inline-block; text-align: center; }#backTop:hover, #backBottom:hover { background: #9b67e2; }button { font-size: 1.5em; padding: 15px 30px;    background: #03dac6; color: #121212; border: none;    cursor: pointer; border-radius: 5px; display: block; margin: 10px auto; }button:hover { background: #02b8a3; }.dark-mode a { color: #03dac6; } .light-mode a { color: #007bff; }</style></head><body onload='applyTheme(); checkPageHeight()'><div class='container'><a id='backTop' href='../react-learning-list.html'>ğŸ”™ Quay láº¡i danh sÃ¡ch</a><br><h1>Lesson 15 -- React Forms Submits -//</h1><pre>	
# 1. React Submit Forms lÃ  gÃ¬?

	Trong React, biá»ƒu máº«u (forms) Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ thu tháº­p dá»¯ liá»‡u tá»« ngÆ°á»i dÃ¹ng, cháº³ng háº¡n nhÆ° tÃªn, email, máº­t kháº©u, v.v. Khi ngÆ°á»i dÃ¹ng nháº¥n nÃºt "Submit" (gá»­i), báº¡n cáº§n xá»­ lÃ½ dá»¯ liá»‡u nÃ y, vÃ­ dá»¥ nhÆ° hiá»ƒn thá»‹ dá»¯ liá»‡u, gá»­i dá»¯ liá»‡u Ä‘áº¿n server, hoáº·c thá»±c hiá»‡n cÃ¡c hÃ nh Ä‘á»™ng khÃ¡c. React sá»­ dá»¥ng controlled components (thÃ nh pháº§n Ä‘Æ°á»£c kiá»ƒm soÃ¡t) Ä‘á»ƒ quáº£n lÃ½ dá»¯ liá»‡u biá»ƒu máº«u thÃ´ng qua state, vÃ  sá»± kiá»‡n onSubmit Ä‘á»ƒ xá»­ lÃ½ hÃ nh Ä‘á»™ng gá»­i biá»ƒu máº«u.


# 2. PhÃ¢n tÃ­ch vÃ­ dá»¥ 
	
import { useState } from 'react';
import { createRoot } from 'react-dom/client';

function MyForm() {
  const [name, setName] = useState("");

  function handleChange(e) {
    setName(e.target.value);
  }

  function handleSubmit(e) {
    e.preventDefault();
    alert(name);
  }

  return (
    <form onSubmit={handleSubmit}>
      <label>Enter your name:
        <input
          type="text" 
          value={name}
          onChange={handleChange}
        />
      </label>
      <input type="submit" />
    </form>
  )
}

createRoot(document.getElementById('root')).render(
  <MyForm />
);


	## Import cÃ¡c thÃ nh pháº§n cáº§n thiáº¿t 
	
		- useState tá»« React Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ quáº£n lÃ½ tráº¡ng thÃ¡i (state) cá»§a biá»ƒu máº«u.
		- createRoot tá»« react-dom/client Ä‘á»ƒ render á»©ng dá»¥ng React vÃ o DOM.


	## State name 
		
		- const [name, setName] = useState(""); táº¡o má»™t biáº¿n tráº¡ng thÃ¡i name vá»›i giÃ¡ trá»‹ ban Ä‘áº§u lÃ  chuá»—i rá»—ng ("").
		- name lÆ°u trá»¯ giÃ¡ trá»‹ mÃ  ngÆ°á»i dÃ¹ng nháº­p vÃ o Ã´ input.
		- setName lÃ  hÃ m dÃ¹ng Ä‘á»ƒ cáº­p nháº­t giÃ¡ trá»‹ cá»§a name.


	## HÃ m handleChange
	
		- HÃ m nÃ y Ä‘Æ°á»£c gá»i má»—i khi ngÆ°á»i dÃ¹ng nháº­p hoáº·c thay Ä‘á»•i dá»¯ liá»‡u trong Ã´ input (sá»± kiá»‡n onChange).
		- e.target.value láº¥y giÃ¡ trá»‹ hiá»‡n táº¡i cá»§a Ã´ input.
		- setName(e.target.value) cáº­p nháº­t state name vá»›i giÃ¡ trá»‹ má»›i, Ä‘áº£m báº£o Ã´ input luÃ´n Ä‘á»“ng bá»™ vá»›i state.	
		

	## HÃ m handleSubmit 
		
		- HÃ m nÃ y Ä‘Æ°á»£c gá»i khi ngÆ°á»i dÃ¹ng nháº¥n nÃºt "Submit" (gá»­i biá»ƒu máº«u).
		- e.preventDefault() ngÄƒn cháº·n hÃ nh vi máº·c Ä‘á»‹nh cá»§a biá»ƒu máº«u (ngÄƒn trang web táº£i láº¡i khi gá»­i biá»ƒu máº«u, Ä‘iá»u thÆ°á»ng xáº£y ra trong HTML truyá»n thá»‘ng).
		- alert(name) hiá»ƒn thá»‹ giÃ¡ trá»‹ cá»§a name trong má»™t há»™p thoáº¡i cáº£nh bÃ¡o (alert).


	## JSX cá»§a biá»ƒu máº«u: 
		
		- <form onSubmit={handleSubmit}>: Gáº¯n sá»± kiá»‡n onSubmit vá»›i hÃ m handleSubmit. Khi biá»ƒu máº«u Ä‘Æ°á»£c gá»­i (báº±ng cÃ¡ch nháº¥n nÃºt submit hoáº·c phÃ­m Enter), handleSubmit sáº½ Ä‘Æ°á»£c gá»i.
		- <input type="text" value={name} onChange={handleChange} />: Ã” input lÃ  má»™t controlled input (Ã´ nháº­p Ä‘Æ°á»£c kiá»ƒm soÃ¡t), nghÄ©a lÃ  giÃ¡ trá»‹ cá»§a nÃ³ Ä‘Æ°á»£c Ä‘iá»u khiá»ƒn bá»Ÿi state name. Má»—i khi ngÆ°á»i dÃ¹ng nháº­p, sá»± kiá»‡n onChange sáº½ gá»i handleChange Ä‘á»ƒ cáº­p nháº­t state.
		- <input type="submit" />: NÃºt submit Ä‘á»ƒ gá»­i biá»ƒu máº«u.

	## Render á»©ng dá»¥ng: 
		createRoot(document.getElementById('root')).render(<MyForm />); render component MyForm vÃ o pháº§n tá»­ cÃ³ id="root" trong DOM.


Khi báº¡n nháº­p tÃªn vÃ o Ã´ input, giÃ¡ trá»‹ Ä‘Æ°á»£c lÆ°u vÃ o state name.
Khi nháº¥n nÃºt "Submit", má»™t há»™p thoáº¡i alert sáº½ hiá»ƒn thá»‹ giÃ¡ trá»‹ cá»§a name.
Trang web khÃ´ng táº£i láº¡i nhá» e.preventDefault().


# 3. Hiá»ƒu sÃ¢u hÆ¡n vá» Controlled Components

	Trong vÃ­ dá»¥ trÃªn, Ã´ input lÃ  má»™t controlled component (thÃ nh pháº§n Ä‘Æ°á»£c kiá»ƒm soÃ¡t), nghÄ©a lÃ :
	
		- GiÃ¡ trá»‹ cá»§a Ã´ input (value={name}) Ä‘Æ°á»£c liÃªn káº¿t trá»±c tiáº¿p vá»›i state name.
		- Má»i thay Ä‘á»•i trong Ã´ input Ä‘á»u Ä‘Æ°á»£c xá»­ lÃ½ qua sá»± kiá»‡n onChange, cáº­p nháº­t state, vÃ  state láº¡i cáº­p nháº­t giÃ¡ trá»‹ cá»§a Ã´ input.
		- Äiá»u nÃ y Ä‘áº£m báº£o React luÃ´n kiá»ƒm soÃ¡t hoÃ n toÃ n giÃ¡ trá»‹ cá»§a biá»ƒu máº«u, giÃºp dá»… dÃ ng xá»­ lÃ½ dá»¯ liá»‡u, xÃ¡c thá»±c (validation), hoáº·c gá»­i dá»¯ liá»‡u Ä‘i nÆ¡i khÃ¡c.


	## Táº¡i sao cáº§n controlled components? 
		- Äá»“ng bá»™ hÃ³a dá»¯ liá»‡u giá»¯a giao diá»‡n vÃ  state.
		- Dá»… dÃ ng xÃ¡c thá»±c dá»¯ liá»‡u (vÃ­ dá»¥: kiá»ƒm tra email há»£p lá»‡, Ä‘á»™ dÃ i máº­t kháº©u).
		- Dá»… dÃ ng xá»­ lÃ½ dá»¯ liá»‡u khi gá»­i biá»ƒu máº«u (gá»­i Ä‘áº¿n API, hiá»ƒn thá»‹ káº¿t quáº£, v.v.).	
	
	
	
	## So sÃ¡nh vá»›i uncontrolled components: 
		Trong uncontrolled components, báº¡n khÃ´ng sá»­ dá»¥ng state Ä‘á»ƒ quáº£n lÃ½ giÃ¡ trá»‹ input mÃ  sá»­ dá»¥ng ref Ä‘á»ƒ truy cáº­p giÃ¡ trá»‹ trá»±c tiáº¿p tá»« DOM. Äiá»u nÃ y Ã­t phá»• biáº¿n hÆ¡n trong React vÃ¬ nÃ³ lÃ m máº¥t Ä‘i tÃ­nh kiá»ƒm soÃ¡t cá»§a React.
	
	
# 	4. VÃ­ dá»¥ má»Ÿ rá»™ng: Biá»ƒu máº«u phá»©c táº¡p hÆ¡n

	Äá»ƒ giÃºp báº¡n hiá»ƒu sÃ¢u hÆ¡n, tÃ´i sáº½ táº¡o má»™t vÃ­ dá»¥ má»Ÿ rá»™ng vá»›i nhiá»u trÆ°á»ng nháº­p liá»‡u (name, email) vÃ  xá»­ lÃ½ dá»¯ liá»‡u khi gá»­i biá»ƒu máº«u.	
	
	
import { useState } from 'react';
import { createRoot } from 'react-dom/client';

function MyForm() {
  const [formData, setFormData] = useState({
    name: '',
    email: '',
  });

  function handleChange(e) {
    const { name, value } = e.target; // Láº¥y name vÃ  value tá»« input
    setFormData((prevData) => ({
      ...prevData,
      [name]: value, // Cáº­p nháº­t Ä‘á»™ng dá»±a trÃªn tÃªn trÆ°á»ng
    }));
  }

  function handleSubmit(e) {
    e.preventDefault();
    if (!formData.name || !formData.email) {
      alert('Please fill out all fields!');
      return;
    }
    alert(`Submitted: Name = ${formData.name}, Email = ${formData.email}`);
    // CÃ³ thá»ƒ gá»­i dá»¯ liá»‡u Ä‘áº¿n API á»Ÿ Ä‘Ã¢y
    setFormData({ name: '', email: '' }); // Reset biá»ƒu máº«u
  }

  return (
    <form onSubmit={handleSubmit}>
      <label>
        Name:
        <input
          type="text"
          name="name"
          value={formData.name}
          onChange={handleChange}
        />
      </label>
      <br />
      <label>
        Email:
        <input
          type="email"
          name="email"
          value={formData.email}
          onChange={handleChange}
        />
      </label>
      <br />
      <input type="submit" value="Submit" />
    </form>
  );
}

createRoot(document.getElementById('root')).render(<MyForm />);	
	
	
# 	5. Káº¿t há»£p vá»›i React Transitions
	
import { useState } from 'react';
import { CSSTransition } from 'react-transition-group';
import { createRoot } from 'react-dom/client';
import './style.css';

function MyForm() {
  const [formData, setFormData] = useState({
    name: '',
    email: '',
  });
  const [submitted, setSubmitted] = useState(false);

  function handleChange(e) {
    const { name, value } = e.target;
    setFormData((prevData) => ({
      ...prevData,
      [name]: value,
    }));
  }

  function handleSubmit(e) {
    e.preventDefault();
    if (!formData.name || !formData.email) {
      alert('Please fill out all fields!');
      return;
    }
    setSubmitted(true);
    setTimeout(() => setSubmitted(false), 3000); // áº¨n thÃ´ng bÃ¡o sau 3 giÃ¢y
    setFormData({ name: '', email: '' });
  }

  return (
    <div>
      <form onSubmit={handleSubmit}>
        <label>
          Name:
          <input
            type="text"
            name="name"
            value={formData.name}
            onChange={handleChange}
          />
        </label>
        <br />
        <label>
          Email:
          <input
            type="email"
            name="email"
            value={formData.email}
            onChange={handleChange}
          />
        </label>
        <br />
        <input type="submit" value="Submit" />
      </form>

      <CSSTransition
        in={submitted}
        timeout={300}
        classNames="fade"
        unmountOnExit
      >
        <div className="success-message">
          <p>Form submitted successfully!</p>
        </div>
      </CSSTransition>
    </div>
  );
}

createRoot(document.getElementById('root')).render(<MyForm />);	
	
	
CSS (style.css):	
	
.success-message {
  background-color: lightgreen;
  padding: 10px;
  border-radius: 5px;
  margin-top: 10px;
}

.fade-enter {
  opacity: 0;
}
.fade-enter-active {
  opacity: 1;
  transition: opacity 300ms;
}
.fade-exit {
  opacity: 1;
}
.fade-exit-active {
  opacity: 0;
  transition: opacity 300ms;
}	
	
	
# Gá»­i dá»¯ liá»‡u Ä‘áº¿n server	
	
async function handleSubmit(e) {
  e.preventDefault();
  const response = await fetch('/api/submit', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(formData),
  });
  const result = await response.json();
  alert(result.message);
}

</pre><a id='backBottom' href='../react-learning-list.html' style='display:none;'>ğŸ”™ Quay láº¡i danh sÃ¡ch</a><br><button onclick='toggleTheme()'>ğŸŒ™ Chuyá»ƒn giao diá»‡n</button></div><script>function toggleTheme() {   let mode = document.body.classList.contains('dark-mode') ? 'light-mode' : 'dark-mode';   document.body.className = mode; localStorage.setItem('theme', mode);   syncTheme();}function applyTheme() {   let savedTheme = localStorage.getItem('theme') || 'dark-mode';   document.body.className = savedTheme;   syncTheme();}function syncTheme() {   let preElement = document.querySelector('pre');   if (document.body.classList.contains('dark-mode')) { preElement.style.background = '#1e1e1e'; preElement.style.color = '#e0e0e0'; }   else { preElement.style.background = '#f5f5f5'; preElement.style.color = '#333333'; }}function checkPageHeight() {   let contentHeight = document.body.scrollHeight;   let windowHeight = window.innerHeight;   if (contentHeight > windowHeight * 1.2) {       document.getElementById('backBottom').style.display = 'block';   } else {       document.getElementById('backBottom').style.display = 'none';   }}</script></body></html>