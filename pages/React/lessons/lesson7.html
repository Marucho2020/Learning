<html><head><title>Lesson 7 == React Class ==========//</title><style>body { font-family: Arial, sans-serif; transition: background 0.3s, color 0.3s; }.dark-mode { background-color: #121212; color: #e0e0e0; }.light-mode { background-color: #ffffff; color: #333333; }h1 { text-align: center; color: #73d9f5; }pre { padding: 15px; border-radius: 5px;       white-space: pre-wrap; word-wrap: break-word;       overflow-x: auto; max-width: 100%;       transition: background 0.3s, color 0.3s; }.dark-mode pre { background: #1e1e1e; color: #e0e0e0; }.light-mode pre { background: #f5f5f5; color: #333333; }#backTop, #backBottom {    font-size: 2em; padding: 20px 40px;    background: #bb86fc; color: white; text-decoration: none;    border-radius: 10px; display: inline-block; text-align: center; }#backTop:hover, #backBottom:hover { background: #9b67e2; }button { font-size: 1.5em; padding: 15px 30px;    background: #03dac6; color: #121212; border: none;    cursor: pointer; border-radius: 5px; display: block; margin: 10px auto; }button:hover { background: #02b8a3; }.dark-mode a { color: #03dac6; } .light-mode a { color: #007bff; }</style></head><body onload='applyTheme(); checkPageHeight()'><div class='container'><a id='backTop' href='../react-learning-list.html'>üîô Quay l·∫°i danh s√°ch</a><br><h1>Lesson 7 -- React Class -//</h1><pre># 1. T·ªïng quan v·ªÅ Class Components
	T√≥m t·∫Øt: Tr∆∞·ªõc React 16.8, Class Components l√† c√°ch duy nh·∫•t ƒë·ªÉ qu·∫£n l√Ω tr·∫°ng th√°i (state) v√† v√≤ng ƒë·ªùi (lifecycle) trong React. Hi·ªán nay, Function Components v·ªõi Hooks ƒë√£ thay th·∫ø g·∫ßn nh∆∞ ho√†n to√†n, nh∆∞ng Class Components v·∫´n ƒë∆∞·ª£c h·ªó tr·ª£ v√† h·ªØu √≠ch khi l√†m vi·ªác v·ªõi m√£ c≈©.

	Class Components l√† g√¨?: L√† c√°c component ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a b·∫±ng c√∫ ph√°p class c·ªßa ES6, k·∫ø th·ª´a t·ª´ React.Component. Ch√∫ng s·ª≠ d·ª•ng ph∆∞∆°ng th·ª©c render() ƒë·ªÉ tr·∫£ v·ªÅ JSX v√† c√≥ th·ªÉ qu·∫£n l√Ω state, props, v√† c√°c lifecycle methods.


	## So s√°nh v·ªõi Function Components: 
		Class Components: C√∫ ph√°p ph·ª©c t·∫°p h∆°n, s·ª≠ d·ª•ng this, c·∫ßn constructor v√† super() ƒë·ªÉ kh·ªüi t·∫°o. H·ªó tr·ª£ state v√† lifecycle methods m·ªôt c√°ch t·ª± nhi√™n.
		
		Function Components: Ng·∫Øn g·ªçn, d·ªÖ ƒë·ªçc, k·∫øt h·ª£p Hooks ƒë·ªÉ x·ª≠ l√Ω state v√† lifecycle. ƒê∆∞·ª£c khuy·∫øn ngh·ªã t·ª´ React 16.8.


	## T·∫°i sao c·∫ßn h·ªçc Class Components?:
	
		- Nhi·ªÅu d·ª± √°n c≈© v·∫´n s·ª≠ d·ª•ng Class Components.
		- Hi·ªÉu Class Components gi√∫p b·∫°n d·ªÖ d√†ng chuy·ªÉn ƒë·ªïi sang Function Components ho·∫∑c b·∫£o tr√¨ m√£ legacy.
		- M·ªôt s·ªë kh√°i ni·ªám (nh∆∞ lifecycle) v·∫´n √°p d·ª•ng khi h·ªçc Hooks.	
	
	
	
# 2. T·∫°o Class Component 
	T√≥m t·∫Øt: Class Component ph·∫£i k·∫ø th·ª´a React.Component, c√≥ ph∆∞∆°ng th·ª©c render() tr·∫£ v·ªÅ JSX, v√† t√™n component ph·∫£i b·∫Øt ƒë·∫ßu b·∫±ng ch·ªØ in hoa.
	
	## C√∫ ph√°p c∆° b·∫£n 
		
class Car extends React.Component {
  render() {
    return <h2>Hi, I am a Car!</h2>;
  }
}

	- extends React.Component: K·∫ø th·ª´a c√°c t√≠nh nƒÉng c·ªßa React, nh∆∞ state v√† lifecycle methods.
	- render(): Ph∆∞∆°ng th·ª©c b·∫Øt bu·ªôc, tr·∫£ v·ªÅ JSX ƒë·ªÉ hi·ªÉn th·ªã giao di·ªán.
	- Car: T√™n component, b·∫Øt ƒë·∫ßu b·∫±ng ch·ªØ in hoa (quy t·∫Øc React).	


	## S·ª≠ d·ª•ng:

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(<Car />);

G·ªçi component nh∆∞ th·∫ª HTML: <Car />.
K·∫øt qu·∫£: <h2>Hi, I am a Car!</h2> ƒë∆∞·ª£c hi·ªÉn th·ªã.


	## S√¢u s·∫Øc h∆°n:
	
	Quy t·∫Øc ƒë·∫∑t t√™n: T√™n in hoa gi√∫p React ph√¢n bi·ªát component (nh∆∞ <Car />) v·ªõi th·∫ª HTML (nh∆∞ <div>).
	
	JSX: N·ªôi dung trong render() ph·∫£i tu√¢n theo quy t·∫Øc JSX (m·ªôt ph·∫ßn t·ª≠ c·∫•p cao nh·∫•t, ƒë√≥ng th·∫ª ƒë√∫ng c√°ch).
	
	
# 	3. Constructor v√† State
	T√≥m t·∫Øt: Constructor kh·ªüi t·∫°o state v√† props. State l√† m·ªôt object l∆∞u tr·ªØ d·ªØ li·ªáu c·ªßa component, khi thay ƒë·ªïi s·∫Ω k√≠ch ho·∫°t re-render.	
	
	## Constructor 
class Car extends React.Component {
  constructor() {
    super();
    this.state = { color: "red" };
  }
  render() {
    return <h2>I am a {this.state.color} Car!</h2>;
  }
}	
	
	
	- constructor(): ƒê∆∞·ª£c g·ªçi khi component kh·ªüi t·∫°o.
	- super(): G·ªçi constructor c·ªßa React.Component, ƒë·∫£m b·∫£o component k·∫ø th·ª´a c√°c t√≠nh nƒÉng c·ªßa l·ªõp cha.
	- this.state: Kh·ªüi t·∫°o object state v·ªõi thu·ªôc t√≠nh color.
	- this.state.color: Truy c·∫≠p state trong render() ƒë·ªÉ hi·ªÉn th·ªã ƒë·ªông.
	
	
	
	## S·ª≠ d·ª•ng state 
	
	State l√† n∆°i l∆∞u tr·ªØ d·ªØ li·ªáu n·ªôi b·ªô c·ªßa component (v√≠ d·ª•: m√†u s·∫Øc, tr·∫°ng th√°i giao di·ªán).
	Khi state thay ƒë·ªïi (qua this.setState()), component s·∫Ω t·ª± ƒë·ªông re-render.
	
class Car extends React.Component {
  constructor() {
    super();
    this.state = { color: "red" };
  }
  render() {
    return <h2>I am a {this.state.color} Car!</h2>;
  }
}

	## State vs Props:
		State: D·ªØ li·ªáu n·ªôi b·ªô, c√≥ th·ªÉ thay ƒë·ªïi b·ªüi component (qua this.setState()).
		Props: D·ªØ li·ªáu truy·ªÅn t·ª´ b√™n ngo√†i, ch·ªâ ƒë·ªçc (read-only).

	Kh√¥ng s·ª≠a state tr·ª±c ti·∫øp: Lu√¥n d√πng this.setState() ƒë·ªÉ c·∫≠p nh·∫≠t state, ƒë·∫£m b·∫£o React nh·∫≠n bi·∫øt thay ƒë·ªïi v√† re-render.

# 4. Props trong Class Components
	T√≥m t·∫Øt: Props l√† c√°c thu·ªôc t√≠nh truy·ªÅn v√†o component t·ª´ b√™n ngo√†i, truy c·∫≠p qua this.props.

	## 	V√≠ d·ª• 

class Car extends React.Component {
  render() {
    return <h2>I am a {this.props.color} Car!</h2>;
  }
}

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(<Car color="red" />);
	
	
	<Car color="red" />: Truy·ªÅn prop color v·ªõi gi√° tr·ªã "red".
	this.props.color: Truy c·∫≠p prop trong render().
	K·∫øt qu·∫£: <h2>I am a red Car!</h2>.	
	
	
	
	## Props trong constructor:
		N·∫øu component c√≥ constructor, props ph·∫£i ƒë∆∞·ª£c truy·ªÅn v√†o v√† g·ª≠i t·ªõi super():
		
class Car extends React.Component {
  constructor(props) {
    super(props);
  }
  render() {
    return <h2>I am a {this.props.model}!</h2>;
  }
}

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(<Car model="Mustang" />);	
	
	constructor(props) v√† super(props): ƒê·∫£m b·∫£o props c√≥ th·ªÉ truy c·∫≠p qua this.props.
	
	Props l√† c√°ch ƒë·ªÉ component nh·∫≠n d·ªØ li·ªáu ƒë·ªông, gi√∫p t√°i s·ª≠ d·ª•ng component v·ªõi c√°c gi√° tr·ªã kh√°c nhau.
	Props c√≥ th·ªÉ l√† b·∫•t k·ª≥ ki·ªÉu d·ªØ li·ªáu: chu·ªói, s·ªë, object, h√†m, ho·∫∑c th·∫≠m ch√≠ component kh√°c.
	
	
	
	
# 	5. Components l·ªìng Components 
	T√≥m t·∫Øt: Class Components c√≥ th·ªÉ ƒë∆∞·ª£c l·ªìng trong nhau ƒë·ªÉ t·∫°o giao di·ªán ph·ª©c t·∫°p.
	
	## V√≠ d·ª•:
	
class Car extends React.Component {
  render() {
    return <h2>I am a Car!</h2>;
  }
}

class Garage extends React.Component {
  render() {
    return (
      <div>
        <h1>Who lives in my Garage?</h1>
        <Car />
      </div>
    );
  }
}

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(<Garage />);	
	
	Garage l√† component cha, ch·ª©a component con Car.
	
<div>
  <h1>Who lives in my Garage?</h1>
  <h2>I am a Car!</h2>
</div>	
	
	L·ªìng component gi√∫p chia nh·ªè giao di·ªán th√†nh c√°c ph·∫ßn ƒë·ªôc l·∫≠p, d·ªÖ b·∫£o tr√¨.
	Component con c√≥ th·ªÉ nh·∫≠n props t·ª´ component cha ƒë·ªÉ hi·ªÉn th·ªã d·ªØ li·ªáu ƒë·ªông.
	
	
# 6. Components trong File ri√™ng	
	T√≥m t·∫Øt: ƒê·∫∑t Class Components trong c√°c file .js ri√™ng ƒë·ªÉ t√°i s·ª≠ d·ª•ng v√† t·ªï ch·ª©c m√£ t·ªët h∆°n.
	
	Gi·∫£i th√≠ch chi ti·∫øt:
	
	## T·∫°o file Car.js 
import React from 'react';

class Car extends React.Component {
  render() {
    return <h2>Hi, I am a Car!</h2>;
  }
}

export default Car; 	
	
	##  S·ª≠ d·ª•ng trong index.js
	
import React from 'react';
import ReactDOM from 'react-dom/client';
import Car from './Car.js';

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(<Car />);	
	
	
	
# 7. State v√† Lifecycle Methods

	T√≥m t·∫Øt: Class Components c√≥ state ƒë·ªÉ l∆∞u tr·ªØ d·ªØ li·ªáu n·ªôi b·ªô v√† c√°c lifecycle methods ƒë·ªÉ qu·∫£n l√Ω v√≤ng ƒë·ªùi (mounting, updating, unmounting).
	
	
	## 7.1. State
		Kh·ªüi t·∫°o state:
		
class Car extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      brand: "Ford",
      model: "Mustang",
      color: "red",
      year: 1964
    };
  }
  render() {
    return (
      <div>
        <h1>My {this.state.brand}</h1>
        <p>It is a {this.state.color} {this.state.model} from {this.state.year}.</p>
      </div>
    );
  }
}	
	
	this.state: Kh·ªüi t·∫°o trong constructor v·ªõi c√°c thu·ªôc t√≠nh nh∆∞ brand, model.
	K·∫øt qu·∫£: Hi·ªÉn th·ªã th√¥ng tin xe d·ª±a tr√™n state.
	
	
	## C·∫≠p nh·∫≠t state 
		S·ª≠ d·ª•ng this.setState() ƒë·ªÉ thay ƒë·ªïi state v√† k√≠ch ho·∫°t re-render:
	
class Car extends React.Component {
  constructor(props) {
    super(props);
    this.state = { color: "red" };
  }
  changeColor = () => {
    this.setState({ color: "blue" });
  }
  render() {
    return (
      <div>
        <h1>My Car is {this.state.color}</h1>
        <button onClick={this.changeColor}>Change color</button>
      </div>
    );
  }
}	
	
	this.setState({ color: "blue" }): C·∫≠p nh·∫≠t color, khi·∫øn component re-render v·ªõi gi√° tr·ªã m·ªõi.
	
	
# 7.2. Lifecycle Methods	
	Class Components c√≥ c√°c ph∆∞∆°ng th·ª©c ƒë·∫∑c bi·ªát ƒë·ªÉ x·ª≠ l√Ω c√°c giai ƒëo·∫°n trong v√≤ng ƒë·ªùi c·ªßa component: Mounting, Updating, v√† Unmounting.
	
	## Mounting (Khi component ƒë∆∞·ª£c t·∫°o v√† th√™m v√†o DOM) 
	
		- constructor(): Kh·ªüi t·∫°o state v√† props.
		- componentDidMount(): Ch·∫°y sau khi component ƒë∆∞·ª£c render l·∫ßn ƒë·∫ßu. Th∆∞·ªùng d√πng ƒë·ªÉ g·ªçi API ho·∫∑c thi·∫øt l·∫≠p timer: 
	
class Header extends React.Component {
  constructor(props) {
    super(props);
    this.state = { favoritecolor: "red" };
  }
  componentDidMount() {
    setTimeout(() => {
      this.setState({ favoritecolor: "yellow" });
    }, 1000);
  }
  render() {
    return <h1>My Favorite Color is {this.state.favoritecolor}</h1>;
  }
}	
	
	## Updating (Khi state ho·∫∑c props thay ƒë·ªïi):
		shouldComponentUpdate(): Quy·∫øt ƒë·ªãnh c√≥ re-render hay kh√¥ng. M·∫∑c ƒë·ªãnh tr·∫£ v·ªÅ true:
	
class Header extends React.Component {
  constructor(props) {
    super(props);
    this.state = { favoritecolor: "red" };
  }
  shouldComponentUpdate() {
    return true; // Cho ph√©p re-render
  }
  changeColor = () => {
    this.setState({ favoritecolor: "blue" });
  }
  render() {
    return (
      <div>
        <h1>My Favorite Color is {this.state.favoritecolor}</h1>
        <button onClick={this.changeColor}>Change color</button>
      </div>
    );
  }
}	
	
	
	## getSnapshotBeforeUpdate(prevProps, prevState): L∆∞u l·∫°i gi√° tr·ªã tr∆∞·ªõc khi update. C·∫ßn ƒëi k√®m componentDidUpdate:

class Header extends React.Component {
  constructor(props) {
    super(props);
    this.state = { favoritecolor: "red" };
  }
  componentDidMount() {
    setTimeout(() => {
      this.setState({ favoritecolor: "yellow" });
    }, 1000);
  }
  getSnapshotBeforeUpdate(prevProps, prevState) {
    document.getElementById("div1").innerHTML =
      "Before the update, the favorite was " + prevState.favoritecolor;
    return null;
  }
  componentDidUpdate() {
    document.getElementById("div2").innerHTML =
      "The updated favorite is " + this.state.favoritecolor;
  }
  render() {
    return (
      <div>
        <h1>My Favorite Color is {this.state.favoritecolor}</h1>
        <div id="div1"></div>
        <div id="div2"></div>
      </div>
    );
  }
}


	## Unmounting (Khi component b·ªã x√≥a kh·ªèi DOM)
		componentWillUnmount(): Ch·∫°y tr∆∞·ªõc khi component b·ªã x√≥a, th∆∞·ªùng d√πng ƒë·ªÉ d·ªçn d·∫πp (nh∆∞ clear timer):
		
class Container extends React.Component {
  constructor(props) {
    super(props);
    this.state = { show: true };
  }
  delHeader = () => {
    this.setState({ show: false });
  }
  render() {
    let myheader;
    if (this.state.show) {
      myheader = <Child />;
    }
    return (
      <div>
        {myheader}
        <button onClick={this.delHeader}>Delete Header</button>
      </div>
    );
  }
}

class Child extends React.Component {
  componentWillUnmount() {
    alert("The component named Header is about to be unmounted.");
  }
  render() {
    return <h1>Hello World!</h1>;
  }
}



# S√¢u s·∫Øc h∆°n:

State: Ch·ªâ n√™n d√πng cho d·ªØ li·ªáu thay ƒë·ªïi v√† ·∫£nh h∆∞·ªüng ƒë·∫øn giao di·ªán. D√πng this.setState() ƒë·ªÉ ƒë·∫£m b·∫£o re-render.
Lifecycle Methods: Gi√∫p ki·ªÉm so√°t h√†nh vi c·ªßa component ·ªü c√°c giai ƒëo·∫°n kh√°c nhau. Hooks (nh∆∞ useEffect) thay th·∫ø ch√∫ng trong Function Components.
T·ªëi ∆∞u h√≥a: shouldComponentUpdate c√≥ th·ªÉ d√πng ƒë·ªÉ ngƒÉn re-render kh√¥ng c·∫ßn thi·∫øt, c·∫£i thi·ªán hi·ªáu su·∫•t.


# 8. V√≠ d·ª• th·ª±c t·∫ø

// Car.js
import React from 'react';

class Car extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      brand: "Toyota",
      color: "blue",
      isRunning: false
    };
  }
  componentDidMount() {
    console.log("Car component mounted");
  }
  toggleEngine = () => {
    this.setState({ isRunning: !this.state.isRunning });
  }
  render() {
    return (
      <div>
        <h1>My {this.props.type} Car</h1>
        <p>It is a {this.state.color} {this.state.brand}.</p>
        <p>Engine: {this.state.isRunning ? "Running" : "Stopped"}</p>
        <button onClick={this.toggleEngine}>
          {this.state.isRunning ? "Stop" : "Start"} Engine
        </button>
      </div>
    );
  }
}
export default Car;

// index.js
import React from 'react';
import ReactDOM from 'react-dom/client';
import Car from './Car';

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(<Car type="Sports" />);




# 9. B√†i h·ªçc r√∫t ra 

	- Class Components: S·ª≠ d·ª•ng class, k·∫ø th·ª´a React.Component, c·∫ßn render().
	- State: L∆∞u tr·ªØ d·ªØ li·ªáu n·ªôi b·ªô, c·∫≠p nh·∫≠t b·∫±ng this.setState().
	- Props: Truy·ªÅn d·ªØ li·ªáu t·ª´ ngo√†i v√†o, truy c·∫≠p qua this.props.
	- Lifecycle Methods: Qu·∫£n l√Ω v√≤ng ƒë·ªùi (mounting, updating, unmounting).
	- File ri√™ng: T√°ch component ƒë·ªÉ t√°i s·ª≠ d·ª•ng.



</pre><a id='backBottom' href='../react-learning-list.html' style='display:none;'>üîô Quay l·∫°i danh s√°ch</a><br><button onclick='toggleTheme()'>üåô Chuy·ªÉn giao di·ªán</button></div><script>function toggleTheme() {   let mode = document.body.classList.contains('dark-mode') ? 'light-mode' : 'dark-mode';   document.body.className = mode; localStorage.setItem('theme', mode);   syncTheme();}function applyTheme() {   let savedTheme = localStorage.getItem('theme') || 'dark-mode';   document.body.className = savedTheme;   syncTheme();}function syncTheme() {   let preElement = document.querySelector('pre');   if (document.body.classList.contains('dark-mode')) { preElement.style.background = '#1e1e1e'; preElement.style.color = '#e0e0e0'; }   else { preElement.style.background = '#f5f5f5'; preElement.style.color = '#333333'; }}function checkPageHeight() {   let contentHeight = document.body.scrollHeight;   let windowHeight = window.innerHeight;   if (contentHeight > windowHeight * 1.2) {       document.getElementById('backBottom').style.display = 'block';   } else {       document.getElementById('backBottom').style.display = 'none';   }}</script></body></html>